{"version":3,"file":"20230308-app-frame-22fb85ccb14809878619.js","mappings":"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","sources":["webpack://care-ops-frontend/./src/js/utils/formatting/remove-newline.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/check_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/state_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/owner_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/due_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/time_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/duration_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/actions_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-sidebar_views.js","webpack://care-ops-frontend/./src/js/views/patients/shared/comments_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-sidebar-activity-views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-sidebar-attachments-views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/action-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/patients/shared/flows_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/flow/flow-sidebar_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/flow/flow-sidebar-activity-views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/flow-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/programs-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/programs/sidebar/program-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/programs/shared/components/published_component.js","webpack://care-ops-frontend/./src/js/views/shared/components/team/index.js","webpack://care-ops-frontend/./src/js/views/programs/shared/flows_views.js","webpack://care-ops-frontend/./src/js/views/programs/shared/components/tags-manager_component.js","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/programs/sidebar/flow-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/programs/shared/components/form_component.js","webpack://care-ops-frontend/./src/js/views/programs/shared/components/dueday_component.js","webpack://care-ops-frontend/./src/js/views/programs/shared/actions_views.js","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/programs/sidebar/action-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/clinicians/shared/components/role_component.js","webpack://care-ops-frontend/./src/js/views/shared/components/workspaces-manager/index.js","webpack://care-ops-frontend/./src/js/views/clinicians/shared/clinicians_views.js","webpack://care-ops-frontend/./src/js/views/clinicians/sidebar/clinician-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/clinicians/sidebar/clinician-sidebar_app.js","webpack://care-ops-frontend/./src/js/utils/patient-template.js","webpack://care-ops-frontend/./src/js/views/patients/widgets/widgets.js","webpack://care-ops-frontend/./src/js/views/patients/widgets/widgets_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/patient/patient-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/patient-sidebar_app.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/filters_state.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/filters/filters-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/filters-sidebar_app.js","webpack://care-ops-frontend/./src/js/services/sidebar.js","webpack://care-ops-frontend/./src/js/views/globals/search/patient-search_views.js","webpack://care-ops-frontend/./src/js/apps/globals/search_app.js","webpack://care-ops-frontend/./src/js/views/globals/app-nav/app-nav_views.js","webpack://care-ops-frontend/./src/js/views/globals/patient-modal/patient-modal_views.js","webpack://care-ops-frontend/./src/js/apps/globals/nav_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/sidebar/sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/sidebar/sidebar_app.js","webpack://care-ops-frontend/./src/js/views/forms/form/widgets/widget_header_view.js","webpack://care-ops-frontend/./src/js/apps/forms/widgets/widgets_header_app.js","webpack://care-ops-frontend/./src/js/views/forms/form/form_views.js","webpack://care-ops-frontend/./src/js/apps/forms/form/form_app.js","webpack://care-ops-frontend/./src/js/apps/forms/form/form-patient_app.js","webpack://care-ops-frontend/./src/js/apps/forms/form/form-preview_app.js","webpack://care-ops-frontend/./src/js/apps/forms/forms-main_app.js","webpack://care-ops-frontend/./src/js/base/subrouterapp.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/flow/flow_state.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/action/action_app.js","webpack://care-ops-frontend/./src/js/views/patients/shared/bulk-edit/bulk-edit_views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/bulk-edit-actions_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/flow/flow_views.js","webpack://care-ops-frontend/./src/js/views/patients/shared/add-workflow/add-workflow_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/flow/flow_app.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/dashboard/add-workflow_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/dashboard_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/dashboard/dashboard_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/archive/archive_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/archive/archive_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/patient_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/patient_app.js","webpack://care-ops-frontend/./src/js/apps/patients/worklist/worklist_state.js","webpack://care-ops-frontend/./src/js/utils/formatting/build-matchers-array.js","webpack://care-ops-frontend/./src/js/views/patients/worklist/action_views.js","webpack://care-ops-frontend/./src/js/views/patients/worklist/flow_views.js","webpack://care-ops-frontend/./src/js/views/patients/worklist/worklist_views.js","webpack://care-ops-frontend/./src/js/apps/patients/worklist/filters_app.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/bulk-edit-flows_app.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/date-filter/date-filter_views.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/date-filter/date-filter_state.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/date-filter/index.js","webpack://care-ops-frontend/./src/js/views/shared/components/list-search/list-search_views.js","webpack://care-ops-frontend/./src/js/views/shared/components/list-search/index.js","webpack://care-ops-frontend/./src/js/apps/patients/worklist/worklist_sort.js","webpack://care-ops-frontend/./src/js/apps/patients/worklist/worklist_app.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/schedule_state.js","webpack://care-ops-frontend/./src/js/views/patients/schedule/schedule_views.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/filters_app.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/schedule_app.js","webpack://care-ops-frontend/./src/js/apps/patients/patients-main_app.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/reduced_schedule_app.js","webpack://care-ops-frontend/./src/js/apps/patients/reduced-patients-main_app.js","webpack://care-ops-frontend/./src/js/views/clinicians/clinicians-all_views.js","webpack://care-ops-frontend/./src/js/views/clinicians/clinician-modal/clinician-modal_views.js","webpack://care-ops-frontend/./src/js/apps/clinicians/clinicians-all_app.js","webpack://care-ops-frontend/./src/js/apps/clinicians/clinicians-main_app.js","webpack://care-ops-frontend/./src/js/views/dashboards/dashboards-all_views.js","webpack://care-ops-frontend/./src/js/apps/dashboards/dashboards-all_app.js","webpack://care-ops-frontend/./src/js/views/dashboards/dashboard_views.js","webpack://care-ops-frontend/./src/js/apps/dashboards/dashboard_app.js","webpack://care-ops-frontend/./src/js/apps/dashboards/dashboards-main_app.js","webpack://care-ops-frontend/./src/js/views/programs/programs-all_views.js","webpack://care-ops-frontend/./src/js/apps/programs/programs-all_app.js","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/workflows_views.js","webpack://care-ops-frontend/./src/js/apps/programs/program/workflows/workflows_app.js","webpack://care-ops-frontend/./src/js/apps/programs/program/action/action_app.js","webpack://care-ops-frontend/./src/js/views/programs/program/program_views.js","webpack://care-ops-frontend/./src/js/views/programs/program/sidebar/sidebar-views.js","webpack://care-ops-frontend/./src/js/apps/programs/program/program_app.js","webpack://care-ops-frontend/./src/js/behaviors/sortable-list.js","webpack://care-ops-frontend/./src/js/views/programs/program/flow/flow_views.js","webpack://care-ops-frontend/./src/js/apps/programs/program/flow/flow_app.js","webpack://care-ops-frontend/./src/js/apps/programs/programs-main_app.js","webpack://care-ops-frontend/./src/js/apps/globals/app-frame_app.js","webpack://care-ops-frontend/./src/js/views/clinicians/clinician-modal/clinician-modal.hbs","webpack://care-ops-frontend/./src/js/views/clinicians/sidebar/clinician-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/globals/patient-modal/patient-modal.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/archive/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/archive/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/layout.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/flow/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/flow/header.hbs","webpack://care-ops-frontend/./src/js/views/patients/schedule/layout.hbs","webpack://care-ops-frontend/./src/js/views/patients/shared/bulk-edit/bulk-edit-action-body.hbs","webpack://care-ops-frontend/./src/js/views/patients/shared/bulk-edit/bulk-edit-flow-body.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-details.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-name.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/form-sharing.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/flow/flow-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/patient/patient-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/layout.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/table-header.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/flow/action-item.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/flow/header.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/sidebar/sidebar-layout.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/action-item.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/layout.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-details.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-name.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-details.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-name.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-details.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-name.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-state.hbs"],"sourcesContent":["export default str => {\n  return str && str.replace(/(\\r\\n|\\n|\\r)/gm, ' ');\n};\n","import hbs from 'handlebars-inline-precompile';\nimport { Component } from 'marionette.toolkit';\n\nimport 'scss/modules/buttons.scss';\n\nexport default Component.extend({\n  stateEvents: {\n    'change:isSelected': 'onStateChangeIsSelected',\n  },\n  viewEvents: {\n    'click': 'onClick',\n  },\n  viewOptions() {\n    const isSelected = this.getState('isSelected');\n    const template = isSelected ? hbs`{{fas \"square-check\"}}` : hbs`{{fal \"square\"}}`;\n\n    return {\n      tagName: 'button',\n      className: 'button--checkbox js-select',\n      template,\n      triggers: {\n        'click': 'click',\n      },\n    };\n  },\n  onClick(view, domEvent) {\n    this.toggleState('isSelected');\n    this.triggerMethod('select', domEvent);\n  },\n  onStateChangeIsSelected(state, isSelected) {\n    this.show();\n    this.triggerMethod('change:isSelected', isSelected);\n  },\n});\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport { STATE_STATUS } from 'js/static';\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport 'scss/domain/action-state.scss';\n\nconst i18n = intl.patients.shared.components.stateComponent;\n\nconst StateTemplate = hbs`<span class=\"action--{{ options.color }}\">{{fa options.iconType options.icon}}{{#unless isCompact}}<span>{{ name }}</span>{{/unless}}</span>`;\n\nlet statesCollection;\n\nfunction getStates() {\n  if (statesCollection) return statesCollection;\n  const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n  statesCollection = currentWorkspace.getStates();\n  return statesCollection;\n}\n\nconst statuses = [STATE_STATUS.QUEUED, STATE_STATUS.STARTED, STATE_STATUS.DONE];\nlet statesLists;\n\nfunction getStateLists() {\n  if (statesLists) return statesLists;\n  const statesByStatus = getStates().groupBy('status');\n  statesLists = map(statuses, status => {\n    return {\n      collection: Radio.request('entities', 'states:collection', statesByStatus[status]),\n      headingText: i18n.statusLabels[status],\n    };\n  });\n  return statesLists;\n}\n\nexport default Droplist.extend({\n  isCompact: false,\n  initialize({ stateId }) {\n    this.lists = getStateLists();\n    this.setSelected(stateId);\n  },\n  setSelected(stateId) {\n    const states = getStates();\n    this.setState({ selected: states.get(stateId) });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:state', selected);\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: StateTemplate,\n      templateContext: {\n        isCompact,\n      },\n    };\n  },\n  picklistOptions: {\n    headingText: i18n.headingText,\n    itemTemplate: StateTemplate,\n  },\n});\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './owner-component.scss';\n\nconst i18n = intl.patients.shared.components.ownerComponent;\n\nconst OwnerItemTemplate = hbs`<div>{{matchText name query}} <span class=\"owner-component__team\">{{matchText abbr query}}</span></div>`;\nconst TitleOwnerFilterTemplate = hbs`<div><span class=\"owner-component__title-filter-name\">{{ name }}</span>{{far \"angle-down\"}}</div>`;\n\nlet currentWorkspaceCache;\nlet teamsCollection;\nlet cliniciansCache;\n\nfunction getTeams(workspace) {\n  if (teamsCollection) return teamsCollection;\n  const clinicians = getClinicians(workspace);\n  teamsCollection = Radio.request('entities', 'teams:collection', clinicians.invoke('getTeam'));\n  return teamsCollection;\n}\n\nfunction getClinicians(workspace) {\n  if (cliniciansCache) return cliniciansCache;\n  cliniciansCache = workspace.getAssignableClinicians();\n  return cliniciansCache;\n}\n\nexport default Droplist.extend({\n  isCompact: false,\n  headingText: i18n.headingText,\n  placeholderText: i18n.placeholderText,\n  hasTeams: true,\n  hasClinicians: true,\n  hasCurrentClinician: true,\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n    const isTitleFilter = this.getOption('isTitleFilter');\n\n    return (isCompact || isTitleFilter) ? null : this.getView().$el.outerWidth();\n  },\n  picklistOptions() {\n    return {\n      itemTemplate: OwnerItemTemplate,\n      itemTemplateContext() {\n        if (this.model.type === 'teams') return;\n        return {\n          abbr: this.model.getTeam().get('abbr'),\n        };\n      },\n      isSelectlist: true,\n      infoText: this.getOption('infoText'),\n      headingText: this.getOption('headingText'),\n      placeholderText: this.getOption('placeholderText'),\n    };\n  },\n  viewOptions() {\n    const icon = { type: 'far', icon: 'circle-user' };\n    const isCompact = this.getOption('isCompact');\n    const isTitleFilter = this.getOption('isTitleFilter');\n\n    if (isCompact) {\n      const selected = this.getState('selected');\n      const isTeam = selected.type === 'teams';\n\n      return {\n        className: 'owner-component--compact button-secondary--compact w-100',\n        templateContext: {\n          attr: isTeam ? 'abbr' : 'name',\n          icon,\n        },\n      };\n    }\n\n    if (isTitleFilter) {\n      return {\n        className: 'owner-component__title-filter-button',\n        template: TitleOwnerFilterTemplate,\n      };\n    }\n\n    return {\n      className: 'button-secondary w-100',\n      templateContext: {\n        attr: 'name',\n        icon,\n      },\n    };\n  },\n\n  initialize({ owner }) {\n    this.lists = [];\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n\n    if (currentWorkspaceCache !== currentWorkspace.id) {\n      teamsCollection = null;\n      cliniciansCache = null;\n      currentWorkspaceCache = currentWorkspace.id;\n    }\n\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const clinicians = getClinicians(currentWorkspace);\n\n    if (this.getOption('hasCurrentClinician') && clinicians.get(currentUser)) {\n      this.lists.push({\n        collection: new Backbone.Collection([currentUser]),\n      });\n    }\n\n    if (this.getOption('hasClinicians') && clinicians.length) {\n      this.lists.push({\n        collection: clinicians,\n        headingText: currentWorkspace.get('name'),\n      });\n    }\n\n    if (this.getOption('hasTeams')) {\n      this.lists.push({\n        collection: getTeams(currentWorkspace),\n        headingText: this.lists.length ? i18n.teamsHeadingText : null,\n      });\n    }\n\n    this.setState({ selected: owner });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:owner', selected);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { Component } from 'marionette.toolkit';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Datepicker from 'js/components/datepicker';\n\nimport './due-component.scss';\n\nconst i18n = intl.patients.shared.components.dueComponent;\n\nconst DueTemplate = hbs`\n  <span{{#if isOverdue}} class=\"is-overdue\"{{/if}}>\n    {{far \"calendar-days\"}}{{formatDateTime date dateFormat inputFormat=\"YYYY-MM-DD\" defaultHtml=defaultHtml}}\n  </span>\n`;\n\nexport default Component.extend({\n  isCompact: false,\n  viewEvents: {\n    'click': 'onClick',\n  },\n  onClick() {\n    this.toggleState('isActive');\n  },\n  stateEvents: {\n    'change:isActive': 'onChangeIsActive',\n    'change:selected': 'onChangeStateSelected',\n  },\n  onChangeIsActive(state, isActive) {\n    const view = this.getView();\n    view.$el.toggleClass('is-active', isActive);\n\n    if (!isActive) return;\n\n    // blur off the button so enter won't trigger select repeatedly\n    view.$el.blur();\n\n    this.showDatepicker();\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    const selected = this.getState('selected');\n    const isDisabled = this.getState('isDisabled');\n\n    return {\n      tagName: 'button',\n      attributes: {\n        disabled: isDisabled,\n      },\n      className() {\n        if (isCompact) {\n          return 'button-secondary--compact due-component';\n        }\n\n        return 'button-secondary w-100 due-component';\n      },\n      triggers: {\n        'click': 'click',\n      },\n      template: DueTemplate,\n      templateContext: {\n        defaultHtml: isCompact ? '' : `<span>${ i18n.defaultText }</span>`,\n        dateFormat: isCompact ? 'SHORT' : 'LONG',\n        date: selected,\n        isOverdue: !isDisabled && this.getOption('isOverdue'),\n      },\n    };\n  },\n  initialize({ date }) {\n    this.setState({ selected: date });\n  },\n  showDatepicker() {\n    const datepicker = new Datepicker({\n      uiView: this.getView(),\n      state: { selectedDate: this.getState('selected') },\n    });\n\n    this.listenTo(datepicker, {\n      'change:selectedDate'(date) {\n        this.setState('selected', date);\n        datepicker.destroy();\n      },\n      'destroy': this.onDatepickerDestroy,\n    });\n\n    datepicker.show();\n  },\n  onDatepickerDestroy() {\n    this.toggleState('isActive', false);\n  },\n  onChangeStateSelected(state, selected) {\n    this.show();\n    this.triggerMethod('change:due', selected);\n  },\n});\n","import { times as _times } from 'underscore';\nimport dayjs from 'dayjs';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './time-component.scss';\n\nconst i18n = intl.patients.shared.components.timeComponent;\nconst timeFormat = 'HH:mm:ss';\n\n// Every 15 mins for 24 hours starting at 7am\nconst start = dayjs('07:00:00', timeFormat);\n\nconst times = _times(96, function(n) {\n  return { id: start.add(15 * n, 'minutes').format(timeFormat) };\n});\n\nconst NoTimeCompactTemplate = hbs`{{far \"clock\"}}`;\n\nconst TimeTemplate = hbs`{{far \"clock\"}}{{formatDateTime id \"LT\" inputFormat=\"HH:mm:ss\" defaultHtml=defaultHtml}}`;\n\nexport default Droplist.extend({\n  collection: new Backbone.Collection(times),\n  align: 'right',\n  popWidth: 192,\n  isCompact: false,\n  isSelectlist: true,\n  getClassName(time, isCompact) {\n    const isOverdue = time && this.getOption('isOverdue') ? 'is-overdue' : '';\n\n    if (isCompact) {\n      return `button-secondary--compact time-component ${ isOverdue }`;\n    }\n\n    return `button-secondary time-component w-100 ${ isOverdue }`;\n  },\n  getTemplate(time, isCompact) {\n    if (!time && isCompact) {\n      return NoTimeCompactTemplate;\n    }\n\n    return TimeTemplate;\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    const selected = this.getState('selected');\n    const time = selected ? selected.id : null;\n\n    return {\n      className: this.getClassName(time, isCompact),\n      template: this.getTemplate(time, isCompact),\n      templateContext: {\n        defaultHtml: `<span>${ i18n.placeholderText }</span>`,\n      },\n    };\n  },\n  picklistOptions: {\n    canClear: true,\n    clearText: i18n.clear,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    isSelectlist: true,\n    itemTemplateContext() {\n      return {\n        text: dayjs(this.model.id, timeFormat).format('LT'),\n      };\n    },\n  },\n  initialize({ time }) {\n    const selected = this.collection.get(time);\n\n    this.setState({ selected });\n  },\n  onChangeSelected(selected) {\n    const time = selected ? selected.id : null;\n\n    this.triggerMethod('change:time', time);\n  },\n});\n","import { map, range } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './owner-component.scss';\n\nconst i18n = intl.patients.shared.components.durationComponent;\n\nconst durations = map(range(99), function(duration) {\n  return { id: duration + 1 };\n});\n\nconst NoDurationTemplate = hbs`{{far \"stopwatch\"}}<span>{{ @intl.patients.shared.components.durationComponent.defaultText }}</span>`;\n\nconst DurationTemplate = hbs`{{far \"stopwatch\"}}<span>{{formatMessage (intlGet \"patients.shared.components.durationComponent.mins\") min=id}}</span>`;\n\nconst itemTemplate = hbs`{{formatMessage (intlGet \"patients.shared.components.durationComponent.mins\") min=id}}`;\n\nexport default Droplist.extend({\n  collection: new Backbone.Collection(durations),\n  getTemplate() {\n    if (!this.getState('selected')) {\n      return NoDurationTemplate;\n    }\n    return DurationTemplate;\n  },\n  viewOptions() {\n    return {\n      className: 'button-secondary w-100',\n      template: this.getTemplate(),\n    };\n  },\n  picklistOptions: {\n    canClear: true,\n    clearText: i18n.clear,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    isSelectlist: true,\n    itemTemplate,\n  },\n  initialize({ duration }) {\n    const selected = this.collection.get(duration);\n\n    this.setState({ selected });\n  },\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  onChangeSelected(selected) {\n    const duration = selected ? selected.id : 0;\n\n    this.triggerMethod('change:duration', duration);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport { renderTemplate } from 'js/i18n';\n\nimport 'scss/modules/buttons.scss';\n\nimport Tooltip from 'js/components/tooltip';\n\nimport trim from 'js/utils/formatting/trim';\n\nimport CheckComponent from './components/check_component';\nimport StateComponent from './components/state_component';\nimport OwnerComponent from './components/owner_component';\nimport DueComponent from './components/due_component';\nimport TimeComponent from './components/time_component';\nimport DurationComponent from './components/duration_component';\n\nconst FormButton = View.extend({\n  className: 'button-secondary--compact',\n  tagName: 'button',\n  template: hbs`{{far \"square-poll-horizontal\"}}`,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'form:patientAction', this.model.id, this.model.getForm().id);\n  },\n});\n\nconst DetailsTooltip = View.extend({\n  template: hbs`{{far \"circle-info\"}}`,\n  triggers: {\n    'click': 'prevent-row-click',\n  },\n  onRender() {\n    const template = hbs`\n      {{#if flowName}}<p class=\"action-tooltip__flow\"><span class=\"action-tooltip__flow-icon\">{{fas \"folder\"}}</span>{{ flowName }}</p>{{/if}}\n      <p><span class=\"action-tooltip__action-icon\">{{far \"file-lines\"}}</span><span class=\"action-tooltip__action-name\">{{ name }}</span></p>\n      <p class=\"action-tooltip__action-details\">{{ details }}</p>\n    `;\n\n    const flow = this.model.getFlow();\n\n    new Tooltip({\n      messageHtml: renderTemplate(template, {\n        name: this.model.get('name'),\n        flowName: flow ? flow.get('name') : null,\n        details: this._formatDetails(this.model.get('details')),\n      }),\n      uiView: this,\n      ui: this.$el,\n    });\n  },\n  _formatDetails(details) {\n    if (!details || details.length <= 140) return details;\n\n    return `${ trim(details.slice(0, 140)) }...`;\n  },\n});\n\nexport {\n  CheckComponent,\n  StateComponent,\n  OwnerComponent,\n  DueComponent,\n  TimeComponent,\n  DurationComponent,\n  FormButton,\n  DetailsTooltip,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport { ACTION_SHARING } from 'js/static';\nimport intl from 'js/i18n';\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport Optionlist from 'js/components/optionlist';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, DurationComponent } from 'js/views/patients/shared/actions_views';\n\nimport ActionSidebarTemplate from './action-sidebar.hbs';\nimport ActionNameTemplate from './action-name.hbs';\nimport ActionDetailsTemplate from './action-details.hbs';\nimport FormSharingTemplate from './form-sharing.hbs';\n\nimport 'scss/domain/action-state.scss';\nimport './action-sidebar.scss';\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.patients.sidebar.action.actionSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.patients.sidebar.action.actionSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.patients.sidebar.action.actionSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: ActionNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n      isDisabled: this.getOption('isDisabled'),\n      isAdHoc: this.model.isAdHoc(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: ActionDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst FormView = View.extend({\n  attributes() {\n    return {\n      disabled: !!this.getOption('isShowingForm'),\n    };\n  },\n  tagName: 'button',\n  className: 'button-secondary w-100 action-sidebar__form',\n  template: hbs`{{far \"square-poll-horizontal\"}}<span>{{ name }}</span>`,\n  triggers: {\n    'click': 'click',\n  },\n});\n\nfunction getSharingOpts(sharing) {\n  switch (sharing) {\n    case ACTION_SHARING.PENDING:\n    case ACTION_SHARING.SENT:\n      return {\n        iconType: 'fas',\n        icon: 'circle-dot',\n        color: 'black',\n      };\n    case ACTION_SHARING.RESPONDED:\n      return {\n        iconType: 'fas',\n        icon: 'circle-check',\n        color: 'green',\n      };\n    case ACTION_SHARING.CANCELED:\n    case ACTION_SHARING.ERROR_OPT_OUT:\n      return {\n        iconType: 'far',\n        icon: 'octagon-minus',\n        color: 'orange',\n      };\n    default:\n      return {\n        iconType: 'fas',\n        icon: 'circle-exclamation',\n        color: 'red',\n      };\n  }\n}\n\nconst FormSharingView = View.extend({\n  className: 'sidebar__dialog',\n  triggers: {\n    'click .js-share': 'click:share',\n    'click .js-cancel': 'click:cancelShare',\n    'click .js-undo-cancel': 'click:undoCancelShare',\n    'click .js-response': 'click:response',\n  },\n  template: FormSharingTemplate,\n  templateContext() {\n    const patient = this.model.getPatient();\n    const sharing = this.model.get('sharing');\n    const stateOptions = getSharingOpts(sharing);\n    const isPending = sharing === ACTION_SHARING.PENDING;\n    const isSent = sharing === ACTION_SHARING.SENT;\n    const isResponded = sharing === ACTION_SHARING.RESPONDED;\n    const isCanceled = sharing === ACTION_SHARING.CANCELED;\n\n    return {\n      stateOptions,\n      isWaiting: isSent || isPending,\n      isResponded,\n      isCanceled,\n      isError: !isPending && !isSent && !isResponded && !isCanceled,\n      patient: patient.pick('first_name', 'last_name'),\n      isDone: this.model.isDone(),\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n    'click:share': 'click:share',\n    'click:cancelShare': 'click:cancelShare',\n    'click:undoCancelShare': 'click:undoCancelShare',\n  },\n  className: 'sidebar flex-region',\n  template: ActionSidebarTemplate,\n  regions: {\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    duration: '[data-duration-region]',\n    form: '[data-form-region]',\n    formSharing: '[data-form-sharing-region]',\n    save: '[data-save-region]',\n    activity: {\n      el: '[data-activity-region]',\n      regionClass: PreloadRegion,\n    },\n    attachments: '[data-attachments-region]',\n    timestamps: '[data-timestamps-region]',\n    comment: '[data-comment-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: intl.patients.sidebar.action.actionSidebarViews.layoutView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.patients.sidebar.action.actionSidebarViews.layoutView.menuOptions.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  templateContext() {\n    const outreach = this.action.get('outreach');\n    return {\n      outreach,\n      hasOutreach: !!outreach,\n      hasForm: !!this.action.getForm(),\n    };\n  },\n  initialize({ action }) {\n    this.action = action;\n    this.listenTo(this.action, {\n      'change:_state': this.onChangeActionState,\n      'change:_owner': this.onChangeOwner,\n      'change:due_date': this.onChangeDueDate,\n      'change:due_time': this.onChangeDueDate,\n      'change:duration': this.onChangeDuration,\n      'change:sharing': this.onChangeSharing,\n    });\n    const flow = this.action.getFlow();\n    this.listenTo(flow, 'change:_state', this.showAction);\n  },\n  isFlowDone() {\n    const flow = this.action.getFlow();\n    return flow && flow.isDone();\n  },\n  onChangeActionState() {\n    this.showFormSharing();\n    const isDone = this.action.isDone();\n\n    const prevState = Radio.request('entities', 'states:model', this.action.previous('_state'));\n    const isPrevDone = prevState.isDone();\n\n    if (isDone === isPrevDone) return;\n\n    this.showAction();\n  },\n  onChangeOwner() {\n    this.showOwner();\n  },\n  onChangeDueDate() {\n    this.showDueDay();\n    this.showDueTime();\n  },\n  onChangeDuration() {\n    this.showDuration();\n  },\n  onChangeSharing() {\n    this.showFormSharing();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showAction();\n  },\n  cloneAction() {\n    // NOTE: creates a new clone from the truth for cancelable editing\n    if (this.clonedAction) this.stopListening(this.clonedAction);\n    this.clonedAction = this.action.clone();\n  },\n  showAction() {\n    this.showEditForm();\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showDuration();\n    this.showForm();\n    this.showFormSharing();\n  },\n  showEditForm() {\n    this.cloneAction();\n    this.listenTo(this.clonedAction, 'change:name change:details', this.showSave);\n\n    if (this.action.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName() {\n    const isDisabled = this.action.isDone() || this.isFlowDone();\n    this.showChildView('name', new NameView({ model: this.clonedAction, action: this.action, isDisabled }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.clonedAction, action: this.action }));\n  },\n  showState() {\n    const isDisabled = this.action.isNew() || this.isFlowDone();\n    const stateComponent = new StateComponent({ stateId: this.action.get('_state'), state: { isDisabled } });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.action.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone();\n    const ownerComponent = new OwnerComponent({\n      owner: this.action.getOwner(),\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.action.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone();\n    const dueDayComponent = new DueComponent({\n      date: this.action.get('due_date'),\n      state: { isDisabled },\n      isOverdue: this.action.isOverdue(),\n    });\n\n    this.listenTo(dueDayComponent, 'change:due', date => {\n      this.action.saveDueDate(date);\n    });\n\n    this.showChildView('dueDay', dueDayComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone() || !this.action.get('due_date');\n    const dueTimeComponent = new TimeComponent({\n      time: this.action.get('due_time'),\n      isOverdue: this.action.isOverdue(),\n      state: { isDisabled },\n    });\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.action.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showDuration() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone();\n    const durationComponent = new DurationComponent({ duration: this.action.get('duration'), state: { isDisabled } });\n\n    this.listenTo(durationComponent, 'change:duration', duration => {\n      this.action.save({ duration });\n    });\n\n    this.showChildView('duration', durationComponent);\n  },\n  showForm() {\n    const form = this.action.getForm();\n    if (!form || this.action.isNew()) return;\n\n    const formView = new FormView({\n      model: form,\n      isShowingForm: this.getOption('isShowingForm'),\n    });\n\n    this.listenTo(formView, 'click', () => {\n      this.triggerMethod('click:form', form);\n    });\n\n    this.showChildView('form', formView);\n  },\n  showFormSharing() {\n    const sharing = this.action.get('sharing');\n\n    if (sharing === ACTION_SHARING.DISABLED) return;\n\n    const formSharingView = new FormSharingView({ model: this.action });\n\n    this.listenTo(formSharingView, 'click:response', () => {\n      this.triggerMethod('click:form', this.action.getForm());\n    });\n\n    this.showChildView('formSharing', formSharingView);\n  },\n  showSave() {\n    if (!this.clonedAction.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.clonedAction }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    if (this.action.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showEditForm();\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View } from 'marionette';\n\nimport 'scss/modules/comments.scss';\n\nimport intl from 'js/i18n';\nimport trim from 'js/utils/formatting/trim';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\n\nconst PostCommentView = View.extend({\n  className: 'comment__actions',\n  template: hbs`\n    <button class=\"button--green js-post\" {{#if isDisabled}}disabled{{/if}}>\n      {{#if isNew}}\n        {{ @intl.patients.shared.commentsViews.postCommentView.postBtn }}\n      {{else}}\n        {{ @intl.patients.shared.commentsViews.postCommentView.saveBtn }}\n      {{/if}}\n    </button>\n    {{#unless shouldHideCancel}}<button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.patients.shared.commentsViews.postCommentView.cancelBtn }}</button>{{/unless}}\n    {{#unless isNew}}<button class=\"button--text u-float--left comment__delete js-delete\"><span class=\"u-margin--r-4\">{{far \"trash-can\"}}</span>{{ @intl.patients.shared.commentsViews.postCommentView.deleteBtn }}</button>{{/unless}}\n  `,\n  templateContext() {\n    const shouldHideCancel = this.getOption('shouldHideCancel');\n    const isDisabled = !this.model.isValid() || !this.model.hasChanged('message');\n    const isNew = this.model.isNew();\n\n    return {\n      shouldHideCancel,\n      isDisabled,\n      isNew,\n    };\n  },\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-post': 'post',\n    'click .js-delete': 'delete',\n  },\n\n});\n\nconst CommentFormView = View.extend({\n  behaviors: [InputWatcherBehavior],\n  modelEvents: {\n    'change:message': 'showPostView',\n  },\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  template: hbs`\n    <div class=\"flex comment__form\">\n      <span class=\"comment__author-label\">{{ initials }}</span>\n      <div class=\"flex-grow pos--relative\">\n        <textarea class=\"input-secondary textarea-flex__input js-input\" placeholder=\"{{ @intl.patients.shared.commentsViews.commentFormView.placeholder }}\">{{ message }}</textarea>\n        <div class=\"textarea-flex__container input-secondary comment__input js-spacer\">{{ message }}</div>\n      </div>\n    </div>\n    <div data-post-region></div>\n  `,\n  regions: {\n    post: '[data-post-region]',\n  },\n  childViewTriggers: {\n    'post': 'post:comment',\n    'cancel': 'cancel:comment',\n    'delete': 'confirm:delete',\n  },\n  templateContext() {\n    const clinician = this.model.getClinician();\n    return {\n      initials: clinician.getInitials(),\n    };\n  },\n  onRender() {\n    this.showPostView();\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('message', trim(text));\n  },\n  showPostView() {\n    const shouldHideCancel = this.model.isNew() && !this.model.get('message');\n\n    this.showChildView('post', new PostCommentView({\n      model: this.model,\n      shouldHideCancel,\n    }));\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: intl.patients.shared.commentsViews.commentFormView.deleteModal.bodyText,\n      headingText: intl.patients.shared.commentsViews.commentFormView.deleteModal.headingText,\n      submitText: intl.patients.shared.commentsViews.commentFormView.deleteModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete:comment', this.model);\n      },\n    });\n  },\n});\n\nexport {\n  CommentFormView,\n};\n","import dayjs from 'dayjs';\n\nimport Radio from 'backbone.radio';\n\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport { ACTION_SHARING } from 'js/static';\nimport { renderTemplate } from 'js/i18n';\n\nimport Tooltip from 'js/components/tooltip';\n\nimport { CommentFormView } from 'js/views/patients/shared/comments_views';\n\nimport 'scss/modules/comments.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport './action-sidebar.scss';\n\nconst CreatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.created\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ClinicianAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.clinicianAssigned\") name = name team = team to_name = to_clinician}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ActionCopiedFromProgramActionTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.actionCopiedFromProgram\") name = name team = team program = program}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DetailsUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.detailsUpdated\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DueDateUpdatedTemplate = hbs`\n  {{#unless value}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueDateCleared\") name = name team = team }}\n  {{else}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueDateUpdated\") name = name team = team date = (formatDateTime value \"LONG\")}}\n  {{/unless}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DueTimeUpdatedTemplate = hbs`\n  {{#unless value}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueTimeCleared\") name = name team = team }}\n  {{else}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueTimeUpdated\") name = name team = team time = (formatDateTime value \"LT\" inputFormat=\"HH:mm:ss\")}}\n  {{/unless}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DurationUpdatedTemplate = hbs`\n  {{#unless value}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.durationCleared\") name = name team = team}}\n  {{else}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.durationUpdated\") name = name team = team duration = value}}\n  {{/unless}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst FormUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formUpdated\") name = name team = team form = form}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst FormRespondedTemplate = hbs`\n  {{#if _editor}}\n    {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formResponded\") name = name team = team form = form}}\n  {{ else }}\n    {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formRecipientResponded\") recipient = recipient form = form}}\n  {{/if}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst FormRemovedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formRemoved\") name = name team = team form = form}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst NameUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.nameUpdated\") name = name team = team to_name = value from_name = previous}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst TeamAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.teamAssigned\") name = name team = team to_team = to_team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst StateUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.stateUpdated\") name = name team = team to_state = to_state}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst SharingCanceledTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.sharingCanceled\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst SharingSentTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.sharingSent\") recipient = recipient form = form}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst CommentView = View.extend({\n  className: 'u-margin--b-16',\n  ui: {\n    edit: '.js-edit',\n  },\n  triggers: {\n    'click @ui.edit': 'click:edit',\n  },\n  childViewTriggers: {\n    'cancel:comment': 'cancel:edit',\n    'post:comment': 'save:comment',\n    'delete:comment': 'delete:comment',\n  },\n  regions: {\n    comment: '[data-comment-activity-region]',\n  },\n  template: hbs`\n    <div data-comment-activity-region>\n      <div class=\"comment__item\">\n        <div class=\"comment__author-label\">{{ initials }}</div>\n        <div class=\"comment__title\">\n          <span class=\"comment__author-name\">{{ name }}</span>\n          <span class=\"comment__timestamp\">{{ formatDateTime created_at \"AT_TIME\" }}</span>\n          {{#if canEdit}}<span class=\"js-edit comment__edit\">{{far \"pen\"}} {{ @intl.patients.sidebar.action.activityViews.commentView.edit }}</span>{{/if}}\n        </div>\n        <div class=\"comment__message\">{{ message }}{{#if edited_at}}<span class=\"comment__edited\"> {{ @intl.patients.sidebar.action.activityViews.commentView.edited }} </span>{{/if}}</div>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    const clinician = this.model.getClinician();\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    return {\n      canEdit: clinician.id === currentUser.id,\n      name: clinician.get('name'),\n      initials: clinician.getInitials(),\n    };\n  },\n  onRender() {\n    const edited = this.model.get('edited_at');\n    if (!edited) return;\n\n    const template = hbs`{{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.commentView.editTooltip\")  edited = (formatDateTime edited \"TIME\") }}`;\n\n    new Tooltip({\n      messageHtml: renderTemplate(template, { edited }),\n      uiView: this,\n      ui: this.ui.edit,\n    });\n  },\n  onClickEdit() {\n    this.showChildView('comment', new CommentFormView({ model: this.model.clone() }));\n  },\n  onSaveComment({ model }) {\n    this.model.save({\n      message: model.get('message'),\n      edited_at: dayjs.utc().format(),\n    });\n    this.render();\n  },\n  onCancelEdit() {\n    this.render();\n  },\n  onDeleteComment() {\n    this.model.destroy();\n  },\n});\n\nconst ActivityView = View.extend({\n  className: 'action-sidebar__activity-item',\n  getTemplate() {\n    const type = this.model.get('event_type');\n    const Templates = {\n      ActionClinicianAssigned: ClinicianAssignedTemplate,\n      ActionCreated: CreatedTemplate,\n      ActionDetailsUpdated: DetailsUpdatedTemplate,\n      ActionDueDateUpdated: DueDateUpdatedTemplate,\n      ActionDueTimeUpdated: DueTimeUpdatedTemplate,\n      ActionDurationUpdated: DurationUpdatedTemplate,\n      ActionFormUpdated: FormUpdatedTemplate,\n      ActionFormResponded: FormRespondedTemplate,\n      ActionFormRemoved: FormRemovedTemplate,\n      ActionNameUpdated: NameUpdatedTemplate,\n      ActionCopiedFromProgramAction: ActionCopiedFromProgramActionTemplate,\n      ActionTeamAssigned: TeamAssignedTemplate,\n      ActionRoleAssigned: TeamAssignedTemplate, // NOTE: Support for legacy event type\n      ActionStateUpdated: StateUpdatedTemplate,\n    };\n\n    if (type === 'ActionSharingUpdated') {\n      const sharing = this.model.get('value');\n      if (sharing === ACTION_SHARING.SENT) return SharingSentTemplate;\n      if (sharing === ACTION_SHARING.CANCELED) return SharingCanceledTemplate;\n    }\n\n    if (!Templates[type]) return hbs``;\n\n    return Templates[type];\n  },\n  templateContext() {\n    const recipient = this.model.getRecipient();\n    const editor = this.model.getEditor();\n    const clinician = this.model.getClinician();\n    const program = this.model.getProgram();\n    const form = this.model.getForm();\n\n    return {\n      recipient: recipient ? `${ recipient.get('first_name') } ${ recipient.get('last_name') }` : null,\n      name: editor.get('name'),\n      team: editor.getTeam().get('name'),\n      to_clinician: clinician.get('name'),\n      to_team: this.model.getTeam().get('name'),\n      to_state: this.model.getState().get('name'),\n      program: program ? program.get('name') : null,\n      form: form ? form.get('name') : null,\n    };\n  },\n});\n\nconst ActivitiesView = CollectionView.extend({\n  className: 'u-margin--t-24',\n  template: hbs`\n    <h3 class=\"sidebar__heading\">\n      {{far \"timeline-arrow\"}}<span class=\"u-margin--l-8\">{{ @intl.patients.sidebar.action.activityViews.activityHeadingText }}</span>\n    </h3>\n    <div class=\"u-margin--t-16 sidebar__activity\" data-activities-region></div>\n  `,\n  childViewContainer: '[data-activities-region]',\n  childView(model) {\n    return (model.type === 'events') ? ActivityView : CommentView;\n  },\n  viewFilter({ model }) {\n    if (model.get('event_type') === 'ActionCreated' && this.model.get('_program_action')) return false;\n    return true;\n  },\n  viewComparator(viewA, viewB) {\n    return alphaSort('asc', this._getSortDate(viewA.model), this._getSortDate(viewB.model));\n  },\n  _getSortDate(model) {\n    if (model.get('date')) return model.get('date');\n\n    return model.get('created_at');\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.action.activityViews.createdAt }}</h4><div>{{formatDateTime createdAt \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.action.activityViews.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n  templateContext() {\n    return {\n      createdAt: this.getOption('createdEvent').get('date'),\n    };\n  },\n});\n\nexport {\n  ActivitiesView,\n  TimestampsView,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView } from 'marionette';\nimport anime from 'animejs';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport intl from 'js/i18n';\n\nimport 'scss/modules/sidebar.scss';\nimport 'scss/modules/loader.scss';\n\nimport './action-sidebar.scss';\n\nconst EmptyView = View.extend({\n  className: 'action-sidebar__no-results',\n  template: hbs`{{ @intl.patients.sidebar.action.actionSidebarAttachmentsViews.emptyView }}`,\n});\n\nconst AttachmentView = View.extend({\n  className: 'u-margin--t-16',\n  modelEvents: {\n    'change:_progress': 'onChangeProgress',\n    'change:_download': 'render',\n  },\n  downloadTemplate: hbs`\n    <a class=\"action-sidebar__attachment-filename\" target=\"_blank\" href=\"{{_view}}\">{{filename}}</a>\n    <div class=\"flex\">\n      <a class=\"action-sidebar__attachment-action flex-grow\" href=\"{{_download}}\" download>\n        {{far \"download\"}} <span>{{ @intl.patients.sidebar.action.actionSidebarAttachmentsViews.attachmentView.downloadText }}</span>\n      </a>\n      <a class=\"action-sidebar__attachment-action js-remove\">\n        {{far \"trash-can\"}} <span>{{ @intl.patients.sidebar.action.actionSidebarAttachmentsViews.attachmentView.removeText }}</span>\n      </a>\n    </div>\n  `,\n  uploadTemplate: hbs`\n    <div class=\"action-sidebar__attachment-filename\">{{filename}}</div>\n    <div class=\"loader__bar u-margin--t-8 js-progress-bar\">\n      <div class=\"loader__bar-progress js-progress\"></div>\n    </div>\n  `,\n  ui: {\n    progress: '.js-progress',\n    remove: '.js-remove',\n  },\n  triggers: {\n    'click @ui.remove': 'click:remove',\n  },\n  onChangeProgress() {\n    /* istanbul ignore if: Avoids async change errors */\n    if (!this.isRendered() || !this.ui.progress.length) return;\n\n    anime({\n      targets: this.ui.progress[0],\n      width: `${ this.model.get('_progress') }%`,\n      easing: 'easeInOutSine',\n    });\n  },\n  onClickRemove() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: intl.patients.sidebar.action.actionSidebarAttachmentsViews.removeModal.bodyText,\n      headingText: intl.patients.sidebar.action.actionSidebarAttachmentsViews.removeModal.headingText,\n      submitText: intl.patients.sidebar.action.actionSidebarAttachmentsViews.removeModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('remove:attachment', this.model);\n      },\n    });\n  },\n  getTemplate() {\n    if (this.model.get('_download')) {\n      return this.downloadTemplate;\n    }\n    return this.uploadTemplate;\n  },\n  templateContext() {\n    return {\n      filename: this.model.getFilename(),\n    };\n  },\n});\n\nconst AttachmentsView = CollectionView.extend({\n  className: 'u-margin--t-24',\n  collectionEvents: {\n    'changeId': 'filter',\n  },\n  template: hbs`\n    <div class=\"sidebar__attachments\">\n      <h3 class=\"sidebar__heading\">\n        {{far \"paperclip\"}}<span class=\"u-margin--l-8\">{{ @intl.patients.sidebar.action.actionSidebarAttachmentsViews.attachmentsViews.attachmentsHeadingText }}</span>\n      </h3>\n      <div data-attachments-files-region></div>\n      {{#if canUploadAttachments}}\n        <form>\n          <input type=\"file\" id=\"upload-attachment\" accept=\".pdf\" class=\"action-sidebar__attachment-file js-file\">\n          <label for=\"upload-attachment\" class=\"button-primary u-margin--t-16 js-add\">{{far \"paperclip\"}}<span>{{ @intl.patients.sidebar.action.actionSidebarAttachmentsViews.attachmentsViews.addAttachment }}</span></label>\n        </form>\n      {{/if}}\n    </div>\n  `,\n  templateContext() {\n    return {\n      canUploadAttachments: this.getOption('canUploadAttachments'),\n    };\n  },\n  childViewContainer: '[data-attachments-files-region]',\n  childView: AttachmentView,\n  emptyView: EmptyView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('created_at'), viewB.model.get('created_at'));\n  },\n  viewFilter({ model }) {\n    return !model.isNew();\n  },\n  ui: {\n    file: '.js-file',\n    add: '.js-add',\n  },\n  events: {\n    'change @ui.file': 'onChangeFile',\n    'click @ui.add': 'onClickAdd',\n  },\n  /* istanbul ignore next: Cypress tests file selection by injection */\n  onClickAdd() {\n    // NOTE: Clears previous selection if reuploading\n    this.ui.file[0].value = '';\n  },\n  onChangeFile() {\n    const file = this.ui.file[0].files[0];\n    /* istanbul ignore next: Cypress can't cancel a file selection dialog */\n    if (file) this.triggerMethod('add:attachment', file);\n  },\n  childViewTriggers: {\n    'remove:attachment': 'remove:attachment',\n  },\n});\n\nexport {\n  AttachmentsView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\n\nimport App from 'js/base/app';\n\nimport intl from 'js/i18n';\n\nimport { ACTION_SHARING } from 'js/static';\n\nimport { LayoutView } from 'js/views/patients/sidebar/action/action-sidebar_views';\nimport { CommentFormView } from 'js/views/patients/shared/comments_views';\nimport { ActivitiesView, TimestampsView } from 'js/views/patients/sidebar/action/action-sidebar-activity-views';\nimport { AttachmentsView } from 'js/views/patients/sidebar/action/action-sidebar-attachments-views';\n\nexport default App.extend({\n  onBeforeStart({ action, isShowingForm }) {\n    this.action = action;\n\n    this.showView(new LayoutView({\n      action: this.action,\n      isShowingForm,\n    }));\n\n    if (!this.action.isNew()) this.getRegion('activity').startPreloader();\n  },\n  beforeStart() {\n    if (this.action.isNew()) return;\n\n    return [\n      Radio.request('entities', 'fetch:actionEvents:collection', this.action.id),\n      Radio.request('entities', 'fetch:comments:collection:byAction', this.action.id),\n      Radio.request('entities', 'fetch:files:collection:byAction', this.action.id),\n    ];\n  },\n  onStart(options, activity, comments, attachments) {\n    if (this.action.isNew()) return;\n\n    this.activityCollection = new Backbone.Collection([...activity.models, ...comments.models]);\n    this.attachments = attachments;\n\n    this.showActivity();\n    this.showNewCommentForm();\n    this.showAttachments();\n  },\n  showActivity() {\n    this.showChildView('activity', new ActivitiesView({\n      collection: this.activityCollection,\n      model: this.action,\n    }));\n    const createdEvent = this.activityCollection.find({ event_type: 'ActionCreated' });\n\n    this.showChildView('timestamps', new TimestampsView({ model: this.action, createdEvent }));\n  },\n  showNewCommentForm() {\n    const clinician = Radio.request('bootstrap', 'currentUser');\n\n    const newCommentFormView = this.showChildView('comment', new CommentFormView({\n      model: Radio.request('entities', 'comments:model', {\n        _action: this.action.id,\n        _clinician: clinician.id,\n      }),\n    }));\n\n    this.listenTo(newCommentFormView, {\n      'post:comment': this.onPostNewComment,\n      'cancel:comment': this.onCancelNewComment,\n    });\n  },\n  showAttachments() {\n    const canUploadAttachments = !!Radio.request('bootstrap', 'setting', 'upload_attachments');\n\n    if (!canUploadAttachments && !this.attachments.length) return;\n\n    const attachmentsView = new AttachmentsView({\n      collection: this.attachments,\n      canUploadAttachments,\n    });\n\n    this.listenTo(attachmentsView, {\n      'add:attachment': this.onAddAttachment,\n      'remove:attachment': this.onRemoveAttachment,\n    });\n\n    this.showChildView('attachments', attachmentsView);\n  },\n  onAddAttachment(file) {\n    const attachment = this.attachments.add({\n      _action: this.action.id,\n      _patient: this.action.getPatient().id,\n      created_at: dayjs.utc().format(),\n    });\n    attachment.upload(file);\n\n    this.listenTo(attachment, 'upload:failed', () => {\n      Radio.request('alert', 'show:error', intl.patients.sidebar.actionSidebarApp.uploadError);\n    });\n  },\n  onRemoveAttachment(model) {\n    model.destroy();\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n    'delete': 'onDelete',\n    'click:form': 'onClickForm',\n    'click:share': 'onClickShare',\n    'click:cancelShare': 'onClickCancel',\n    'click:undoCancelShare': 'onClickUndoCancel',\n  },\n  onSave({ model }) {\n    if (model.isNew()) {\n      this.action.saveAll(model.attributes).then(() => {\n        Radio.trigger('event-router', 'patient:action', this.action.get('_patient'), this.action.id);\n      });\n      return;\n    }\n\n    this.action.save(model.pick('name', 'details'));\n  },\n  onDelete() {\n    this.action.destroy({ wait: true })\n      .then(() => {\n        this.stop();\n      })\n      .catch(({ responseData }) => {\n        Radio.request('alert', 'show:apiError', responseData);\n      });\n  },\n  onStop() {\n    this.action.trigger('editing', false);\n    if (this.action && this.action.isNew()) this.action.destroy();\n\n    Radio.request('sidebar', 'close');\n  },\n  onClickForm(form) {\n    Radio.trigger('event-router', 'form:patientAction', this.action.id, form.id);\n  },\n  onClickShare() {\n    this.action.save({ sharing: ACTION_SHARING.PENDING });\n  },\n  onClickCancel() {\n    this.action.save({ sharing: ACTION_SHARING.CANCELED });\n  },\n  onClickUndoCancel() {\n    this.action.save({ sharing: ACTION_SHARING.PENDING });\n  },\n  onPostNewComment({ model }) {\n    model.set({ created_at: dayjs.utc().format() }).save();\n    this.activityCollection.add(model);\n    this.showNewCommentForm();\n  },\n  onCancelNewComment() {\n    this.showNewCommentForm();\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport CheckComponent from './components/check_component';\nimport StateComponent from './components/state_component';\nimport OwnerComponent from './components/owner_component';\n\nconst i18n = intl.patients.shared.flowsViews;\n\nconst FlowStateComponent = StateComponent.extend({\n  onPicklistSelect({ model }) {\n    // Selected done\n    if (model.isDone() && this.getOption('flow')) {\n      this.shouldSelectDone(model);\n      return;\n    }\n\n    this.setSelectedStatus(model);\n  },\n  shouldSelectDone(model) {\n    const flow = this.getOption('flow');\n\n    if (flow.isAllDone()) {\n      this.setSelectedStatus(model);\n      return;\n    }\n\n    // We must hide the droplist before showing the modal\n    this.popRegion.empty();\n\n    if (Radio.request('bootstrap', 'setting', 'require_done_flow')) {\n      Radio.request('modal', 'show:small', {\n        bodyText: i18n.requireDoneModal.bodyText,\n        headingText: i18n.requireDoneModal.headingText,\n        submitText: i18n.requireDoneModal.submitText,\n        cancelText: false,\n        buttonClass: 'button--blue',\n      });\n      return;\n    }\n\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.doneModal.bodyText,\n      headingText: i18n.doneModal.headingText,\n      submitText: i18n.doneModal.submitText,\n      onSubmit: () => {\n        this.setSelectedStatus(model);\n        modal.destroy();\n      },\n    });\n  },\n  setSelectedStatus(model) {\n    this.setState('selected', model);\n    this.popRegion.empty();\n  },\n});\n\nexport {\n  CheckComponent,\n  FlowStateComponent,\n  OwnerComponent,\n};\n","import { bind, extend } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport intl from 'js/i18n';\n\nimport { animSidebar } from 'js/anim';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport { FlowStateComponent, OwnerComponent } from 'js/views/patients/shared/flows_views';\n\nimport FlowSidebarTemplate from './flow-sidebar.hbs';\n\nimport './flow-sidebar.scss';\n\nconst i18n = intl.patients.sidebar.flow.flowSidebarViews;\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.flow.flowSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.flow.flowSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  className: 'sidebar flex-region',\n  template: FlowSidebarTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    activity: {\n      el: '[data-activity-region]',\n      regionClass: PreloadRegion,\n    },\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.layoutView.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.patients.sidebar.flow.flowSidebarViews.layoutView.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  modelEvents: {\n    'change:_state'() {\n      this.showState();\n      this.showOwner();\n    },\n    'change:_owner': 'showOwner',\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showTimestamps();\n  },\n  showState() {\n    const stateComponent = new FlowStateComponent({\n      flow: this.model,\n      stateId: this.model.get('_state'),\n    });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showTimestamps() {\n    this.showChildView('timestamps', new TimestampsView({ model: this.model }));\n  },\n});\n\nfunction getDeleteModal(opts) {\n  return extend({ buttonClass: 'button--red' }, i18n.deleteModal, opts);\n}\n\nexport {\n  getDeleteModal,\n  LayoutView,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport './flow-sidebar.scss';\n\nconst ProgramStartedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.programStarted\") name = name team = team program = program}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ClinicianAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.clinicianAssigned\") name = name team = team to_name = to_clinician}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DetailsUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.detailsUpdated\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst NameUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.nameUpdated\") name = name team = team to_name = value from_name = previous}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst TeamAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.teamAssigned\") name = name team = team to_team = to_team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst StateUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.stateUpdated\") name = name team = team to_state = to_state}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ActivityView = View.extend({\n  className: 'patient-flow-sidebar__activity-item',\n  getTemplate() {\n    const type = this.model.get('event_type');\n\n    const Templates = {\n      FlowProgramStarted: ProgramStartedTemplate,\n      FlowClinicianAssigned: ClinicianAssignedTemplate,\n      FlowDetailsUpdated: DetailsUpdatedTemplate,\n      FlowNameUpdated: NameUpdatedTemplate,\n      FlowTeamAssigned: TeamAssignedTemplate,\n      FlowRoleAssigned: TeamAssignedTemplate, // NOTE: Support for legacy event type\n      FlowStateUpdated: StateUpdatedTemplate,\n    };\n\n    if (!Templates[type]) return hbs``;\n\n    return Templates[type];\n  },\n  templateContext() {\n    const editor = this.model.getEditor();\n    const clinician = this.model.getClinician();\n    const program = this.model.getProgram();\n\n    return {\n      name: editor.get('name'),\n      team: editor.getTeam().get('name'),\n      program: (program) ? program.get('name') : null,\n      to_clinician: clinician.get('name'),\n      to_team: this.model.getTeam().get('name'),\n      to_state: this.model.getState().get('name'),\n    };\n  },\n});\n\nconst ActivitiesView = CollectionView.extend({\n  childView: ActivityView,\n});\n\nexport { ActivitiesView };\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, getDeleteModal } from 'js/views/patients/sidebar/flow/flow-sidebar_views';\nimport { ActivitiesView } from 'js/views/patients/sidebar/flow/flow-sidebar-activity-views';\n\nexport default App.extend({\n  onBeforeStart({ flow }) {\n    this.flow = flow;\n    this.flow.trigger('editing', true);\n\n    this.showView(new LayoutView({\n      model: this.flow,\n    }));\n\n    this.getRegion('activity').startPreloader();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:flowEvents:collection', this.flow.id);\n  },\n  onStart(options, activity) {\n    this.showChildView('activity', new ActivitiesView({ collection: activity, model: this.flow }));\n  },\n  viewEvents: {\n    'close': 'stop',\n    'delete': 'onDelete',\n  },\n  onDelete() {\n    const modal = Radio.request('modal', 'show:small', getDeleteModal({\n      onSubmit: () => {\n        this.flow.destroy({ wait: true })\n          .then(() => {\n            Radio.trigger('event-router', 'patient:dashboard', this.flow.get('_patient'));\n          })\n          .catch(response => {\n            Radio.request('alert', 'show:apiError', response.responseData);\n          });\n        modal.destroy();\n      },\n    }));\n  },\n  onStop() {\n    this.flow.trigger('editing', false);\n    Radio.request('sidebar', 'close');\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\n\nimport ProgramDetailsTemplate from './program-details.hbs';\nimport ProgramNameTemplate from './program-name.hbs';\nimport ProgramSidebarTemplate from './program-sidebar.hbs';\nimport ProgramStateTemplate from './program-state.hbs';\n\nimport './programs-sidebar.scss';\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.programs.sidebar.program.programsSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.programs.sidebar.program.programsSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.programs.sidebar.program.programsSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  template: ProgramNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      error: this.getOption('error'),\n      isNew: this.model.isNew(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: ProgramDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst StateView = View.extend({\n  template: ProgramStateTemplate,\n  triggers: {\n    'click .js-state-toggle': 'click:toggle',\n  },\n  modelEvents: {\n    'change:published': 'render',\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.program.programsSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.program.programsSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n    'toggle': 'toggle',\n  },\n  className: 'sidebar flex-region',\n  template: ProgramSidebarTemplate,\n  regions: {\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    state: '[data-state-region]',\n    save: '[data-save-region]',\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n  },\n  initialize({ program }) {\n    this.program = program;\n    this.model = this.program.clone();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showForm();\n    this.showState();\n    this.showTimestamps();\n  },\n  showForm() {\n    this.stopListening(this.model);\n    this.model = this.program.clone();\n    this.listenTo(this.model, 'change:name change:details', this.showSave);\n\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName(error) {\n    this.showChildView('name', new NameView({ model: this.model, program: this.program, error }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.model, program: this.program }));\n  },\n  showSave() {\n    if (!this.model.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.model }));\n  },\n  showState() {\n    if (this.program.isNew()) return;\n    const stateView = new StateView({ model: this.program, program: this.program });\n\n    this.listenTo(stateView, 'click:toggle', () => {\n      this.program.save({ published: !this.program.get('published') });\n    });\n\n    this.showChildView('state', stateView);\n  },\n  showTimestamps() {\n    if (this.program.isNew()) return;\n    this.showChildView('timestamps', new TimestampsView({ model: this.program }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n  },\n  showErrors({ name }) {\n    this.showName(name);\n    this.showDisabledSave();\n  },\n  onCancel() {\n    if (this.model.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showForm();\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView } from 'js/views/programs/sidebar/program/programs-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ program }) {\n    this.program = program;\n\n    this.showView(new LayoutView({\n      program: this.program,\n    }));\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n  },\n  onSave({ model }) {\n    const isNew = this.program.isNew();\n    this.program.save(model.pick('name', 'details'))\n      .then(() => {\n        if (isNew) Radio.request('sidebar', 'close');\n      }, ({ responseData }) => {\n        const errors = this.program.parseErrors(responseData);\n        this.getView().showErrors(errors);\n      });\n  },\n  onStop() {\n    if (this.program && this.program.isNew()) this.program.destroy();\n\n    Radio.request('sidebar', 'close');\n  },\n});\n","import { result } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport 'scss/domain/program-action-state.scss';\n\nconst i18n = intl.programs.shared.components.publishedComponent;\n\nconst ButtonCompactTemplate = hbs`<span class=\"{{ className }}\">{{far icon}}</span>`;\n\nconst PublishedTemplate = hbs`<span class=\"{{ className }}\">{{far icon}}<span>{{ name }}</span></span>`;\n\nconst PublishedStates = [\n  {\n    id: PUBLISH_STATE_STATUS.DRAFT,\n    icon: 'pen-to-square',\n    className: 'program-action--draft',\n    name: i18n.draftText,\n  },\n  {\n    id: PUBLISH_STATE_STATUS.PUBLISHED,\n    icon: 'circle-play',\n    className: 'program-action--published',\n    name: i18n.publishedText,\n  },\n  {\n    id: PUBLISH_STATE_STATUS.CONDITIONAL,\n    icon: 'circle-pause',\n    className: 'program-action--conditional',\n    name: i18n.conditionalText,\n  },\n];\n\nexport default Droplist.extend({\n  isCompact: false,\n  initialize(options) {\n    this.mergeOptions(options, ['status', 'isPublishedDisabled', 'isConditionalAvailable']);\n\n    this.collection = new Backbone.Collection(PublishedStates);\n\n    if (!result(this, 'isConditionalAvailable')) this.collection.remove(PUBLISH_STATE_STATUS.CONDITIONAL);\n\n    this.setState({ selected: this.collection.get(this.status) });\n  },\n  // Overridden for flow component\n  isPublishDisabled: false,\n  isConditionalAvailable: true,\n  onChangeSelected(selected) {\n    this.triggerMethod('change:status', selected.id);\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: isCompact ? ButtonCompactTemplate : PublishedTemplate,\n    };\n  },\n  picklistOptions() {\n    const isDisabled = result(this, 'isPublishDisabled');\n\n    return {\n      headingText: i18n.headingText,\n      itemClassName() {\n        return isDisabled && this.model.id === PUBLISH_STATE_STATUS.PUBLISHED ? 'is-disabled' : '';\n      },\n      itemTemplate: PublishedTemplate,\n      infoText: isDisabled ? i18n.flowStatusInfoText : null,\n    };\n  },\n});\n","import { result } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './team-component.scss';\n\nconst i18n = intl.shared.components.teamComponent;\n\nconst TeamItemTemplate = hbs`<div>{{matchText name query}} <span class=\"team-component__team\">{{matchText abbr query}}</span></div>`;\n\nexport default Droplist.extend({\n  TeamItemTemplate,\n  isCompact: false,\n  defaultText() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : i18n.defaultText;\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  canClear: false,\n  picklistOptions() {\n    return {\n      canClear: this.getOption('canClear'),\n      itemTemplate: this.TeamItemTemplate,\n      isSelectlist: true,\n      headingText: i18n.headingText,\n      placeholderText: i18n.placeholderText,\n    };\n  },\n  viewOptions() {\n    const icon = { type: 'far', icon: 'circle-user' };\n    const defaultText = result(this, 'defaultText');\n\n    if (this.getOption('isCompact')) {\n      return {\n        className: 'button-secondary--compact',\n        templateContext: {\n          defaultText,\n          attr: 'abbr',\n          icon,\n        },\n      };\n    }\n\n    return {\n      className: 'button-secondary w-100',\n      templateContext: {\n        defaultText,\n        attr: 'name',\n        icon,\n      },\n    };\n  },\n  initialize({ team }) {\n    this.collection = Radio.request('bootstrap', 'teams');\n\n    this.setState({ selected: this.collection.get(team) });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:team', selected);\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\n\nimport PublishedComponent from './components/published_component';\nimport TeamComponent from 'js/views/shared/components/team';\n\nconst FlowPublishedComponent = PublishedComponent.extend({\n  isPublishDisabled() {\n    const flow = this.getOption('flow');\n    const programActions = flow.getActions();\n    return !programActions.some({ status: PUBLISH_STATE_STATUS.PUBLISHED });\n  },\n  isConditionalAvailable: false,\n  onPicklistSelect({ model }) {\n    if (model.id === PUBLISH_STATE_STATUS.PUBLISHED && this.isPublishDisabled()) {\n      return;\n    }\n\n    this.setState('selected', model);\n    this.popRegion.empty();\n  },\n});\n\nlet teamsCollection;\n\nfunction getTeams() {\n  if (teamsCollection) return teamsCollection;\n  teamsCollection = Radio.request('bootstrap', 'teams');\n  return teamsCollection;\n}\n\nconst OwnerComponent = TeamComponent.extend({\n  canClear: true,\n  initialize({ owner }) {\n    this.collection = getTeams();\n\n    this.setState({ selected: owner });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:owner', selected);\n  },\n});\n\nexport {\n  FlowPublishedComponent,\n  OwnerComponent,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { CollectionView, View } from 'marionette';\n\nimport 'scss/modules/list-manager.scss';\n\nimport trim from 'js/utils/formatting/trim';\nimport Droplist from 'js/components/droplist';\n\nimport intl from 'js/i18n';\n\nimport './tags-manager.scss';\n\nconst i18n = intl.programs.shared.components.tagsManagerComponent;\n\nconst TagsItemView = View.extend({\n  tagName: 'li',\n  className: 'list-manager__item tags-manager__item',\n  template: hbs`{{far \"tag\"}}<span>{{text}}</span><button class=\"button--icon list-manager__remove js-remove\">{{far \"trash-can\"}}</button>`,\n  triggers: {\n    'click .js-remove': 'remove',\n  },\n});\n\nconst TagsAddView = View.extend({\n  tagName: 'button',\n  className: 'picklist__item js-picklist-item tags-manager__add',\n  modelEvents: {\n    'change:query': 'render',\n  },\n  template: hbs`{{ @intl.programs.shared.components.tagsManagerComponent.tagsAddView.addLabel }} {{ query }}`,\n  onBeforeRender() {\n    this.shouldShow = !!this.model.get('query');\n  },\n  triggers: {\n    'click': 'click:add',\n  },\n});\n\nconst TagsListView = CollectionView.extend({\n  tagName: 'ul',\n  childView: TagsItemView,\n  childViewTriggers: {\n    'remove': 'remove',\n  },\n  onRemove(child) {\n    this.triggerMethod('remove:tag', child.model);\n  },\n});\n\nconst TagsDropList = Droplist.extend({\n  initialize() {\n    this.listenTo(this.collection, 'update', this.show);\n  },\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  viewOptions: {\n    className: 'button-secondary list-manager__droplist',\n    template: hbs`{{far \"tag\"}}<span>{{ @intl.programs.shared.components.tagsManagerComponent.tagsDroplist.addTag }}</span>`,\n  },\n  picklistOptions: {\n    attr: 'text',\n    headingText: i18n.tagsDroplist.picklistOptions.headingText,\n    noResultsText: i18n.tagsDroplist.picklistOptions.noResultsText,\n    isSelectlist: true,\n    placeholderText: i18n.tagsDroplist.picklistOptions.placeholderText,\n  },\n  picklistEvents: {\n    'watch:change'(query) {\n      this.setState('query', query);\n    },\n    'picklist:click:add'() {\n      const tagName = trim(this.getState('query'));\n      const tag = Radio.request('entities', 'tags:model', { text: tagName });\n\n      this.triggerMethod('add:tag', tag);\n      this.popRegion.empty();\n    },\n  },\n  onPicklistSelect({ model }) {\n    this.triggerMethod('add:tag', model);\n    this.popRegion.empty();\n  },\n});\n\nexport default View.extend({\n  className: 'list-manager__wrapper',\n  template: hbs`\n    <div data-tags-region></div>\n    <div data-droplist-region></div>\n  `,\n  regions: {\n    tags: '[data-tags-region]',\n    droplist: '[data-droplist-region]',\n  },\n  initialize({ tags, allTags }) {\n    this.tags = tags.clone();\n    this.allTags = allTags.clone();\n\n    // Remove tags that are already selected\n    this.allTags.remove(this.tags.models);\n  },\n  onRender() {\n    this.showTags();\n    this.showDroplist();\n  },\n  showTags() {\n    const tagsView = this.showChildView('tags', new TagsListView({\n      collection: this.tags,\n    }));\n\n    this.listenTo(tagsView, 'remove:tag', this.removeItemTag);\n  },\n  showDroplist() {\n    const droplist = this.showChildView('droplist', new TagsDropList({\n      collection: this.allTags,\n      ...this.getOption('droplistOptions'),\n    }));\n\n    this.listenTo(droplist.popRegion, {\n      'show'() {\n        const picklist = droplist.popRegion.currentView;\n\n        picklist.addChildView(new TagsAddView({\n          model: droplist.getState(),\n        }));\n      },\n    });\n\n    this.listenTo(droplist, 'add:tag', this.addItemTag);\n  },\n  addItemTag(tag) {\n    this.tags.add(tag);\n    this.allTags.remove(tag);\n    this.triggerMethod('add:tag', tag);\n  },\n  removeItemTag(tag) {\n    this.tags.remove(tag);\n    this.allTags.add(tag);\n    this.triggerMethod('remove:tag', tag);\n  },\n});\n","import { bind, extend } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport intl from 'js/i18n';\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport Optionlist from 'js/components/optionlist';\n\nimport { FlowPublishedComponent, OwnerComponent } from 'js/views/programs/shared/flows_views';\nimport TagsManagerComponent from 'js/views/programs/shared/components/tags-manager_component';\n\nimport FlowSidebarTemplate from './flow-sidebar.hbs';\nimport FlowNameTemplate from './flow-name.hbs';\nimport FlowDetailsTemplate from './flow-details.hbs';\n\nconst i18n = intl.programs.sidebar.flow.flowSidebarViews;\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.programs.sidebar.flow.flowSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.programs.sidebar.flow.flowSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.programs.sidebar.flow.flowSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: FlowNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: FlowDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.flow.flowSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.flow.flowSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  className: 'sidebar flex-region',\n  template: FlowSidebarTemplate,\n  regions: {\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n    tags: '[data-tags-region]',\n    save: '[data-save-region]',\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: intl.programs.sidebar.flow.layoutView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.programs.sidebar.flow.layoutView.menuOptions.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  templateContext() {\n    const isNew = this.model.isNew();\n\n    return {\n      isNew,\n      canTag: !isNew && this.currentUser.can('programs:tags:manage'),\n    };\n  },\n  initialize({ flow, tags }) {\n    this.currentUser = Radio.request('bootstrap', 'currentUser');\n    this.tags = tags;\n    this.flow = flow;\n    this.model = this.flow.clone();\n    this.listenTo(this.flow, {\n      'change:status': this.onChangeFlowStatus,\n      'change:_owner': this.onChangeOwner,\n    });\n  },\n  onChangeFlowStatus() {\n    this.showPublished();\n  },\n  onChangeOwner() {\n    this.showOwner();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showFlow();\n    this.showTimestamps();\n  },\n  showFlow() {\n    this.showForm();\n    this.showPublished();\n    this.showOwner();\n    this.showTags();\n  },\n  showForm() {\n    this.stopListening(this.model);\n    this.model = this.flow.clone();\n    this.listenTo(this.model, 'change:name change:details', this.showSave);\n\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName() {\n    this.showChildView('name', new NameView({ model: this.model, flow: this.flow }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.model, flow: this.flow }));\n  },\n  showPublished() {\n    const isDisabled = this.flow.isNew();\n    const publishedComponent = new FlowPublishedComponent({ flow: this.flow, status: this.flow.get('status'), state: { isDisabled } });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.flow.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const isDisabled = this.flow.isNew();\n    const ownerComponent = new OwnerComponent({ owner: this.flow.getOwner(), state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.flow.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showTags() {\n    if (this.model.isNew() || !this.currentUser.can('programs:tags:manage')) return;\n\n    const tagsComponent = new TagsManagerComponent({\n      allTags: this.tags,\n      tags: this.flow.getTags(),\n    });\n\n    this.listenTo(tagsComponent, {\n      'add:tag'(tag) {\n        this.flow.addTag(tag);\n      },\n      'remove:tag'(tag) {\n        this.flow.removeTag(tag);\n      },\n    });\n\n    this.showChildView('tags', tagsComponent);\n  },\n  showTimestamps() {\n    if (this.flow.isNew()) return;\n    this.showChildView('timestamps', new TimestampsView({ model: this.flow }));\n  },\n  showSave() {\n    if (!this.model.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.model }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    if (this.model.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showForm();\n  },\n});\n\nfunction getDeleteModal(opts) {\n  return extend({ buttonClass: 'button--red' }, i18n.deleteModal, opts);\n}\n\nexport {\n  getDeleteModal,\n  LayoutView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, getDeleteModal } from 'js/views/programs/sidebar/flow/flow-sidebar_views';\n\nexport default App.extend({\n  beforeStart() {\n    return Radio.request('entities', 'fetch:tags:collection');\n  },\n  onStart({ flow }, tags) {\n    this.flow = flow;\n    this.flow.trigger('editing', true);\n\n    this.showView(new LayoutView({\n      flow: this.flow,\n      tags,\n    }));\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n    'delete': 'onDelete',\n  },\n  onSave({ model }) {\n    if (model.isNew()) {\n      this.flow.saveAll(model.attributes).then(() => {\n        Radio.trigger('event-router', 'programFlow', this.flow.id);\n      });\n      return;\n    }\n\n    this.flow.save(model.pick('name', 'details'));\n  },\n  onDelete() {\n    const modal = Radio.request('modal', 'show:small', getDeleteModal({\n      onSubmit: () => {\n        this.flow.destroy({ wait: true })\n          .then(() => {\n            Radio.trigger('event-router', 'program:details', this.flow.get('_program'));\n          })\n          .catch(response => {\n            Radio.request('alert', 'show:apiError', response.responseData);\n          });\n\n        modal.destroy();\n      },\n    }));\n  },\n  onStop() {\n    if (this.flow && this.flow.isNew()) this.flow.destroy();\n    this.flow.trigger('editing', false);\n    Radio.request('sidebar', 'close');\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './form-component.scss';\n\nconst i18n = intl.programs.shared.components.formComponent;\n\nconst FormTemplate = hbs`\n  <button class=\"js-button button-secondary button__group flex-grow\" {{#if isDisabled}}disabled{{/if}}>\n    {{far \"square-poll-horizontal\"}}<span>{{ name }}</span>\n  </button><button class=\"js-click-form button button__group form-component__form-button\" {{#if isDisabled}}disabled{{/if}}>{{far \"up-right-and-down-left-from-center\"}}</button>\n`;\nconst NoFormTemplate = hbs`\n  <button class=\"js-button button-secondary w-100\" {{#if isDisabled}}disabled{{/if}}>\n    {{far \"square-poll-horizontal\"}}<span>{{ @intl.programs.shared.components.formComponent.defaultText }}</span>\n  </button>\n`;\n\nlet formsCollection;\n\nfunction getForms() {\n  if (formsCollection) return formsCollection;\n  const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n  formsCollection = currentWorkspace.getForms();\n  const formModels = formsCollection.reject({ published_at: null });\n  formsCollection.reset(formModels);\n  return formsCollection;\n}\n\nexport default Droplist.extend({\n  viewOptions() {\n    const selected = this.getState('selected');\n    return {\n      className: 'flex',\n      template: selected ? FormTemplate : NoFormTemplate,\n      templateContext() {\n        return {\n          isDisabled: this.getOption('state').isDisabled,\n        };\n      },\n      tagName: 'div',\n      triggers: {\n        'click .js-button': 'click',\n        'focus .js-button': 'focus',\n        'click .js-click-form': 'click:form',\n      },\n    };\n  },\n  viewEvents: {\n    'click': 'onClick',\n    'click:form': 'onViewClickForm',\n  },\n  onViewClickForm() {\n    this.triggerMethod('click:form', this.getState('selected'));\n  },\n  picklistOptions: {\n    canClear: true,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    noResultsText: i18n.noResultsText,\n    isSelectlist: true,\n    itemTemplateContext: {\n      icon: {\n        type: 'far',\n        icon: 'square-poll-horizontal',\n      },\n    },\n    attr: 'name',\n  },\n  initialize({ form }) {\n    this.collection = getForms();\n\n    this.setState({ selected: form });\n  },\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:form', selected);\n  },\n});\n","import { map, range } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nconst i18n = intl.programs.shared.components.dueDayComponent;\n\nconst days = map(range(366), function(day) {\n  return { id: day };\n});\n\nconst SameDayTemplate = hbs`{{far \"stopwatch\"}}<span>{{ @intl.programs.shared.components.dueDayComponent.sameDay }}</span>`;\n\nconst NoDayCompactTemplate = hbs`{{far \"stopwatch\"}}`;\n\nconst NoDayTemplate = hbs`{{far \"stopwatch\"}}<span>{{ @intl.programs.shared.components.dueDayComponent.defaultText }}</span>`;\n\nconst DueDayTemplate = hbs`{{far \"stopwatch\"}}<span>{{formatMessage  (intlGet \"programs.shared.components.dueDayComponent.days\") day=id}}</span>`;\n\nconst itemTemplate = hbs`{{formatMessage  (intlGet \"programs.shared.components.dueDayComponent.days\") day=id}}`;\n\nexport default Droplist.extend({\n  collection: new Backbone.Collection(days),\n  isCompact: false,\n  getTemplate(day, isCompact) {\n    if (day === 0) {\n      return SameDayTemplate;\n    }\n\n    if (!day && isCompact) {\n      return NoDayCompactTemplate;\n    }\n\n    return day ? DueDayTemplate : NoDayTemplate;\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    const selected = this.getState('selected');\n    const day = selected ? selected.id : null;\n\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: this.getTemplate(day, isCompact),\n    };\n  },\n  picklistOptions: {\n    canClear: true,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    isSelectlist: true,\n    itemTemplate,\n  },\n  initialize({ day }) {\n    const selected = this.collection.get(day);\n\n    this.setState({ selected });\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  onChangeSelected(selected) {\n    const day = selected ? selected.id : null;\n\n    this.triggerMethod('change:day', day);\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport FormComponent from './components/form_component';\nimport TeamComponent from 'js/views/shared/components/team';\nimport DueDayComponent from './components/dueday_component';\nimport PublishedComponent from './components/published_component';\n\nlet teamsCollection;\n\nfunction getTeams() {\n  if (teamsCollection) return teamsCollection;\n  teamsCollection = Radio.request('bootstrap', 'teams');\n  return teamsCollection;\n}\n\nconst OwnerComponent = TeamComponent.extend({\n  canClear: true,\n  initialize({ owner, isFromFlow }) {\n    this.collection = getTeams();\n\n    if (isFromFlow) this.defaultText = intl.programs.shared.actionsView.ownerComponent.defaultText;\n\n    this.setState({ selected: owner });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:owner', selected);\n  },\n});\n\nexport {\n  FormComponent,\n  OwnerComponent,\n  DueDayComponent,\n  PublishedComponent,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport intl from 'js/i18n';\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport Optionlist from 'js/components/optionlist';\n\nimport { PublishedComponent, OwnerComponent, DueDayComponent, FormComponent } from 'js/views/programs/shared/actions_views';\nimport TagsManagerComponent from 'js/views/programs/shared/components/tags-manager_component';\n\nimport ActionSidebarTemplate from './action-sidebar.hbs';\nimport ActionNameTemplate from './action-name.hbs';\nimport ActionDetailsTemplate from './action-details.hbs';\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.programs.sidebar.action.actionSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.programs.sidebar.action.actionSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.programs.sidebar.action.actionSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: ActionNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: ActionDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.action.actionSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.action.actionSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst HeadingView = View.extend({\n  getTemplate() {\n    if (this.model.hasOutreach()) {\n      return hbs`{{ @intl.programs.sidebar.action.actionSidebarViews.headingView.headingOutreachText }}`;\n    }\n    return hbs`{{ @intl.programs.sidebar.action.actionSidebarViews.headingView.headingText }}`;\n  },\n});\n\nconst FormSharingButtonView = View.extend({\n  tagName: 'button',\n  className: 'button--blue w-100 u-text-align--center',\n  attributes() {\n    return {\n      disabled: this.getOption('isDisabled'),\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  template: hbs`{{far \"share-from-square\"}} {{ @intl.programs.sidebar.action.actionSidebarViews.formSharingButtonView.buttonText }}`,\n});\n\nconst FormSharingView = View.extend({\n  className: 'sidebar__dialog',\n  triggers: {\n    'click .js-disable': 'click',\n  },\n  template: hbs`\n    <div class=\"flex\">\n      <h3 class=\"sidebar__heading flex-grow\">{{far \"share-from-square\" classes=\"u-margin--r-8\"}}{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.label }}</h3>\n      <button class=\"button--link js-disable\">{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.disableButtonText }}</button>\n    </div>\n    <div class=\"flex u-margin--t-16\">\n      <h4 class=\"sidebar__label--inset u-margin--t-8\">{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.recipientLabel }}</h4>\n      <div class=\"flex-grow\"><button class=\"button-secondary w-100\" disabled>{{far \"user-plus\"}} {{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.recipientDefault }}</button></div>\n    </div>\n    <div class=\"flex u-margin--t-8\">\n      <h4 class=\"sidebar__label--inset u-margin--t-8\">{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.whenLabel }}</h4>\n      <div class=\"flex-grow\"><button class=\"button-secondary w-100\" disabled>{{far \"stopwatch\"}} {{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.whenDefault }}</button></div>\n    </div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  className: 'sidebar flex-region',\n  template: ActionSidebarTemplate,\n  regions: {\n    heading: '[data-heading-region]',\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n    due: '[data-due-region]',\n    form: '[data-form-region]',\n    formSharing: '[data-form-sharing-region]',\n    tags: '[data-tags-region]',\n    save: '[data-save-region]',\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: intl.programs.sidebar.action.layoutView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.programs.sidebar.action.layoutView.menuOptions.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  templateContext() {\n    const isNew = this.model.isNew();\n\n    return {\n      isNew,\n      canTag: !isNew && this.currentUser.can('programs:tags:manage'),\n    };\n  },\n  initialize({ action, tags }) {\n    this.currentUser = Radio.request('bootstrap', 'currentUser');\n    this.tags = tags;\n    this.action = action;\n    this.model = this.action.clone();\n    this.listenTo(this.action, {\n      'change:_form change:outreach': this.showHeading,\n      'change:status': this.onChangeActionStatus,\n      'change:_owner': this.onChangeOwner,\n      'change:days_until_due': this.onChangeDueDay,\n    });\n  },\n  onChangeActionStatus() {\n    this.showPublished();\n  },\n  onChangeOwner() {\n    this.showOwner();\n  },\n  onChangeDueDay() {\n    this.showDueDay();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showHeading();\n    this.showAction();\n    this.showTimestamps();\n    this.showTags();\n  },\n  showHeading() {\n    this.showChildView('heading', new HeadingView({ model: this.action }));\n  },\n  showAction() {\n    this.showEditForm();\n    this.showPublished();\n    this.showOwner();\n    this.showDueDay();\n    this.showForm();\n  },\n  showEditForm() {\n    this.stopListening(this.model);\n    this.model = this.action.clone();\n    this.listenTo(this.model, 'change:name change:details', this.showSave);\n\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName() {\n    this.showChildView('name', new NameView({ model: this.model, action: this.action }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.model, action: this.action }));\n  },\n  showPublished() {\n    const isDisabled = this.action.isNew();\n    const isFromFlow = !!this.action.get('_program_flow');\n    const publishedComponent = new PublishedComponent({\n      isConditionalAvailable: isFromFlow,\n      status: this.action.get('status'),\n      state: { isDisabled },\n    });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.action.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const isDisabled = this.action.isNew();\n    const isFromFlow = !!this.action.get('_program_flow');\n    const ownerComponent = new OwnerComponent({ owner: this.action.getOwner(), isFromFlow, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.action.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.action.isNew();\n    const dueDayComponent = new DueDayComponent({ day: this.action.get('days_until_due'), state: { isDisabled } });\n\n    this.listenTo(dueDayComponent, 'change:day', day => {\n      this.action.save({ days_until_due: day });\n    });\n\n    this.showChildView('due', dueDayComponent);\n  },\n  showForm() {\n    const isDisabled = this.action.isNew();\n    const formComponent = new FormComponent({ form: this.action.getForm(), state: { isDisabled } });\n\n    this.listenTo(formComponent, {\n      'change:form'(form) {\n        this.action.saveForm(form);\n      },\n      'click:form'(form) {\n        this.triggerMethod('click:form', form);\n      },\n    });\n\n    this.showChildView('form', formComponent);\n  },\n  showTags() {\n    if (this.model.isNew() || !this.currentUser.can('programs:tags:manage')) return;\n\n    const tagsComponent = new TagsManagerComponent({\n      allTags: this.tags,\n      tags: this.action.getTags(),\n    });\n\n    this.listenTo(tagsComponent, {\n      'add:tag'(tag) {\n        this.action.addTag(tag);\n      },\n      'remove:tag'(tag) {\n        this.action.removeTag(tag);\n      },\n    });\n\n    this.showChildView('tags', tagsComponent);\n  },\n  showTimestamps() {\n    if (this.action.isNew()) return;\n    this.showChildView('timestamps', new TimestampsView({ model: this.action }));\n  },\n  showSave() {\n    if (!this.model.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.model }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    if (this.model.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showEditForm();\n  },\n});\n\nexport {\n  LayoutView,\n  FormSharingButtonView,\n  FormSharingView,\n};\n","import Radio from 'backbone.radio';\n\nimport { ACTION_OUTREACH } from 'js/static';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, FormSharingButtonView, FormSharingView } from 'js/views/programs/sidebar/action/action-sidebar_views';\n\nexport default App.extend({\n  beforeStart() {\n    return Radio.request('entities', 'fetch:tags:collection');\n  },\n  onStart({ action }, tags) {\n    this.action = action;\n\n    this.showView(new LayoutView({\n      action: this.action,\n      tags,\n    }));\n\n    this.showFormSharing();\n\n    this.listenTo(this.action, 'change:_form change:outreach', this.showFormSharing);\n  },\n  showFormSharing() {\n    if (!Radio.request('bootstrap', 'setting', 'care_team_outreach')) return;\n\n    const form = this.action.getForm();\n\n    if (!form) {\n      this.showChildView('formSharing', new FormSharingButtonView({ isDisabled: true }));\n      return;\n    }\n\n    if (!this.action.hasOutreach()) {\n      const button = new FormSharingButtonView();\n\n      this.listenTo(button, 'click', () => {\n        this.action.save({ outreach: 'patient' });\n      });\n\n      this.showChildView('formSharing', button);\n      return;\n    }\n\n    const formSharingView = new FormSharingView();\n\n    this.listenTo(formSharingView, 'click', () => {\n      this.action.save({ outreach: ACTION_OUTREACH.DISABLED });\n    });\n\n    this.showChildView('formSharing', formSharingView);\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n    'delete': 'onDelete',\n    'click:form': 'onClickForm',\n  },\n  onSave({ model }) {\n    if (model.isNew()) {\n      this.action.saveAll(model.attributes)\n        .then(() => {\n          const flowId = this.action.get('_program_flow');\n\n          if (flowId) {\n            Radio.trigger('event-router', 'programFlow:action', flowId, this.action.id);\n            return;\n          }\n\n          Radio.trigger('event-router', 'program:action', this.action.get('_program'), this.action.id);\n        });\n      return;\n    }\n\n    this.action.save(model.pick('name', 'details'));\n  },\n  onDelete() {\n    this.action.destroy({ wait: true })\n      .then(() => {\n        this.stop();\n      })\n      .catch(response => {\n        Radio.request('alert', 'show:apiError', response.responseData);\n      });\n  },\n  onStop() {\n    this.action.trigger('editing', false);\n    if (this.action && this.action.isNew()) this.action.destroy();\n\n    Radio.request('sidebar', 'close');\n  },\n  onClickForm(form) {\n    Radio.trigger('event-router', 'form:preview', form.id);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './role-component.scss';\n\nconst i18n = intl.clinicians.shared.components.roleComponent;\n\nconst ItemTemplate = hbs`<div><div>{{ label }}</div><div class=\"role-component__details\">{{ description }}</div></div>`;\n\nexport default Droplist.extend({\n  isCompact: false,\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  picklistOptions: {\n    headingText: i18n.headingText,\n    itemTemplate: ItemTemplate,\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n\n    return {\n      className: isCompact ? 'button-secondary' : 'button-secondary w-100',\n      templateContext: {\n        attr: 'label',\n        defaultText: i18n.defaultText,\n        icon: {\n          type: 'far',\n          icon: 'shield',\n        },\n      },\n    };\n  },\n  initialize({ role }) {\n    this.collection = Radio.request('bootstrap', 'roles');\n    this.setState({ selected: role });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:role', selected);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { CollectionView, View } from 'marionette';\n\nimport 'scss/modules/list-manager.scss';\n\nimport Droplist from 'js/components/droplist';\n\nconst WorkspacesItemView = View.extend({\n  tagName: 'li',\n  className() {\n    if (this.getOption('isDisabled')) return 'list-manager__item is-disabled';\n\n    return 'list-manager__item';\n  },\n  template: hbs`{{far \"users\"}}<span>{{name}}</span>{{#unless isDisabled}}<button class=\"button--icon list-manager__remove js-remove\">{{far \"trash-can\"}}</button>{{/unless}}`,\n  templateContext() {\n    return {\n      isDisabled: this.getOption('isDisabled'),\n    };\n  },\n  triggers: {\n    'click .js-remove': 'remove',\n  },\n});\n\nconst WorkspacesListView = CollectionView.extend({\n  tagName: 'ul',\n  childView: WorkspacesItemView,\n  childViewOptions() {\n    return {\n      isDisabled: this.getOption('isDisabled'),\n    };\n  },\n  childViewTriggers: {\n    'remove': 'remove',\n  },\n  onRemove(child) {\n    this.triggerMethod('remove:member', child.model);\n  },\n});\n\nconst WorkspacesDropList = Droplist.extend({\n  initialize() {\n    this.listenTo(this.collection, 'update', this.show);\n  },\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  viewOptions: {\n    className: 'button-secondary list-manager__droplist',\n    template: hbs`{{far \"users\"}}<span>{{ @intl.shared.components.workspacesManager.workspacesDroplist.addWorkspace }}</span>`,\n  },\n  picklistOptions: {\n    attr: 'name',\n  },\n  onShow() {\n    const isDisabled = this.getOption('isDisabled');\n\n    this.setState({ isDisabled: isDisabled || this.collection.length === 0 });\n  },\n  onPicklistSelect({ model }) {\n    this.triggerMethod('add:member', model);\n    this.popRegion.empty();\n  },\n});\n\nexport default View.extend({\n  className: 'list-manager__wrapper',\n  template: hbs`\n    <div data-workspaces-region></div>\n    <div data-droplist-region></div>\n  `,\n  regions: {\n    workspaces: '[data-workspaces-region]',\n    droplist: '[data-droplist-region]',\n  },\n  initialize({ member, workspaces }) {\n    this.member = member;\n    this.memberWorkspaces = this.member.getWorkspaces();\n    this.workspaces = workspaces;\n\n    this.workspaces.remove(this.memberWorkspaces.models);\n  },\n  onRender() {\n    this.showWorkspaces();\n    this.showDroplist();\n  },\n  showWorkspaces() {\n    const workspacesView = this.showChildView('workspaces', new WorkspacesListView({\n      collection: this.memberWorkspaces,\n      isDisabled: this.getOption('isDisabled'),\n    }));\n\n    this.listenTo(workspacesView, 'remove:member', this.removeMemberWorkspace);\n  },\n  showDroplist() {\n    if (this.getOption('isDisabled')) return;\n\n    const droplist = this.showChildView('droplist', new WorkspacesDropList({\n      collection: this.workspaces,\n      ...this.getOption('droplistOptions'),\n    }));\n\n    this.listenTo(droplist, 'add:member', this.addMemberWorkspace);\n  },\n  addMemberWorkspace(workspace) {\n    this.memberWorkspaces.add(workspace);\n    this.workspaces.remove(workspace);\n    this.triggerMethod('add:member', this.member, workspace);\n  },\n  removeMemberWorkspace(workspace) {\n    this.memberWorkspaces.remove(workspace);\n    this.workspaces.add(workspace);\n    this.triggerMethod('remove:member', this.member, workspace);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport Backbone from 'backbone';\n\nimport RoleComponent from './components/role_component';\nimport TeamComponent from 'js/views/shared/components/team';\nimport WorkspacesManagerComponent from 'js/views/shared/components/workspaces-manager';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './clinician-state.scss';\n\nconst i18n = intl.clinicians.shared.clinicianViews;\n\nconst WorkspacesComponent = WorkspacesManagerComponent.extend({\n  removeMemberWorkspace(workspace) {\n    if (this.member.isNew()) {\n      this.memberWorkspaces.remove(workspace);\n      this.triggerMethod('remove:member', this.member, workspace);\n      return;\n    }\n\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: renderTemplate(hbs`{{formatMessage (intlGet \"clinicians.shared.clinicianViews.workspacesComponent.removeModal.bodyText\") workspace=workspace team=team}}`, {\n        workspace: workspace.get('name'),\n        team: this.member.getTeam().get('name'),\n      }),\n      headingText: i18n.workspacesComponent.removeModal.headingText,\n      submitText: i18n.workspacesComponent.removeModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.memberWorkspaces.remove(workspace);\n        this.workspaces.add(workspace);\n        this.triggerMethod('remove:member', this.member, workspace);\n      },\n    });\n  },\n});\n\nconst ActiveState = {\n  id: 'enabled',\n  state: 'active',\n  icon: {\n    type: 'fas',\n    icon: 'circle-check',\n  },\n  name: i18n.stateComponent.active,\n};\n\nconst PendingState = {\n  id: 'enabled',\n  state: 'pending',\n  icon: {\n    type: 'fas',\n    icon: 'circle-half-stroke',\n  },\n  name: i18n.stateComponent.pending,\n};\n\nconst DisabledState = {\n  id: 'disabled',\n  state: 'disabled',\n  icon: {\n    type: 'far',\n    icon: 'circle-minus',\n  },\n  name: i18n.stateComponent.disabled,\n};\n\nconst StateCompactTemplate = hbs`<span class=\"clinician-state--{{ state }}\">{{fa icon.type icon.icon}}</span>`;\n\nconst StateTemplate = hbs`<span class=\"clinician-state--{{ state }}\">{{fa icon.type icon.icon}}<span>{{ name }}</span></span>`;\n\nconst StateComponent = Droplist.extend({\n  isCompact: false,\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  picklistOptions() {\n    return {\n      itemTemplate: StateTemplate,\n      headingText: i18n.stateComponent.headingText,\n    };\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: isCompact ? StateCompactTemplate : StateTemplate,\n    };\n  },\n  initialize({ selectedId, isActive }) {\n    this.collection = new Backbone.Collection([isActive ? ActiveState : PendingState, DisabledState]);\n    this.setState('selected', this.collection.get(selectedId));\n  },\n});\n\nexport {\n  RoleComponent,\n  WorkspacesComponent,\n  TeamComponent,\n  StateComponent,\n};\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport { animSidebar } from 'js/anim';\n\nimport { WorkspacesComponent, TeamComponent, RoleComponent, StateComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport ClinicianSidebarTemplate from './clinician-sidebar.hbs';\n\nimport './clinician-sidebar.scss';\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input{{#if error}} has-error{{/if}}\" placeholder=\"{{ @intl.clinicians.sidebar.clinicianSidebarViews.nameView.placeholder }}\" value=\"{{ name }}\" {{#unless canEdit}}disabled{{/unless}} />{{~ remove_whitespace ~}}\n    {{#unless canEdit}}<span class=\"clinician-sidebar__locked-icon\">{{far \"lock\"}}</span>{{/unless}}\n    {{#if error}}<div class=\"form-error u-margin--b-4\">{{ error }}</div>{{/if}}\n  `,\n  templateContext() {\n    return {\n      canEdit: this.model.isEditable(),\n      error: this.getOption('error'),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onInput',\n  },\n  onInput(evt) {\n    this.model.set('name', evt.target.value);\n  },\n});\n\nconst EmailView = View.extend({\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input{{#if error}} has-error{{/if}}\" placeholder=\"{{ @intl.clinicians.sidebar.clinicianSidebarViews.emailView.placeholder }}\" value=\"{{ email }}\" {{#unless canEdit}}disabled{{/unless}} />{{~ remove_whitespace ~}}\n    {{#unless canEdit}}<span class=\"clinician-sidebar__locked-icon\">{{far \"lock\"}}</span>{{/unless}}\n    {{#if error}}<div class=\"form-error u-margin--b-4\">{{ error }}</div>{{/if}}\n  `,\n  templateContext() {\n    return {\n      canEdit: this.model.isEditable(),\n      error: this.getOption('error'),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onInput',\n  },\n  onInput(evt) {\n    this.model.set('email', evt.target.value);\n  },\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.clinicians.sidebar.clinicianSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.clinicians.sidebar.clinicianSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.clinicians.sidebar.clinicianSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst InfoView = View.extend({\n  className: 'sidebar__info',\n  template: hbs`\n    {{fas \"circle-info\"}}{{ @intl.clinicians.sidebar.clinicianSidebarViews.infoView.workspaceTeamInfo }}\n  `,\n});\n\nconst SidebarView = View.extend({\n  className: 'sidebar flex-region',\n  template: ClinicianSidebarTemplate,\n  triggers: {\n    'click .js-close': 'close',\n  },\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  regions: {\n    name: '[data-name-region]',\n    email: '[data-email-region]',\n    save: '[data-save-region]',\n    team: '[data-team-region]',\n    workspaces: '[data-workspaces-region]',\n    info: '[data-info-region]',\n    role: '[data-role-region]',\n    state: '[data-state-region]',\n  },\n  initialize({ clinician }) {\n    this.clinician = clinician;\n\n    this.listenTo(this.clinician, {\n      'change:enabled': this.onChangeEnabled,\n      'change:_team': this.showInfo,\n      'change:_workspaces': this.showInfo,\n    });\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onChangeEnabled() {\n    this.showState();\n    this.showRole();\n    this.showTeam();\n    this.showWorkspaces();\n  },\n  onRender() {\n    this.showForm();\n    this.showState();\n    this.showRole();\n    this.showTeam();\n    this.showWorkspaces();\n    this.showInfo();\n  },\n  cloneClinician() {\n    // NOTE: creates a new clone from the truth for cancelable editing\n    if (this.clonedClinician) this.stopListening(this.clonedClinician);\n    this.clonedClinician = this.clinician.clone();\n  },\n  showName(error) {\n    this.showChildView('name', new NameView({\n      model: this.clonedClinician,\n      error,\n    }));\n  },\n  showEmail(error) {\n    this.showChildView('email', new EmailView({\n      model: this.clonedClinician,\n      error,\n    }));\n  },\n  showState() {\n    const isActive = this.clinician.isActive();\n    const selectedId = this.clinician.get('enabled') ? 'enabled' : 'disabled';\n\n    const stateComponent = new StateComponent({ isActive, selectedId });\n\n    this.listenTo(stateComponent, 'change:selected', selected => {\n      this.clinician.save({ enabled: selected.id !== 'disabled' });\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showRole() {\n    const isDisabled = !this.clinician.get('enabled');\n    const roleComponent = new RoleComponent({ role: this.clinician.getRole(), state: { isDisabled } });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.clinician.saveRole(role);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const isDisabled = !this.clinician.get('enabled');\n    const teamComponent = new TeamComponent({ team: this.clinician.get('_team'), state: { isDisabled } });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.clinician.saveTeam(team);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n  showWorkspaces() {\n    const workspacesManager = this.showChildView('workspaces', new WorkspacesComponent({\n      member: this.clinician,\n      workspaces: Radio.request('bootstrap', 'workspaces'),\n      droplistOptions: {\n        isDisabled: !this.clinician.get('enabled'),\n      },\n    }));\n\n    this.listenTo(workspacesManager, {\n      'add:member'(clinician, workspace) {\n        workspace.addClinician(clinician);\n      },\n      'remove:member'(clinician, workspace) {\n        workspace.removeClinician(clinician);\n      },\n    });\n  },\n  showSave() {\n    if (!this.clonedClinician.isValid()) {\n      this.showDisabledSave();\n      return;\n    }\n\n    this.showChildView('save', new SaveView({ model: this.clonedClinician }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  showForm() {\n    this.cloneClinician();\n    this.listenTo(this.clonedClinician, 'change:name change:email', this.showSave);\n\n    this.getRegion('save').empty();\n\n    this.showName();\n    this.showEmail();\n  },\n  showInfo() {\n    if (!this.clinician.hasTeam() || this.clinician.getWorkspaces().length === 0) {\n      this.showChildView('info', new InfoView());\n      return;\n    }\n\n    this.getRegion('info').empty();\n  },\n  showErrors({ name, email }) {\n    this.showName(name);\n    this.showEmail(email);\n    this.showDisabledSave();\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    this.showForm();\n  },\n});\n\nexport {\n  SidebarView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { SidebarView } from 'js/views/clinicians/sidebar/clinician-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ clinician }) {\n    this.clinician = clinician;\n\n    this.showView(new SidebarView({ clinician }));\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n  },\n  onSave({ model }) {\n    this.clinician.save(model.attributes).then(() => {\n      Radio.trigger('event-router', 'clinician', this.clinician.id);\n    }, ({ responseData }) => {\n      const errors = this.clinician.parseErrors(responseData);\n      this.getView().showErrors(errors);\n    });\n  },\n  onStop() {\n    this.clinician.trigger('editing', false);\n\n    Radio.request('sidebar', 'close');\n    Radio.trigger('event-router', 'clinicians:all');\n  },\n});\n","\nimport { each, first, propertyOf, reduce, escape } from 'underscore';\n\nexport const _ = { propertyOf, escape };\n\n// {{ fields.field_name.deep_nest }}\nconst fieldRegEx = /{{\\s*fields.([\\w\\-.]+?)\\s*}}/g;\n// {{ patient.first_name }}\nconst patientRegEx = /{{\\s*patient.([\\w\\-.]+?)\\s*}}/g;\n// {{ value }}\nconst valueRegEx = /({{\\s*value\\s*}})/g;\n// {{ value.deep.nest }}\nconst valueDeepRegEx = /{{\\s*value(?:\\.([\\w\\-.]+?))?\\s*}}/g;\n// {{ widget.widget_name-id }}\nconst widgetRegEx = /{{\\s*widget.([\\w\\-.]+?)\\s*}}/g;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nconst escapes = {\n  '\\'': '\\'',\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029',\n};\n\nconst escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return `\\\\${ escapes[match] }`;\n}\n\nfunction escapeTemplate(valueString) {\n  return `'+\\n((__t=(${ valueString }))==null?'':escape(__t))+\\n'`;\n}\n\nfunction deepGetTemplate(dataKey, nestedKeys) {\n  let keys = '';\n\n  each(nestedKeys.split('.'), key => {\n    keys += `'${ key }',`;\n  });\n\n  return escapeTemplate(`propertyOf(data.${ dataKey })([${ keys }])`);\n}\n\nexport default function patientTemplate(text, childValue) {\n  // Compile the template source, escaping string literals appropriately.\n  let index = 0;\n  let source = '';\n\n  // Create a list of used field names for formatting only used fields\n  const fieldNames = [];\n\n  const widgetNames = [];\n\n  const matcher = RegExp(`${ [\n    fieldRegEx.source,\n    patientRegEx.source,\n    valueRegEx.source,\n    valueDeepRegEx.source,\n    widgetRegEx.source,\n  ].join('|') }|$`, 'g');\n\n  text.replace(matcher, function(match, fieldKeys, patientKeys, valueOnly, valueKeys, widgetName, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (valueOnly) {\n      source += escapeTemplate('data.value');\n    }\n\n    if (valueKeys) {\n      source += deepGetTemplate('value', valueKeys);\n    }\n\n    if (fieldKeys) {\n      fieldNames.push(first(fieldKeys.split('.')));\n      source += deepGetTemplate('fields', fieldKeys);\n    }\n\n    if (patientKeys) {\n      source += deepGetTemplate('patient', patientKeys);\n    }\n\n    if (widgetName) {\n      widgetNames.push(widgetName);\n      source += `<span data-${ widgetName }-region></span>`;\n    }\n\n    return match;\n  });\n\n  source = `var __t;\\nreturn '${ source }';\\n`;\n\n  const render = new Function('data', '{ propertyOf, escape }', source);\n\n  const templateFunction = function(patient) {\n    const patientFields = patient.getFields();\n\n    const fields = reduce(fieldNames, (fieldData, name) => {\n      const field = patientFields.find({ name });\n\n      if (!field) return fieldData;\n\n      fieldData[name] = field.get('value');\n\n      return fieldData;\n    }, {});\n\n    const data = {\n      patient: patient.attributes,\n      fields,\n      value: childValue,\n    };\n\n    return render.call(this, data, _);\n  };\n\n  templateFunction.widgetNames = widgetNames;\n\n  return templateFunction;\n}\n","import { each, propertyOf, reduce, extend, isFunction, filter, reject, find } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView } from 'marionette';\nimport dayjs from 'dayjs';\nimport parsePhoneNumber from 'libphonenumber-js/min';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport patientTemplate from 'js/utils/patient-template';\n\nimport './widgets.scss';\n\n// NOTE: widget is a view or view definition\nexport function buildWidget(widget, patient, widgetModel, options) {\n  if (isFunction(widget)) return new widget(extend({ model: patient }, options, widgetModel.get('definition')));\n\n  return new View(extend({ model: patient }, options, widgetModel.get('definition'), widget));\n}\n\nfunction getKeyValue(value, keys) {\n  if (keys.length) {\n    return propertyOf(value)(keys);\n  }\n\n  return value;\n}\n\nfunction getWidgetValue({ fields, name, key, childValue }) {\n  const keys = key && key.split('.') || [];\n\n  if (childValue) {\n    return getKeyValue(childValue, keys);\n  }\n\n  // NOTE: Makes `field_name` optional\n  if (keys.length && !name) name = keys.shift();\n\n  const currentField = fields.find({ name });\n\n  if (!currentField) return;\n\n  return getKeyValue(currentField.getValue(), keys);\n}\n\n// NOTE: These widgets are documented in ./README.md\n\nconst widgets = {\n  dob: {\n    modelEvents: {\n      'change:birth_date': 'render',\n    },\n    template: hbs`{{formatHTMLMessage (intlGet \"patients.widgets.widgets.dob\") dob=(formatDateTime dob \"LONG\" inputFormat=\"YYYY-MM-DD\") age=age}}`,\n    templateContext() {\n      const dob = this.model.get('birth_date');\n\n      const age = dayjs().diff(dayjs(dob, 'YYYY-MM-DD'), 'years');\n\n      return { dob, age };\n    },\n  },\n  sex: {\n    modelEvents: {\n      'change:sex': 'render',\n    },\n    template: hbs`{{formatMessage (intlGet \"patients.widgets.widgets.sex\") sex=sex}}`,\n  },\n  status: {\n    modelEvents: {\n      'change:status': 'render',\n    },\n    template: hbs`<span class=\"widgets__status-{{ status }}\">{{formatMessage (intlGet \"patients.widgets.widgets.status\") status=status}}</span>`,\n  },\n  divider: {\n    template: hbs`<div class=\"widgets__divider\"></div>`,\n  },\n  workspaces: {\n    modelEvents: {\n      'change:_workspaces': 'render',\n    },\n    template: hbs`{{#each workspaces}}<div>{{ this }}</div>{{/each}}`,\n    templateContext() {\n      return {\n        workspaces: this.model.getWorkspaces().map('name'),\n      };\n    },\n  },\n  patientIdentifiers: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const identifiersArray = this.model.get('identifiers');\n      const identifierType = this.getOption('identifier_type');\n\n      const identifier = find(identifiersArray, { type: identifierType });\n\n      return {\n        displayValue: identifier && identifier.value,\n        defaultHtml,\n      };\n    },\n  },\n  optionsWidget: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const value = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n      const displayOptions = this.getOption('display_options');\n\n      return {\n        displayValue: displayOptions[value] || value,\n        defaultHtml,\n      };\n    },\n  },\n  phoneWidget: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const value = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n      if (!value) return { defaultHtml };\n\n      const phone = parsePhoneNumber(value, 'US');\n\n      return {\n        displayValue: phone ? phone.formatNational() : null,\n        defaultHtml,\n      };\n    },\n  },\n  fieldWidget: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const displayValue = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n      return {\n        displayValue,\n        defaultHtml,\n      };\n    },\n  },\n  templateWidget: View.extend({\n    className: 'widgets-value',\n    initialize() {\n      this.childValue = this.getOption('childValue');\n      this.template = patientTemplate(this.template, this.childValue);\n      this.nestedWidgets = this.template.widgetNames;\n\n      const widgetRegions = reduce(this.nestedWidgets, (regions, widgetName) => {\n        regions[widgetName] = `[data-${ widgetName }-region]`;\n        return regions;\n      }, {});\n\n      this.addRegions(widgetRegions);\n    },\n    serializeData() {\n      return this.model;\n    },\n    onRender() {\n      each(this.nestedWidgets, widgetName => {\n        const widgetModel = Radio.request('entities', 'widgets:model', widgetName);\n        const widget = widgets[widgetModel.get('widget_type')];\n\n        this.showChildView(widgetName, buildWidget(widget, this.model, widgetModel, { tagName: 'span', childValue: this.childValue }));\n      });\n    },\n  }),\n  arrayWidget: CollectionView.extend({\n    className: 'widgets-value',\n    childWidget: {\n      widget_type: 'fieldWidget',\n      definition: {},\n    },\n    getArrayValue(arrayValue) {\n      const filterValue = this.getOption('filter_value');\n      if (filterValue) arrayValue = filter(arrayValue, filterValue);\n\n      const rejectValue = this.getOption('reject_value');\n      if (rejectValue) arrayValue = reject(arrayValue, rejectValue);\n\n      return arrayValue;\n    },\n    initialize({ child_widget, field_name, key, childValue }) {\n      const arrayValue = getWidgetValue({\n        fields: this.model.getFields(),\n        name: field_name,\n        key,\n        childValue,\n      });\n\n      each(this.getArrayValue(arrayValue), value => {\n        const widgetModel = Radio.request('entities', 'widgets:model', child_widget || this.childWidget);\n        const widget = widgets[widgetModel.get('widget_type')];\n\n        this.addChildView(buildWidget(widget, this.model, widgetModel, { childValue: value }));\n      });\n    },\n    template: hbs`{{ defaultHtml }}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n\n      return { defaultHtml };\n    },\n  }),\n  formWidget: View.extend({\n    className: 'button-primary widgets__form-widget',\n    tagName: 'button',\n    template: hbs`{{far \"square-poll-horizontal\"}} {{formName}} {{far \"up-right-and-down-left-from-center\"}}`,\n    templateContext() {\n      return {\n        formName: this.getOption('form_name'),\n      };\n    },\n    triggers: {\n      'click': 'click',\n    },\n    onClick() {\n      if (this.getOption('is_modal')) {\n        const form = Radio.request('entities', 'forms:model', this.getOption('form_id'));\n        Radio.request('modal', 'show:form', this.model, this.getOption('form_name'), form, this.getOption('modal_size'));\n        return;\n      }\n      Radio.trigger('event-router', 'form:patient', this.model.id, this.getOption('form_id'));\n    },\n  }),\n  dateTimeWidget: {\n    template: hbs`{{formatDateTime dateTime format inputFormat=inputFormat defaultHtml=defaultHtml}}`,\n    templateContext() {\n      const dateTime = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n\n      return {\n        format: this.getOption('format') || 'TIME_OR_DAY',\n        inputFormat: this.getOption('input_format'),\n        dateTime,\n        defaultHtml: this.getOption('default_html'),\n      };\n    },\n  },\n};\n\nwidgets.groups = widgets.workspaces;\n\nexport default widgets;\n","import { View, CollectionView } from 'marionette';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport widgets, { buildWidget } from './widgets';\n\nimport './widgets.scss';\n\nconst WidgetView = View.extend({\n  className() {\n    return this.getOption('itemClassName');\n  },\n  template: hbs`{{#if definition.display_name}}<div class=\"widgets__heading\">{{ definition.display_name }}</div>{{/if}}<div class=\"widgets__item\" data-content-region></div>`,\n  regions: {\n    content: '[data-content-region]',\n  },\n  onRender() {\n    const widget = this.getOption('widget');\n    const patient = this.getOption('patient');\n\n    this.showChildView('content', buildWidget(widget, patient, this.model));\n  },\n});\n\nconst WidgetCollectionView = CollectionView.extend({\n  childView: WidgetView,\n  childViewOptions(model) {\n    const widget = widgets[model.get('widget_type')];\n\n    return {\n      itemClassName: this.getOption('itemClassName'),\n      widget,\n      model,\n      patient: this.model,\n    };\n  },\n  viewFilter({ model }) {\n    return model.get('widget_type');\n  },\n  viewComparator: false,\n});\n\nexport {\n  WidgetCollectionView,\n};\n","import Radio from 'backbone.radio';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport { animSidebar } from 'js/anim';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport PatientSidebarTemplate from './patient-sidebar.hbs';\n\nimport { WidgetCollectionView } from 'js/views/patients/widgets/widgets_views';\n\nimport 'scss/domain/patient-sidebar.scss';\nimport './patient-sidebar.scss';\n\nconst SidebarWidgetsView = WidgetCollectionView.extend({\n  itemClassName: 'patient-sidebar__section',\n});\n\nconst LayoutView = View.extend({\n  className: 'sidebar sidebar--small flex-region',\n  template: PatientSidebarTemplate,\n  regions: {\n    widgets: {\n      el: '[data-widgets-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click .js-patient': 'click:patient',\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.id);\n  },\n});\n\nexport {\n  LayoutView,\n  SidebarWidgetsView,\n};\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, SidebarWidgetsView } from 'js/views/patients/sidebar/patient/patient-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ patient }) {\n    this.showView(new LayoutView({ model: patient }));\n\n    this.getRegion('widgets').startPreloader();\n  },\n  beforeStart({ patient }) {\n    const patientModel = Radio.request('entities', 'fetch:patients:model', patient.id);\n    const fields = map(Radio.request('bootstrap', 'sidebarWidgets:fields'), fieldName => {\n      return Radio.request('entities', 'fetch:patientFields:model', patient.id, fieldName);\n    });\n\n    return [patientModel, ...fields];\n  },\n  onStart({ patient }) {\n    const widgets = Radio.request('bootstrap', 'sidebarWidgets');\n\n    this.showChildView('widgets', new SidebarWidgetsView({\n      model: patient,\n      collection: widgets,\n    }));\n  },\n  viewEvents: {\n    'close': 'stop',\n  },\n  onStop() {\n    Radio.request('sidebar', 'close');\n  },\n});\n","import { sortBy, isEqual, omit, size, isNull, clone } from 'underscore';\n\nimport Backbone from 'backbone';\n\nexport default Backbone.Model.extend({\n  getDefaultSelectedStates() {\n    return sortBy(this.get('defaultStates'));\n  },\n  getFilters() {\n    return clone(this.get('filters'));\n  },\n  getStatesFilters() {\n    return sortBy(this.get('states'));\n  },\n  getFilter(name) {\n    return this.get('filters')[name];\n  },\n  setFilter(name, value) {\n    const filters = this.getFilters();\n    filters[name] = value;\n    this.set('filters', filters);\n  },\n  getFiltersCount() {\n    const customFilters = this.getFilters();\n    const customFiltersCount = size(omit(customFilters, value => {\n      return isNull(value);\n    }));\n\n    const statesFilter = this.getStatesFilters();\n    const defaultStates = this.getDefaultSelectedStates();\n    const statesFilterSize = !isEqual(statesFilter, defaultStates) ? 1 : 0;\n\n    return customFiltersCount + statesFilterSize;\n  },\n  resetState() {\n    this.set({\n      filters: {},\n      states: this.getDefaultSelectedStates(),\n    });\n  },\n  getFiltersState() {\n    return {\n      filters: this.getFilters(),\n      states: this.getStatesFilters(),\n    };\n  },\n});\n","import { View, CollectionView } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport { animSidebar } from 'js/anim';\n\nimport Droplist from 'js/components/droplist';\nimport { CheckComponent } from 'js/views/patients/shared/actions_views';\n\nimport intl from 'js/i18n';\n\nimport './filters-sidebar.scss';\n\nconst i18n = intl.patients.sidebar.filters.filtersSidebarViews;\n\nconst CustomFilterDropList = Droplist.extend({\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  viewOptions: {\n    className: 'button-secondary w-100',\n    template: hbs`{{ name }}`,\n  },\n  picklistOptions() {\n    return {\n      attr: 'name',\n      isSelectlist: true,\n      headingText: i18n.customFilterDropList.headingText,\n      placeholderText: `${ this.getOption('filterTitle') }...`,\n    };\n  },\n});\n\nconst CustomFilterView = View.extend({\n  className: 'flex flex-align-center u-margin--b-8',\n  template: hbs`\n    <h4 class=\"sidebar__label\">{{ name }}</h4>\n    <div class=\"flex-grow\" data-filter-button></div>\n  `,\n  regions: {\n    filterButton: '[data-filter-button]',\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.slug = this.model.get('slug');\n\n    this.listenTo(state, 'change:filters', this.render);\n  },\n  onRender() {\n    const options = this.getOptions();\n    const selected = options.get(this.state.getFilter(this.slug)) || options.at(0);\n\n    const customFilter = new CustomFilterDropList({\n      collection: options,\n      state: { selected },\n      filterTitle: this.model.get('name'),\n    });\n\n    this.listenTo(customFilter.getState(), 'change:selected', (state, { id }) => {\n      this.state.setFilter(this.slug, id);\n    });\n\n    this.showChildView('filterButton', customFilter);\n  },\n  getOptions() {\n    const options = this.model.getOptions().clone();\n\n    options.unshift({\n      id: null,\n      name: i18n.customFilterView.defaultText,\n    });\n\n    return options;\n  },\n});\n\nconst CustomFiltersView = CollectionView.extend({\n  className: 'u-margin--t-32',\n  childView: CustomFilterView,\n  childViewOptions() {\n    return {\n      state: this.getOption('state'),\n    };\n  },\n  viewComparator({ model }) {\n    return String(model.get('name')).toLowerCase();\n  },\n});\n\nconst StatesFilterView = View.extend({\n  className: 'u-margin--b-8',\n  template: hbs`\n    <div class=\"flex flex-align-center\">\n      <div data-check-region class=\"u-margin--r-16\"></div>\n      <span class=\"action--{{ options.color }}\">\n        <span class=\"u-margin--r-8\">{{fa options.iconType options.icon}}</span><span>{{ name }}</span>\n      </span>\n    </div>\n  `,\n  regions: {\n    check: '[data-check-region]',\n  },\n  initialize({ state }) {\n    this.state = state;\n  },\n  onRender() {\n    this.showCheck();\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    const stateId = this.model.get('id');\n    const selectedStates = this.state.get('states');\n    const isSelected = selectedStates && selectedStates.includes(stateId);\n\n    this.toggleSelected(isSelected);\n\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'() {\n        this.triggerMethod('select', this.model, isSelected);\n      },\n      'change:selected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n});\n\nconst StatesFiltersView = CollectionView.extend({\n  modelEvents: {\n    'change:states': 'render',\n  },\n  childView: StatesFilterView,\n  childViewOptions() {\n    return {\n      state: this.model,\n    };\n  },\n  childViewTriggers: {\n    'select': 'select:state',\n  },\n  className: 'sidebar__section',\n  template: hbs`<h3 class=\"sidebar__heading u-margin--b-8\">States</h3>`,\n  onSelectState(model, isSelected) {\n    const currentStatesList = this.model.get('states');\n\n    if (isSelected) {\n      const newStatesList = currentStatesList.filter(stateFilter => {\n        return model.id !== stateFilter;\n      });\n\n      this.model.set('states', newStatesList);\n\n      return;\n    }\n\n    this.model.set('states', [...currentStatesList, model.id]);\n  },\n});\n\nconst HeaderView = View.extend({\n  modelEvents: {\n    'change': 'render',\n  },\n  template: hbs`\n    <div class=\"flex flex-align-center\">\n      <div class=\"flex-grow\">\n        <h3 class=\"sidebar__heading\">\n          <span class=\"u-margin--r-8\">{{far \"sliders\"}}</span>{{ @intl.patients.sidebar.filters.filtersSidebarViews.headerView.allFiltersLabel }}\n          {{#if filtersCount}}<span>({{filtersCount}})</span>{{/if}}\n        </h3>\n      </div>\n      <div class=\"flex flex-align-center\">\n        <button class=\"filters-sidebar__clear-filters js-clear-filters\" {{#if isClearDisabled}}disabled{{/if}}>\n          {{ @intl.patients.sidebar.filters.filtersSidebarViews.headerView.clearFilters }}\n        </button>\n        <button class=\"filters-sidebar__close button--icon js-close\">{{fas \"xmark\"}}</button>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    const filtersCount = this.model.getFiltersCount();\n\n    return {\n      filtersCount,\n      isClearDisabled: !filtersCount,\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'sidebar flex-region',\n  template: hbs`\n    <div class=\"flex-grow\">\n      <div data-header-region></div>\n      <div data-custom-filters-region></div>\n      <div data-states-filters-region></div>\n    </div>\n  `,\n  regions: {\n    header: {\n      el: '[data-header-region]',\n      replaceElement: true,\n    },\n    customFilters: '[data-custom-filters-region]',\n    statesFilters: '[data-states-filters-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click .js-clear-filters': 'click:clearFilters',\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n});\n\nexport {\n  LayoutView,\n  HeaderView,\n  CustomFiltersView,\n  StatesFiltersView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport StateModel from 'js/apps/patients/sidebar/filters_state';\n\nimport { LayoutView, HeaderView, CustomFiltersView, StatesFiltersView } from 'js/views/patients/sidebar/filters/filters-sidebar_views';\n\nexport default App.extend({\n  StateModel,\n  onStart({ availableStates }) {\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    this.states = currentWorkspace.getStates();\n    this.directories = Radio.request('bootstrap', 'directories');\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.availableStates = availableStates;\n\n    this.showView(new LayoutView({\n      model: this.getState(),\n    }));\n\n    this.showHeaderView();\n    this.showCustomFiltersView();\n    this.showStatesFiltersView();\n  },\n  viewEvents: {\n    'close': 'stop',\n    'click:clearFilters': 'onClearFilters',\n  },\n  showHeaderView() {\n    const headerView = new HeaderView({ model: this.getState() });\n\n    this.showChildView('header', headerView);\n  },\n  showCustomFiltersView() {\n    const collection = this.directories.clone();\n\n    const customFilters = Radio.request('bootstrap', 'setting', 'custom_filters');\n\n    if (customFilters && customFilters.length) {\n      const filteredDirectories = collection.filter(directory => {\n        return customFilters.includes(directory.get('slug'));\n      });\n\n      collection.reset(filteredDirectories);\n    }\n\n    const customFiltersView = new CustomFiltersView({\n      collection,\n      state: this.getState(),\n    });\n\n    this.showChildView('customFilters', customFiltersView);\n  },\n  showStatesFiltersView() {\n    const statesFiltersView = new StatesFiltersView({\n      collection: this.availableStates,\n      model: this.getState(),\n    });\n\n    this.showChildView('statesFilters', statesFiltersView);\n  },\n  onClearFilters() {\n    this.getState().resetState();\n  },\n  onStop() {\n    Radio.request('sidebar', 'close');\n  },\n});\n","import { extend } from 'underscore';\n\nimport App from 'js/base/app';\n\nimport ActionSidebarApp from 'js/apps/patients/sidebar/action-sidebar_app';\nimport FlowSidebarApp from 'js/apps/patients/sidebar/flow-sidebar_app';\nimport ProgramSidebarApp from 'js/apps/programs/sidebar/program-sidebar_app';\nimport ProgramFlowSidebarApp from 'js/apps/programs/sidebar/flow-sidebar_app';\nimport ProgramActionSidebarApp from 'js/apps/programs/sidebar/action-sidebar_app';\nimport ClinicianSidebarApp from 'js/apps/clinicians/sidebar/clinician-sidebar_app';\nimport PatientSidebarApp from 'js/apps/patients/sidebar/patient-sidebar_app';\nimport FiltersSidebarApp from 'js/apps/patients/sidebar/filters-sidebar_app';\n\nexport default App.extend({\n  channelName: 'sidebar',\n\n  radioRequests: {\n    'close': 'closeSidebar',\n    'start': 'startSidebarApp',\n  },\n\n  childApps: {\n    action: ActionSidebarApp,\n    flow: FlowSidebarApp,\n    program: ProgramSidebarApp,\n    programFlow: ProgramFlowSidebarApp,\n    programAction: ProgramActionSidebarApp,\n    clinician: ClinicianSidebarApp,\n    patient: PatientSidebarApp,\n    filters: FiltersSidebarApp,\n  },\n\n  startSidebarApp(appName, appOptions) {\n    /* istanbul ignore if */\n    if (this.isStarting) return;\n\n    this.isStarting = true;\n\n    this.stopSidebarApp();\n\n    const sidebarOpts = extend({\n      region: this.getRegion(),\n    }, appOptions);\n\n    this.currentApp = this.startChildApp(appName, sidebarOpts);\n\n    this.isStarting = false;\n\n    this.getChannel().trigger('show', this.currentApp);\n\n    return this.currentApp;\n  },\n\n  closeSidebar() {\n    const currentApp = this.currentApp;\n\n    this.stopSidebarApp();\n\n    this.getRegion().empty();\n\n    this.getChannel().trigger('close', currentApp);\n  },\n\n  stopSidebarApp() {\n    if (!this.currentApp) return;\n\n    this.currentApp.stop();\n\n    delete this.currentApp;\n  },\n});\n","import { noop } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView, Region } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/modals.scss';\n\nimport Component from 'js/base/component';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport PicklistBehavior from 'js/behaviors/picklist-transport';\n\nimport './patient-search.scss';\n\nconst TipTemplate = hbs`\n  <div class=\"patient-search__tip\">{{ @intl.globals.search.patientSearchViews.emptyView.searchTip }}</div>\n  <div class=\"patient-search__search-by\">\n    <div class=\"patient-search__search-by-title\">{{ @intl.globals.search.patientSearchViews.emptyView.searchBy }}</div>\n    <div class=\"u-margin--t-8 qa-search-option\">\n      <span class=\"patient-search__search-by-label\">{{ @intl.globals.search.patientSearchViews.emptyView.exampleDobLabel }}</span>\n      {{ @intl.globals.search.patientSearchViews.emptyView.exampleDob }}\n    </div>\n    {{#each settings.identifiers}}\n      <div class=\"u-margin--t-8 qa-search-option\">\n        <span class=\"patient-search__search-by-label\">{{this.label}}</span>\n        {{ @intl.globals.search.patientSearchViews.emptyView.exampleId }} {{this.example}}\n      </div>\n    {{/each}}\n  </div>\n  <div class=\"patient-search__shortcut\">{{fas \"keyboard\"}}<strong class=\"u-margin--l-8\">{{ @intl.globals.search.patientSearchViews.emptyView.shortcut }}</strong></div>\n`;\n\nconst EmptyView = View.extend({\n  collectionEvents: {\n    'search': 'render',\n  },\n  tagName: 'li',\n  className: 'patient-search__no-results',\n  initialize({ state }) {\n    this.state = state;\n    this.listenTo(this.state, 'change:search', this.render);\n  },\n  templateContext() {\n    const settings = Radio.request('bootstrap', 'setting', 'patient_search');\n    return { settings };\n  },\n  getTemplate() {\n    const search = this.state.get('search');\n\n    if (!search || search.length < 3) return TipTemplate;\n    if (this.collection.isSearching) return hbs`{{ @intl.globals.search.patientSearchViews.emptyView.searching }}`;\n\n    return hbs`{{ @intl.globals.search.patientSearchViews.emptyView.noResults }}`;\n  },\n});\n\nconst PicklistItem = View.extend({\n  tagName: 'li',\n  className: 'js-picklist-item patient-search__picklist-item',\n  initialize({ state }) {\n    this.state = state;\n    this.listenTo(this.state, 'change:search', this.render);\n  },\n  triggers: {\n    'click': 'select',\n  },\n  onSelect() {\n    this.state.set({ selected: this.model });\n  },\n  template: hbs`\n    <div class=\"patient-search__picklist-item-name u-text--overflow\">\n      <span>{{matchText name search}}{{~ remove_whitespace ~}}</span>\n    </div>\n    <div class=\"patient-search__picklist-item-meta\">\n      <div class=\"patient-search__picklist-item-dob u-text--overflow\">\n        {{formatDateTime birth_date \"MM/DD/YYYY\"}}\n      </div>\n      {{#if hasIdentifiers}}\n        <div class=\"patient-search__picklist-item-identifier u-text--overflow\">\n          {{#if identifiers.0.value}}{{matchText identifiers.0.value search}}{{else}}&ndash;{{/if}}\n        </div>\n      {{/if}}\n    </div>\n  `,\n  templateContext() {\n    return {\n      name: `${ this.model.get('first_name') } ${ this.model.get('last_name') }`,\n      search: this.state.get('search'),\n      hasIdentifiers: this.collection.hasIdentifiers(),\n    };\n  },\n});\n\nconst ListView = CollectionView.extend({\n  tagName: 'ul',\n  serializeCollection: noop,\n  childView: PicklistItem,\n  childViewOptions() {\n    return {\n      collection: this.collection,\n      state: this.model,\n    };\n  },\n  onRenderChildren() {\n    this.$('.js-picklist-item').removeClass('is-highlighted');\n\n    if (!this.model.get('search')) return;\n\n    this.$('.js-picklist-item').first().addClass('is-highlighted');\n  },\n  emptyView: EmptyView,\n});\n\nconst HeaderView = View.extend({\n  className: 'patient-search__picklist-header',\n  template: hbs`\n    <div class=\"patient-search__picklist-header-name\">\n      {{ @intl.globals.search.patientSearchViews.headerView.patient }}\n    </div>\n    <div class=\"patient-search__picklist-header-meta\">\n      <div class=\"patient-search__picklist-header-dob\">\n        {{ @intl.globals.search.patientSearchViews.headerView.dob }}\n      </div>\n      {{#if hasIdentifiers}}\n        <div class=\"patient-search__picklist-header-identifier\">\n        {{ @intl.globals.search.patientSearchViews.headerView.id }}\n        </div>\n      {{/if}}\n    </div>\n  `,\n  templateContext() {\n    return {\n      hasIdentifiers: this.collection.hasIdentifiers(),\n    };\n  },\n});\n\nconst DialogView = View.extend({\n  className: 'patient-search__picklist',\n  collectionEvents: {\n    'search': 'showHeader',\n  },\n  modelEvents: {\n    'change:search': 'showHeader',\n  },\n  behaviors: [\n    {\n      behaviorClass: InputFocusBehavior,\n      selector: '.js-input',\n    },\n    InputWatcherBehavior,\n    PicklistBehavior,\n  ],\n  triggers: {\n    'focus @ui.input': 'focus',\n  },\n  ui: {\n    input: '.js-input',\n  },\n  regionClass: Region.extend({ replaceElement: true }),\n  regions: {\n    header: '[data-header-region]',\n    list: '[data-list-region]',\n  },\n  template: hbs`\n    <div class=\"modal__header patient-search__header\">\n      <span class=\"modal__header-icon\">{{far \"magnifying-glass\"}}</span>\n      <input type=\"text\" class=\"js-input patient-search__input\" placeholder=\"{{ @intl.globals.search.patientSearchViews.dialogView.placeholderText }}\" value=\"{{ search }}\">\n    </div>\n    <div class=\"flex-region picklist__scroll js-picklist-scroll\">\n      <div data-header-region></div>\n      <div data-list-region></div>\n    </div>\n  `,\n  onRender() {\n    this.showHeader();\n    this.showChildView('list', new ListView({\n      collection: this.collection,\n      model: this.model,\n    }));\n  },\n  showHeader() {\n    if (!this.collection.length) {\n      this.getRegion('header').empty();\n      return;\n    }\n\n    this.showChildView('header', new HeaderView({ collection: this.collection }));\n  },\n});\n\nconst PatientSearchPicklist = Component.extend({\n  initialize: function(options) {\n    this.mergeOptions(options, ['collection']);\n  },\n  viewOptions() {\n    return {\n      model: this.getState(),\n      collection: this.collection,\n    };\n  },\n  ViewClass: DialogView,\n  viewEvents: {\n    'watch:change': 'onWatchChange',\n  },\n  onWatchChange(search) {\n    this.setState('search', search);\n  },\n});\n\nconst PatientSearchModal = View.extend({\n  className: 'modal',\n  template: hbs`\n    <a href=\"#\" class=\"button--icon patient-search__close js-close\">{{far \"xmark\"}}</a>\n    <div data-picklist-region></div>\n  `,\n  triggers: {\n    'click .js-close': 'close',\n  },\n  regions: {\n    picklist: {\n      el: '[data-picklist-region]',\n      replaceElement: true,\n    },\n  },\n  serializeCollection: noop,\n  onRender() {\n    const collection = this.collection;\n    const search = this.getOption('prefillText');\n\n    const picklistComponent = new PatientSearchPicklist({\n      collection,\n      state: { search },\n    });\n\n    this.listenTo(picklistComponent.getState(), {\n      'change:search': this.onChangeSearch,\n      'change:selected': this.onChangeSelected,\n    });\n\n    this.showChildView('picklist', picklistComponent);\n\n    if (search) this.collection.search(search);\n\n    this.listenTo(picklistComponent.getView(), 'close', this.destroy);\n  },\n  onChangeSearch(state, search) {\n    this.collection.search(search);\n  },\n  onChangeSelected(state, result) {\n    this.triggerMethod('search:select', result);\n  },\n  onClose() {\n    this.destroy();\n  },\n});\n\nexport {\n  PatientSearchModal,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { PatientSearchModal } from 'js/views/globals/search/patient-search_views';\n\nexport default App.extend({\n  onStart({ prefillText }) {\n    const patientSearchModal = new PatientSearchModal({\n      collection: Radio.request('entities', 'searchPatients:collection'),\n      prefillText,\n    });\n\n    this.listenTo(patientSearchModal, {\n      'search:select'(result) {\n        Radio.trigger('event-router', 'patient:dashboard', result.get('_patient'));\n        patientSearchModal.destroy();\n      },\n      'destroy'() {\n        this.stop();\n      },\n    });\n\n    Radio.request('modal', 'show:custom', patientSearchModal);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport Droplist from 'js/components/droplist';\n\nimport intl from 'js/i18n';\n\nimport './app-nav.scss';\n\nconst i18n = intl.globals.appNav.appNavViews;\n\nconst MainNavDroplist = Droplist.extend({\n  popWidth: '248px',\n  position() {\n    const { outerHeight } = this.getView().getBounds();\n\n    return {\n      top: outerHeight,\n      left: 16,\n    };\n  },\n  viewOptions: {\n    tagName: 'div',\n    className() {\n      if (this.getOption('state').isMinimized) return 'app-nav__header minimized';\n      return 'app-nav__header';\n    },\n    template: hbs`\n      {{#if isMinimized}}\n        <img class=\"app-nav__header-logo\" src=\"/rwell-logo.svg\" />\n      {{else}}\n        <div class=\"u-text--overflow\">\n          <h2 class=\"app-nav__header-title u-text--overflow\">{{ workspaceName }}</h2>\n          <span class=\"app-nav__header-arrow\">{{far \"angle-down\"}}</span>\n        </div>\n        <div class=\"u-text--overflow\">{{ userName }}</div>\n      {{/if}}\n    `,\n    templateContext() {\n      const currentUser = Radio.request('bootstrap', 'currentUser');\n      const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n\n      return {\n        userName: currentUser.get('name'),\n        workspaceName: currentWorkspace.get('name'),\n        isMinimized: this.getOption('state').isMinimized,\n      };\n    },\n  },\n  picklistOptions() {\n    return {\n      className: 'picklist app-nav__picklist',\n      template: hbs`\n        <div class=\"app-nav__picklist-heading\">{{ @intl.globals.appNav.appNavViews.mainNavDroplist.organizationHeading }}</div>\n        <div class=\"app-nav__picklist-workspace-name js-picklist-item\">{{ headingText }}</div>\n        <div class=\"flex-region picklist__scroll\">\n          <div class=\"app-nav__picklist-heading\">{{ @intl.globals.appNav.appNavViews.mainNavDroplist.workspacesHeading }}</div>\n          <ul class=\"js-picklist-scroll\"></ul>\n          <div class=\"app-nav__picklist-bottom\">\n            {{#if infoText}}\n            <a class=\"picklist__item app-nav__picklist-item js-picklist-item\" href=\"{{ infoText }}\" target=\"_blank\">\n              {{far \"life-ring\"}}<span>{{ @intl.globals.appNav.appNavViews.mainNavDroplist.help }}</span>\n            </a>\n            {{/if}}\n            <a class=\"picklist__item app-nav__picklist-item js-picklist-item\" href=\"/logout\">\n              {{fas \"right-from-bracket\"}}<span>{{ @intl.globals.appNav.appNavViews.mainNavDroplist.signOut }}</span>\n            </a>\n          </div>\n        </div>\n      `,\n      headingText() {\n        const currentOrg = Radio.request('bootstrap', 'organization');\n\n        return currentOrg.get('name');\n      },\n      infoText() {\n        const helpUrl = Radio.request('bootstrap', 'setting', 'help_url');\n\n        return helpUrl ?? 'https://help.roundingwell.com/';\n      },\n      itemClassName: 'app-nav__picklist-item',\n    };\n  },\n  picklistEvents: {\n    'picklist:item:select': 'onSelect',\n  },\n  onSelect({ model }) {\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n\n    if (model.id === currentWorkspace.id) return;\n\n    model.get('onSelect')();\n  },\n});\n\nconst AdminToolsDroplist = Droplist.extend({\n  popWidth: '248px',\n  position() {\n    const isMinimized = this.getOption('state').get('isMinimized');\n\n    return {\n      top: window.innerHeight - 16,\n      left: !isMinimized ? 164 : 52,\n    };\n  },\n  viewOptions: {\n    tagName: 'div',\n    className: 'flex flex-align-center app-nav__bottom-button',\n    template: hbs`{{fas \"ellipsis\"}}{{#unless isMinimized}}<span class=\"u-text--overflow\">{{ @intl.globals.appNav.appNavViews.adminToolsDroplist.adminTools }}</span>{{/unless}}`,\n    templateContext() {\n      return {\n        isMinimized: this.getOption('state').get('isMinimized'),\n      };\n    },\n  },\n  picklistOptions() {\n    return {\n      className: 'picklist app-nav__picklist',\n      itemClassName: 'flex flex-align-center app-nav__picklist-item',\n      headingText: intl.globals.appNav.appNavViews.adminToolsDroplist.adminTools,\n      lists: [{\n        collection: this.collection,\n        itemTemplate: hbs`\n          {{fa icon.type icon.icon classes=icon.classes~}}\n          <span>{{formatMessage text}}</span>\n        `,\n      }],\n    };\n  },\n  picklistEvents: {\n    'picklist:item:select': 'onSelect',\n  },\n  onSelect({ model }) {\n    model.get('onSelect')();\n  },\n});\n\nconst BottomNavView = View.extend({\n  className: 'app-nav__bottom',\n  regions: {\n    dashboards: {\n      el: '[data-nav-dashboards-region]',\n      replaceElement: true,\n    },\n    adminTools: {\n      el: '[data-nav-admin-tools-region]',\n      replaceElement: true,\n    },\n  },\n  template: hbs`\n    <div data-nav-dashboards-region></div>\n    {{#if canPatientCreate}}\n      <div class=\"flex flex-align-center app-nav__bottom-button js-add-patient\">\n        {{fas \"circle-plus\"}}{{#unless isMinimized}}<span class=\"u-text--overflow\">{{ @intl.globals.appNav.appNavViews.appNavView.addPatient }}</span>{{/unless}}\n      </div>\n    {{/if}}\n    <div data-nav-admin-tools-region></div>\n    <div class=\"flex flex-align-center app-nav__bottom-button js-minimize-menu\">\n      {{#if isMinimized}}\n        {{fas \"square-caret-right\"}}\n      {{else}}\n        {{fas \"square-caret-left\"}}<span class=\"u-text--overflow\">{{ @intl.globals.appNav.appNavViews.appNavView.minimizeMenu }}</span>\n      {{/if}}\n    </div>\n  `,\n  templateContext() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const hasManualPatientCreate = Radio.request('bootstrap', 'setting', 'manual_patient_creation');\n\n    return {\n      canPatientCreate: hasManualPatientCreate && currentUser.can('patients:manage'),\n    };\n  },\n});\n\nconst AppNavView = View.extend({\n  className() {\n    if (this.model.get('isMinimized')) return 'app-nav minimized';\n    return 'app-nav';\n  },\n  regions: {\n    navMain: {\n      el: '[data-nav-main-region]',\n      replaceElement: true,\n    },\n    navContent: '[data-nav-content-region]',\n    bottomNavContent: {\n      el: '[data-bottom-nav-content-region]',\n      replaceElement: true,\n    },\n  },\n  triggers: {\n    'click .js-add-patient': 'click:addPatient',\n    'click .js-minimize-menu': 'click:minimizeMenu',\n  },\n  template: hbs`\n    <div data-nav-main-region></div>\n    <div data-nav-content-region></div>\n    <div data-bottom-nav-content-region></div>\n  `,\n  modelEvents: {\n    'change:isMinimized': 'onToggleMinimized',\n  },\n  onToggleMinimized() {\n    this.$el.toggleClass('minimized', this.model.get('isMinimized'));\n  },\n  removeSelected() {\n    this.$('.is-selected').removeClass('is-selected');\n  },\n});\n\nconst NavItemView = View.extend({\n  tagName: 'a',\n  className: 'flex app-nav__link',\n  template: hbs`\n    <div class=\"flex flex-align-center app-nav__link-icons\">\n      {{#each icons}}\n        {{fa this.type this.icon classes=this.classes~}}\n      {{/each}}\n    </div>\n    {{#unless isMinimized}}<div class=\"u-margin--l-16 u-text--overflow\">{{formatMessage text}}</div>{{/unless}}\n  `,\n  templateContext() {\n    return {\n      isMinimized: this.state.get('isMinimized'),\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  modelEvents: {\n    'selected': 'onSelected',\n  },\n  initialize({ state }) {\n    this.state = state;\n  },\n  onClick() {\n    Radio.trigger('event-router', this.model.get('event'), ...this.model.get('eventArgs'));\n  },\n  onSelected() {\n    this.$el.addClass('is-selected');\n  },\n});\n\nconst AppNavCollectionView = CollectionView.extend({\n  childView: NavItemView,\n  childViewOptions() {\n    return {\n      state: this.model,\n    };\n  },\n});\n\nconst PatientsAppNav = View.extend({\n  template: hbs`\n    <h3 class=\"flex app-nav__search js-search\">\n      {{fas \"magnifying-glass\"}}{{#unless isMinimized}}<span class=\"u-text--overflow\">{{ @intl.globals.appNav.appNavViews.patientsAppNav.searchTitle }}</span>{{/unless}}\n    </h3>\n    {{#unless isMinimized}}\n      <h3 class=\"app-nav__title\">{{ @intl.globals.appNav.appNavViews.patientsAppNav.worklistsTitle }}</h3>\n    {{/unless}}\n    <div data-worklists-region></div>\n  `,\n  regions: {\n    worklists: '[data-worklists-region]',\n  },\n  triggers: {\n    'click @ui.search': 'search',\n  },\n  ui: {\n    search: '.js-search',\n  },\n  onSearchActive(isActive) {\n    /* istanbul ignore if: No need to test safeguard */\n    if (this.isDestroyed()) return;\n    this.ui.search.toggleClass('is-active', isActive);\n  },\n});\n\nexport {\n  AppNavView,\n  AppNavCollectionView,\n  MainNavDroplist,\n  PatientsAppNav,\n  AdminToolsDroplist,\n  BottomNavView,\n  NavItemView,\n  i18n,\n};\n","import { extend } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\nimport { mixinState } from 'marionette.toolkit';\n\nimport 'scss/modules/modals.scss';\n\nimport DateSelectComponent from 'js/components/dateselect';\nimport Droplist from 'js/components/droplist';\nimport WorkspacesManagerComponent from 'js/views/shared/components/workspaces-manager';\n\nimport intl from 'js/i18n';\nimport trim from 'js/utils/formatting/trim';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport PatientModalTemplate from './patient-modal.hbs';\n\nimport './patient-modal.scss';\n\nconst i18n = intl.globals.patientModal.patientModalViews;\n\nconst InputView = View.extend({\n  behaviors() {\n    if (!this.getOption('shouldFocus')) return;\n\n    return [\n      {\n        behaviorClass: InputFocusBehavior,\n        selector: '.js-input',\n      },\n    ];\n  },\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input {{#if hasError}}has-error{{/if}}\" placeholder=\"{{ placeholder }}\" value=\"{{ value }}\" {{#unless canEdit}}disabled{{/unless}} />\n    {{#unless canEdit}}<span class=\"patient-modal__locked-icon\">{{far \"lock\"}}</span>{{/unless}}\n  `,\n  templateContext() {\n    const errors = this.getOption('state').get('errors');\n\n    return {\n      hasError: errors && errors[this.getOption('errorField')],\n      placeholder: this.getOption('placeholder'),\n      value: this.model.get(this.getOption('attr')),\n      canEdit: this.model.canEdit(),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onChange',\n  },\n  initialize({ state }) {\n    this.listenTo(state, 'change:errors', this.render);\n  },\n  onChange() {\n    const text = this.ui.input.val();\n    this.model.set(this.getOption('attr'), trim(text));\n  },\n  onDomRefresh() {\n    if (this.getOption('shouldFocus')) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst SexDroplist = Droplist.extend({\n  initialize({ model }) {\n    const patientSex = model.get('sex');\n\n    this.collection = new Backbone.Collection([\n      {\n        text: i18n.sexDroplist.male,\n        value: 'm',\n      },\n      {\n        text: i18n.sexDroplist.female,\n        value: 'f',\n      },\n      {\n        text: i18n.sexDroplist.other,\n        value: 'u',\n      },\n    ]);\n\n    this.setState('selected', this.collection.find({ value: patientSex }));\n  },\n  viewOptions: {\n    className: 'button-secondary modal__form-component',\n    template: hbs`{{far \"user\"}}<span>{{ text }}{{#unless text}}{{ @intl.globals.patientModal.patientModalViews.sexDroplist.defaultText }}{{/unless}}</span>`,\n  },\n});\n\nconst BirthdateView = View.extend({\n  className: 'modal__form-component',\n  template: hbs`<div data-date-select-region></div>`,\n  regions: {\n    dateSelect: {\n      el: '[data-date-select-region]',\n      replaceElement: true,\n    },\n  },\n  onChangeDate(state, date) {\n    state.set('hasError', date && date.isAfter());\n    this.triggerMethod('change:selected', date);\n  },\n  onRender() {\n    const birthdateSelect = new DateSelectComponent({\n      state: {\n        selectedDate: this.model.get('birth_date'),\n        isDisabled: !this.model.canEdit(),\n      },\n      viewOptions: {\n        className: 'flex',\n      },\n    });\n\n    this.listenTo(birthdateSelect, 'change:date', this.onChangeDate);\n\n    this.showChildView('dateSelect', birthdateSelect);\n  },\n});\n\nconst ErrorView = View.extend({\n  className: 'modal__footer-info modal__error',\n  template: hbs`{{ error }}{{#if hasSearch}} <a class=\"u-margin--l-8 u-text-link js-search\">{{@intl.globals.patientModal.patientModalViews.errorView.searchBtn}}</a>{{/if}}`,\n  templateContext() {\n    return {\n      error: this.getOption('error') || i18n.errorView.errors[this.getOption('errorCode')],\n      hasSearch: this.getOption('hasSearch'),\n    };\n  },\n  triggers: {\n    'click .js-search': 'click:search',\n  },\n});\n\nconst PatientModal = View.extend({\n  className: 'modal__content',\n  regions: {\n    firstName: '[data-first-name-region]',\n    lastName: '[data-last-name-region]',\n    dob: '[data-dob-region]',\n    sex: '[data-sex-region]',\n    workspaces: '[data-workspaces-region]',\n  },\n  modelEvents: {\n    'change': 'onChange',\n  },\n  template: PatientModalTemplate,\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n      canEdit: this.model.canEdit(),\n    };\n  },\n  initialize({ state }) {\n    this.initState({ state });\n  },\n  onRender() {\n    this.showFirstNameView();\n    this.showLastNameView();\n    this.showSexDroplist();\n    this.showBirthDatePicker();\n    this.showWorkspacesComponent();\n  },\n  showFirstNameView() {\n    this.showChildView('firstName', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'first_name',\n      placeholder: i18n.patientModal.firstName,\n      errorField: 'name',\n      shouldFocus: true,\n    }));\n  },\n  showLastNameView() {\n    this.showChildView('lastName', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'last_name',\n      placeholder: i18n.patientModal.lastName,\n      errorField: 'name',\n    }));\n  },\n  showSexDroplist() {\n    const sexDroplist = this.showChildView('sex', new SexDroplist({\n      model: this.model,\n      state: {\n        isDisabled: !this.model.canEdit(),\n      },\n    }));\n\n    this.listenTo(sexDroplist, {\n      'change:selected'(selected) {\n        this.model.set('sex', selected.get('value'));\n      },\n    });\n  },\n  showBirthDatePicker() {\n    const birthDatePicker = this.showChildView('dob', new BirthdateView({\n      model: this.model,\n      state: this.getState(),\n    }));\n\n    this.listenTo(birthDatePicker, {\n      'change:selected'(date) {\n        this.model.set('birth_date', date ? date.format('YYYY-MM-DD') : null);\n      },\n    });\n  },\n  showWorkspacesComponent() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const workspacesManager = this.showChildView('workspaces', new WorkspacesManagerComponent({\n      member: this.model,\n      workspaces: currentUser.getWorkspaces(),\n      isDisabled: !this.model.canEdit(),\n    }));\n\n    this.listenTo(workspacesManager, {\n      'add:member'(patient, workspace) {\n        this.model.addWorkspace(workspace);\n      },\n      'remove:member'(patient, workspace) {\n        this.model.removeWorkspace(workspace);\n      },\n    });\n  },\n});\n\nmixinState(PatientModal);\n\nfunction getPatientModal(opts) {\n  const patient = opts.patient;\n  const bodyView = new PatientModal({\n    model: patient,\n  });\n\n  const canEdit = patient.canEdit();\n\n  if (canEdit) {\n    const type = patient.isNew() ? 'add' : 'edit';\n\n    return extend({\n      bodyView,\n      headerIcon: 'address-card',\n    }, i18n.patientModal[type], opts);\n  }\n\n  return extend({\n    bodyView,\n    cancelText: false,\n    headerIcon: 'address-card',\n    infoText: i18n.patientModal.patientAccountManaged,\n  }, i18n.patientModal.view, opts);\n}\n\nexport {\n  ErrorView,\n  getPatientModal,\n};\n","import { compact, isEqual, noop, partial, defer } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport store from 'store';\n\nimport RouterApp from 'js/base/routerapp';\n\nimport SearchApp from './search_app';\nimport { AppNavView, AppNavCollectionView, MainNavDroplist, PatientsAppNav, BottomNavView, NavItemView, AdminToolsDroplist, i18n } from 'js/views/globals/app-nav/app-nav_views';\nimport { getPatientModal, ErrorView } from 'js/views/globals/patient-modal/patient-modal_views';\n\nconst StateModel = Backbone.Model.extend({\n  defaults: {\n    isMinimized: false,\n  },\n});\n\nconst dashboardsNav = new Backbone.Model({\n  text: i18n.dashboardsNav.dashboards,\n  icons: [{\n    type: 'far',\n    icon: 'gauge',\n  }],\n  event: 'dashboards:all',\n  eventArgs: [],\n});\n\nconst adminNavMenu = new Backbone.Collection([\n  {\n    onSelect() {\n      Radio.trigger('event-router', 'programs:all');\n    },\n    id: 'ProgramsApp',\n    text: i18n.adminNav.programs,\n    icon: {\n      type: 'far',\n      icon: 'screwdriver-wrench',\n    },\n  },\n  {\n    onSelect() {\n      Radio.trigger('event-router', 'clinicians:all');\n    },\n    id: 'CliniciansApp',\n    text: i18n.adminNav.clinicians,\n    icon: {\n      type: 'far',\n      icon: 'users-gear',\n    },\n  },\n]);\n\nconst patientsAppWorkflowsNav = new Backbone.Collection([\n  {\n    text: i18n.patientsAppNav.ownedBy,\n    icons: [{\n      type: 'fas',\n      icon: 'list',\n    }],\n    event: 'worklist',\n    eventArgs: ['owned-by'],\n  },\n  {\n    text: i18n.patientsAppNav.schedule,\n    icons: [{\n      type: 'fas',\n      icon: 'calendar-star',\n    }],\n    event: 'schedule',\n    eventArgs: [],\n  },\n  {\n    text: i18n.patientsAppNav.sharedBy,\n    icons: [{\n      type: 'fas',\n      icon: 'arrow-right-arrow-left',\n    }],\n    event: 'worklist',\n    eventArgs: ['shared-by'],\n  },\n  {\n    text: i18n.patientsAppNav.newPastDay,\n    icons: [\n      {\n        type: 'fas',\n        icon: 'angle-left',\n      },\n      {\n        type: 'fas',\n        icon: '1',\n      },\n    ],\n    event: 'worklist',\n    eventArgs: ['new-past-day'],\n  },\n  {\n    text: i18n.patientsAppNav.updatedPastThree,\n    icons: [\n      {\n        type: 'fas',\n        icon: 'angle-left',\n      },\n      {\n        type: 'fas',\n        icon: '3',\n      },\n    ],\n    event: 'worklist',\n    eventArgs: ['updated-past-three-days'],\n  },\n  {\n    text: i18n.patientsAppNav.doneLastThirty,\n    icons: [\n      {\n        type: 'fas',\n        icon: '3',\n      },\n      {\n        type: 'fas',\n        icon: '0',\n      },\n    ],\n    event: 'worklist',\n    eventArgs: ['done-last-thirty-days'],\n  },\n]);\n\nexport default RouterApp.extend({\n  eventRoutes() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const workspaces = currentUser.getWorkspaces();\n\n    const rootRoute = {\n      action: 'setWorkspace',\n      route: '',\n      root: true,\n    };\n\n    // Add a root route for each user workspace\n    return workspaces.reduce((routes, workspace) => {\n      const route = workspace.get('slug');\n      routes[`workspace:${ route }`] = {\n        action: partial(this.setWorkspace, route),\n        root: true,\n        route: [route, `${ route }/*route`],\n      };\n      return routes;\n    }, { 'root': rootRoute });\n  },\n  setWorkspace(slug, route) {\n    const workspace = Radio.request('bootstrap', 'setCurrentWorkspace', slug);\n    const workspaceSlug = workspace && workspace.get('slug');\n\n    if (!workspaceSlug || route) return;\n\n    defer(() => {\n      this.replaceUrl(this.getDefaultRoute());\n    });\n  },\n  getDefaultRoute() {\n    const workspace = Radio.request('bootstrap', 'currentWorkspace');\n    const workspaceSlug = workspace.get('slug');\n\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    if (currentUser.can('app:schedule:reduced')) {\n      return `/${ workspaceSlug }/schedule`;\n    }\n\n    return `/${ workspaceSlug }/worklist/owned-by`;\n  },\n  // NOTE: Don't stop this app on no match\n  onNoMatch: noop,\n  StateModel,\n  startAfterInitialized: true,\n  channelName: 'nav',\n  initialize() {\n    const bootstrapCh = Radio.channel('bootstrap');\n\n    this.listenTo(bootstrapCh, 'change:workspace', this.showMainNavDroplist);\n\n    const routerCh = Radio.channel('event-router');\n\n    this.listenTo(routerCh, 'default', () => {\n      defer(() => {\n        Backbone.history.navigate(this.getDefaultRoute(), { trigger: true });\n      });\n    });\n  },\n  radioRequests: {\n    'search': 'showSearch',\n    'patient': 'showPatientModal',\n    'select': 'selectNav',\n  },\n  stateEvents: {\n    'change:currentApp': 'onChangeCurrentApp',\n    'change:isMinimized': 'onChangeIsMinimized',\n  },\n  viewEvents: {\n    'click:addPatient': 'onClickAddPatient',\n    'click:minimizeMenu': 'onClickMinimizeMenu',\n  },\n  childApps: {\n    search: SearchApp,\n  },\n  selectNav(appName, event, eventArgs) {\n    this.setState('currentApp', appName);\n\n    this.navMatch = this.getNavMatch(appName, event, compact(eventArgs));\n\n    if (event === 'dashboards:all' && !this.navMatch) this.navMatch = dashboardsNav;\n\n    if (this.navMatch) {\n      this.getView().removeSelected();\n      this.navMatch.trigger('selected');\n    }\n  },\n  onChangeCurrentApp(state, appName) {\n    this.setSelectedAdminNavItem(appName);\n\n    this.getView().removeSelected();\n  },\n  onChangeIsMinimized() {\n    this.showMainNavDroplist();\n    this.showBottomNavView();\n    this.showNav();\n\n    if (this.navMatch) {\n      this.getView().removeSelected();\n      this.navMatch.trigger('selected');\n    }\n\n    const currentAppName = this.getState('currentApp');\n    this.setSelectedAdminNavItem(currentAppName);\n\n    store.set('isNavMenuMinimized', this.getState('isMinimized'));\n  },\n  getNavMatch(appName, event, eventArgs) {\n    return this._navMatch(patientsAppWorkflowsNav, event, eventArgs);\n  },\n  _navMatch(navCollection, event, eventArgs) {\n    return navCollection.find(model => {\n      return model.get('event') === event && isEqual(model.get('eventArgs'), eventArgs);\n    });\n  },\n  onBeforeStart() {\n    const storedState = store.get('isNavMenuMinimized');\n\n    if (storedState) {\n      this.setState('isMinimized', storedState);\n      return;\n    }\n\n    store.set('isNavMenuMinimized', this.getState('isMinimized'));\n  },\n  onStart() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    if (!currentUser.can('clinicians:manage')) {\n      adminNavMenu.remove('CliniciansApp');\n    }\n\n    if (!currentUser.can('programs:manage')) {\n      adminNavMenu.remove('ProgramsApp');\n    }\n\n    if (currentUser.can('app:schedule:reduced')) {\n      patientsAppWorkflowsNav.reset(patientsAppWorkflowsNav.filter({ event: 'schedule' }));\n    }\n\n    this.setView(new AppNavView({ model: this.getState() }));\n\n    this.showMainNavDroplist();\n    this.showNav();\n    this.showBottomNavView();\n\n    this.showView();\n  },\n  setSelectedAdminNavItem(appName) {\n    if (!adminNavMenu.length) return;\n\n    const selectedApp = adminNavMenu.get(appName);\n\n    if (!selectedApp) this.adminNavMenu.setState('selected', null);\n\n    this.adminNavMenu.setState('selected', selectedApp);\n  },\n  showBottomNavView() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    const bottomNavView = new BottomNavView({\n      model: this.getState(),\n    });\n\n    this.showChildView('bottomNavContent', bottomNavView);\n\n    if (currentUser.can('dashboards:view')) {\n      this.dashboardsNavView = new NavItemView({ model: dashboardsNav, state: this.getState() });\n      bottomNavView.showChildView('dashboards', this.dashboardsNavView);\n    }\n\n    if (adminNavMenu.length) {\n      this.adminNavMenu = new AdminToolsDroplist({ collection: adminNavMenu, state: this.getState() });\n      bottomNavView.showChildView('adminTools', this.adminNavMenu);\n    }\n  },\n  showMainNavDroplist() {\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const workspaces = currentUser.getWorkspaces();\n\n    const workspacesMenu = new Backbone.Collection(\n      workspaces.map(workspace => {\n        return {\n          id: workspace.id,\n          onSelect() {\n            Radio.trigger('event-router', `workspace:${ workspace.get('slug') }`);\n          },\n          text: workspace.get('name'),\n          icon: {\n            type: 'far',\n            icon: 'window',\n          },\n        };\n      }),\n    );\n\n    this.showChildView('navMain', new MainNavDroplist({\n      collection: workspacesMenu,\n      state: {\n        selected: workspacesMenu.get(currentWorkspace.id),\n        isMinimized: this.getState('isMinimized'),\n      },\n    }));\n  },\n  showNav() {\n    const navView = new PatientsAppNav({\n      model: this.getState(),\n    });\n\n    const workflowsCollectionView = new AppNavCollectionView({ collection: patientsAppWorkflowsNav, model: this.getState() });\n\n    navView.showChildView('worklists', workflowsCollectionView);\n\n    this.listenTo(navView, 'search', () => {\n      this.showSearch();\n    });\n\n    const hotkeyCh = Radio.channel('hotkey');\n    navView.listenTo(hotkeyCh, 'search', evt => {\n      evt.preventDefault();\n      this.showSearch();\n    });\n\n    this.showChildView('navContent', navView);\n  },\n  showSearch(prefillText) {\n    const navView = this.getChildView('navContent');\n\n    const searchApp = this.startChildApp('search', { prefillText });\n\n    this.listenTo(searchApp, 'stop', () => {\n      navView.triggerMethod('search:active', false);\n    });\n\n    navView.triggerMethod('search:active', true);\n  },\n  onClickDashboards() {\n    Radio.trigger('event-router', 'dashboards:all');\n  },\n  onClickAddPatient() {\n    this.showPatientModal();\n  },\n  onClickMinimizeMenu() {\n    this.toggleState('isMinimized');\n  },\n  getNewPatient() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    const workspaces = currentClinician.getWorkspaces();\n\n    if (workspaces.length === 1) {\n      return Radio.request('entities', 'patients:model', {\n        _workspaces: [{ id: workspaces.first().id }],\n      });\n    }\n\n    return Radio.request('entities', 'patients:model');\n  },\n  showPatientModal(patient) {\n    patient = patient || this.getNewPatient();\n    const patientClone = patient.clone();\n    const patientModal = Radio.request('modal', 'show', getPatientModal({\n      patient: patientClone,\n      onSubmit: () => {\n        if (!patient.canEdit()) {\n          patientModal.destroy();\n          return;\n        }\n\n        patientModal.disableSubmit();\n        patient.saveAll(patientClone.attributes)\n          .then(({ data }) => {\n            Radio.trigger('event-router', 'patient:dashboard', data.id);\n            patientModal.destroy();\n          })\n          .catch(({ responseData }) => {\n            // This assumes that only the similar patient error is handled on the server\n            const error = responseData.errors[0].detail;\n\n            patientModal.getChildView('body').setState({\n              errors: {\n                name: error,\n              },\n            });\n\n            const errorView = new ErrorView({ hasSearch: true, error });\n\n            patientModal.listenTo(errorView, 'click:search', () => {\n              const query = `${ patientClone.get('first_name') } ${ patientClone.get('last_name') }`;\n              this.showSearch(query);\n            });\n\n            patientModal.showChildView('info', errorView);\n          });\n      },\n    }));\n\n    patientModal.disableSubmit(patient.canEdit());\n    patientModal.listenTo(patientClone, {\n      'change'() {\n        patientModal.getRegion('info').empty();\n        patientModal.disableSubmit(!patientClone.isValid());\n      },\n      'invalid'(model, errors) {\n        const errorCode = errors.birth_date;\n        if (errorCode === 'invalidDate') {\n          patientModal.showChildView('info', new ErrorView({ errorCode }));\n        }\n      },\n    });\n  },\n});\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport { View } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport intl from 'js/i18n';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport 'scss/modules/widgets.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport { WidgetCollectionView } from 'js/views/patients/widgets/widgets_views';\n\nimport 'scss/domain/patient-sidebar.scss';\nimport './patient-sidebar.scss';\n\nconst i18n = intl.patients.patient.sidebar.sidebarViews;\n\nconst NameView = View.extend({\n  tagName: 'h1',\n  className: 'patient-sidebar__name',\n  template: hbs`{{ first_name }} {{ last_name }}`,\n  modelEvents: {\n    'change': 'render',\n  },\n});\n\nconst SidebarView = View.extend({\n  className: 'patient-sidebar flex-region',\n  template: hbs`\n    <div data-name-region></div>\n    <span class=\"patient-sidebar__icon\">{{far \"address-card\"}}</span>\n    <button class=\"button--icon patient-sidebar__menu js-menu\">{{far \"ellipsis\"}}</button>\n    <div class=\"patient-sidebar__widgets\" data-widgets-region></div>\n  `,\n  regions: {\n    name: '[data-name-region]',\n    widgets: {\n      el: '[data-widgets-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  onRender() {\n    this.showChildView('name', new NameView({\n      model: this.model,\n    }));\n\n    this.showChildView('widgets', new WidgetCollectionView({\n      model: this.model,\n      collection: this.collection,\n      itemClassName: 'patient-sidebar__section',\n    }));\n  },\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const canEdit = this.model.canEdit();\n\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, canEdit ? 'click:patientEdit' : 'click:patientView'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.menuOptions.headingText,\n      itemTemplate: hbs`{{ text }}`,\n      itemTemplateContext: {\n        text: canEdit ? i18n.menuOptions.edit : i18n.menuOptions.view,\n      },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n});\n\nexport {\n  SidebarView,\n};\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { SidebarView } from 'js/views/patients/patient/sidebar/sidebar_views';\n\nexport default App.extend({\n  viewEvents: {\n    'click:patientEdit': 'showPatientModal',\n    'click:patientView': 'showPatientModal',\n  },\n  onBeforeStart({ patient }) {\n    this.showView(new SidebarView({ model: patient }));\n\n    this.getRegion('widgets').startPreloader();\n  },\n  beforeStart({ patient }) {\n    return map(Radio.request('bootstrap', 'sidebarWidgets:fields'), fieldName => {\n      return Radio.request('entities', 'fetch:patientFields:model', patient.id, fieldName);\n    });\n  },\n  onStart({ patient }) {\n    this.patient = patient;\n\n    const widgets = Radio.request('bootstrap', 'sidebarWidgets');\n\n    this.showView(new SidebarView({\n      model: this.patient,\n      collection: widgets,\n    }));\n  },\n  showPatientModal() {\n    Radio.request('nav', 'patient', this.patient);\n  },\n});\n","import { View } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/widgets.scss';\n\nimport { WidgetCollectionView } from 'js/views/patients/widgets/widgets_views';\n\nimport './form-widgets.scss';\n\nconst FormWidgetsHeaderView = View.extend({\n  className: 'form-widgets flex',\n  template: hbs`<div data-widgets-region></div>`,\n  regions: {\n    widgets: '[data-widgets-region]',\n  },\n  onRender({ model, collection }) {\n    this.showChildView('widgets', new WidgetCollectionView({\n      model: model,\n      collection: collection,\n      className: 'flex flex-wrap',\n      itemClassName: 'form-widgets__section',\n    }));\n  },\n});\n\nexport {\n  FormWidgetsHeaderView,\n};\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { FormWidgetsHeaderView } from 'js/views/forms/form/widgets/widget_header_view';\n\nexport default App.extend({\n  beforeStart({ patient, form }) {\n    return map(form.getWidgetFields(), fieldName => {\n      return Radio.request('entities', 'fetch:patientFields:model', patient.id, fieldName);\n    });\n  },\n  onStart({ patient, form }) {\n    const widgets = form.getWidgets();\n\n    if (!widgets.length) return;\n\n    this.showView(new FormWidgetsHeaderView({\n      model: patient,\n      collection: widgets,\n    }));\n  },\n});\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, Region } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nconst i18n = intl.forms.form.formViews;\n\nimport Droplist from 'js/components/droplist';\nimport Tooltip from 'js/components/tooltip';\n\nimport IframeFormBehavior from 'js/behaviors/iframe-form';\n\nimport './form.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'form__context-trail',\n  actionTemplate: hbs`<a class=\"js-back form__context-link\">{{fas \"chevron-left\" }}{{ @intl.forms.form.formViews.contextTrailView.backBtn }}</a>`,\n  patientTemplate: hbs`<a class=\"js-dashboard form__context-link\">{{fas \"chevron-left\" }}{{ @intl.forms.form.formViews.contextTrailView.backDashboard }}</a>`,\n  getTemplate() {\n    if (!this.action) return this.patientTemplate;\n\n    return this.actionTemplate;\n  },\n  initialize({ patient, action }) {\n    this.patient = patient;\n    this.action = action;\n  },\n  triggers: {\n    'click .js-back': 'click:back',\n    'click .js-dashboard': 'click:dashboard',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:back', () => {\n      this.routeToPatient();\n    });\n  },\n  onClickDashboard() {\n    this.routeToPatient();\n  },\n  routeToPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.patient.id);\n  },\n});\n\nconst FormStateActionsView = View.extend({\n  className: 'flex',\n  template: hbs`\n    {{#if hasHistory}}<button class=\"js-history-button form__actions-icon{{#if shouldShowHistory}} is-selected{{/if}}\">{{far \"clock-rotate-left\"}}</button>{{/if}}\n    <button class=\"js-expand-button form__actions-icon\">{{#if isExpanded}}{{far \"down-left-and-up-right-to-center\"}}{{else}}{{far \"up-right-and-down-left-from-center\"}}{{/if}}</button>\n    {{#if hasAction}}<button class=\"js-sidebar-button form__actions-icon{{#if isActionShown}} is-selected{{/if}}\">{{far \"file-lines\"}}</button>{{/if}}\n  `,\n  templateContext() {\n    return {\n      isActionShown: this.isActionShown(),\n      hasHistory: this.responses && !!this.responses.length,\n      hasAction: !!this.action,\n    };\n  },\n  onRender() {\n    this.renderSidebarTooltip();\n    this.renderExpandTooltip();\n    this.renderHistoryTooltip();\n  },\n  initialize({ action, responses }) {\n    this.action = action;\n    this.responses = responses;\n\n    this.listenTo(this.responses, 'update', this.render);\n  },\n  modelEvents: {\n    'change:isExpanded': 'render',\n    'change:isActionSidebar': 'render',\n    'change:shouldShowHistory': 'render',\n  },\n  ui: {\n    sidebarButton: '.js-sidebar-button',\n    expandButton: '.js-expand-button',\n    historyButton: '.js-history-button',\n  },\n  triggers: {\n    'click @ui.sidebarButton': 'click:sidebarButton',\n    'click @ui.expandButton': 'click:expandButton',\n    'click @ui.historyButton': 'click:historyButton',\n  },\n  isActionShown() {\n    return this.model.get('isActionSidebar') && !this.model.get('isExpanded');\n  },\n  renderSidebarTooltip() {\n    const isActionShown = this.isActionShown();\n    const message = isActionShown ? i18n.formActionsView.hideActionSidebar : i18n.formActionsView.showActionSidebar;\n\n    new Tooltip({\n      message,\n      uiView: this,\n      ui: this.ui.sidebarButton,\n    });\n  },\n  renderExpandTooltip() {\n    const isExpanded = this.model.get('isExpanded');\n    const message = isExpanded ? i18n.formActionsView.decreaseWidth : i18n.formActionsView.increaseWidth;\n\n    new Tooltip({\n      message,\n      uiView: this,\n      ui: this.ui.expandButton,\n    });\n  },\n  renderHistoryTooltip() {\n    const shouldShowHistory = this.model.get('shouldShowHistory');\n    const message = shouldShowHistory ? i18n.formActionsView.currentVersion : i18n.formActionsView.responseHistory;\n\n    new Tooltip({\n      message,\n      uiView: this,\n      ui: this.ui.historyButton,\n    });\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'form__frame',\n  template: hbs`\n    <div class=\"form__layout\">\n      <div class=\"flex\">\n        <div class=\"overflow--hidden flex-grow\">\n          <div data-context-trail-region></div>\n          <div class=\"form__title u-text--overflow\"><span class=\"form__title-icon\">{{far \"square-poll-horizontal\"}}</span>{{patient.first_name}} {{patient.last_name}}  {{ name }}</div>\n        </div>\n        <div class=\"flex-grow\">\n          <div data-status-region>&nbsp;</div>\n          <div class=\"form__controls\">\n            <div data-state-actions-region></div>\n            <div data-form-updated-region></div>\n            <div data-form-action-region></div>\n          </div>\n        </div>\n      </div>\n      <div data-widgets-header-region></div>\n      <div data-form-region></div>\n    </div>\n    <div class=\"form__sidebar\" data-sidebar-region></div>\n  `,\n  regionClass: Region.extend({ replaceElement: true }),\n  regions: {\n    contextTrail: '[data-context-trail-region]',\n    form: '[data-form-region]',\n    formUpdated: '[data-form-updated-region]',\n    formAction: {\n      el: '[data-form-action-region]',\n      replaceElement: true,\n    },\n    sidebar: {\n      el: '[data-sidebar-region]',\n      replaceElement: false,\n    },\n    stateActions: '[data-state-actions-region]',\n    status: '[data-status-region]',\n    widgets: '[data-widgets-header-region]',\n  },\n  templateContext() {\n    return {\n      patient: this.getOption('patient').pick('first_name', 'last_name'),\n    };\n  },\n  onRender() {\n    this.showChildView('contextTrail', new ContextTrailView({\n      patient: this.getOption('patient'),\n      action: this.getOption('action'),\n    }));\n  },\n});\n\nconst IframeView = View.extend({\n  behaviors: [IframeFormBehavior],\n  className: 'form__content',\n  template: hbs`<iframe src=\"/formapp/{{#if responseId}}{{ responseId }}{{/if}}\"></iframe>`,\n  templateContext() {\n    return {\n      responseId: this.getOption('responseId'),\n    };\n  },\n});\n\nconst StoredSubmissionView = View.extend({\n  className: 'form__content',\n  template: hbs`\n    <div class=\"form__prompt\">\n      <h2 class=\"form__prompt-title\">{{ @intl.forms.form.formViews.storedSubmissionView.title }}</h2>\n      <div class=\"form__prompt-dialog\">\n        <div class=\"flex-shrink\">\n          <button class=\"button--blue button--large js-submit\">{{ @intl.forms.form.formViews.storedSubmissionView.submitButton }}</button>\n          <div class=\"u-margin--t-16\">{{formatHTMLMessage (intlGet \"forms.form.formViews.storedSubmissionView.updated\") updated=(formatDateTime updated \"TIME_OR_DAY\")}}</div>\n        </div>\n        <div class=\"flex-shrink\">\n          <button class=\"button-secondary button--large form__discard-button js-discard\" style=\"color:red\">{{ @intl.forms.form.formViews.storedSubmissionView.cancelButton }}</button>\n        </div>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    return {\n      updated: this.getOption('updated'),\n    };\n  },\n  triggers: {\n    'click .js-submit': 'submit',\n    'click .js-discard': 'discard',\n  },\n  onDiscard() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.storedSubmissionView.discardModal.bodyText,\n      headingText: i18n.storedSubmissionView.discardModal.headingText,\n      submitText: i18n.storedSubmissionView.discardModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('discard:submission');\n      },\n    });\n  },\n});\n\nconst PreviewView = View.extend({\n  behaviors: [IframeFormBehavior],\n  className: 'form__frame',\n  template: hbs`\n    <div class=\"form__layout\">\n      <div class=\"form__context-trail\">\n        <a class=\"js-back form__context-link\">{{fas \"chevron-left\"}}{{ @intl.forms.form.formViews.previewView.backBtn }}</a>\n        {{~fas \"chevron-right\"}}{{ @intl.forms.form.formViews.previewView.title }}\n      </div>\n      <div class=\"form__title\"><span class=\"form__title-icon\">{{far \"square-poll-horizontal\"}}</span>{{ name }}</div>\n      <div class=\"form__content\">\n        <iframe src=\"/formapp/preview\"></iframe>\n      </div>\n    </div>\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:back');\n  },\n});\n\nconst StatusView = View.extend({\n  className: 'u-text-align--right',\n  template: hbs`{{formatHTMLMessage (intlGet \"forms.form.formViews.statusView.label\") date=(formatDateTime _created_at \"AT_TIME\")}}`,\n});\n\nconst ReadOnlyView = View.extend({\n  className: 'form__form-action',\n  template: hbs`\n    <button class=\"button--grey\" disabled=true>{{ @intl.forms.form.formViews.readOnlyView.buttonText }}</button>\n  `,\n});\n\nconst SaveButtonTypeDroplist = Droplist.extend({\n  align: 'right',\n  initialize({ model }) {\n    this.collection = new Backbone.Collection([\n      {\n        text: i18n.saveView.save.droplistItemText,\n        value: 'save',\n      },\n      {\n        text: i18n.saveView.saveAndGoBack.droplistItemText,\n        value: 'saveAndGoBack',\n      },\n    ]);\n\n    const currentSaveButtonType = model.get('saveButtonType');\n\n    this.setState('selected', this.collection.find({ value: currentSaveButtonType }));\n  },\n  viewOptions: {\n    className: 'button--green button__drop-list-select',\n    template: hbs`{{fas \"caret-down\"}}`,\n  },\n  picklistOptions() {\n    return {\n      headingText: i18n.saveView.droplistLabel,\n      isCheckable: true,\n    };\n  },\n});\n\nconst LastUpdatedView = View.extend({\n  className: 'form__last-updated',\n  template: hbs`\n    <div class=\"form__last-updated-icon\">\n      {{far \"shield-check\"}}\n    </div>\n    <div class=\"form__last-updated-text\">\n      <div class=\"u-text--overflow\">{{ @intl.forms.form.formViews.lastUpdatedView.storedWork }}</div>\n      {{#if updated}}\n        <div class=\"u-text--overflow\">{{formatHTMLMessage (intlGet \"forms.form.formViews.lastUpdatedView.updatedAt\") updated=(formatDateTime updated \"AGO_OR_TODAY\")}}</div>\n      {{/if}}\n    </div>\n  `,\n  templateContext() {\n    return {\n      updated: this.updated,\n    };\n  },\n  initialize({ updated }) {\n    this.updated = updated;\n\n    if (this.updated) {\n      this.renderInterval = setInterval(() => {\n        this.render();\n      }, 45000);\n    }\n  },\n  onBeforeDestroy() {\n    clearInterval(this.renderInterval);\n  },\n});\n\nconst SaveView = View.extend({\n  className: 'form__form-action',\n  regions: {\n    saveType: {\n      el: '[data-save-type-region]',\n      replaceElement: true,\n    },\n  },\n  modelEvents: {\n    'change:saveButtonType': 'render',\n  },\n  templateContext() {\n    const saveButtonType = this.model.get('saveButtonType');\n\n    return {\n      isDisabled: this.getOption('isDisabled'),\n      showSaveButton: saveButtonType === 'save',\n      showSaveGoBackButton: saveButtonType === 'saveAndGoBack',\n    };\n  },\n  template: hbs`\n    <button class=\"button--green button__drop-list-action js-save-button\" {{#if isDisabled}}disabled{{/if}}>\n      {{#if showSaveButton}}\n        {{ @intl.forms.form.formViews.saveView.save.buttonText }}\n      {{/if}}\n      {{#if showSaveGoBackButton}}\n        {{ @intl.forms.form.formViews.saveView.saveAndGoBack.buttonText }}\n      {{/if}}\n    </button>\n    <button data-save-type-region></button>\n  `,\n  triggers: {\n    'click .js-save-button': 'click:save',\n  },\n  onRender() {\n    const saveButtonTypeDroplist = this.showChildView('saveType', new SaveButtonTypeDroplist({\n      model: this.model,\n      state: {\n        isDisabled: this.getOption('isDisabled'),\n      },\n    }));\n\n    this.listenTo(saveButtonTypeDroplist, {\n      'change:selected'(selected) {\n        this.triggerMethod('select:button:type', selected.get('value'));\n      },\n    });\n  },\n});\n\nconst UpdateView = View.extend({\n  className: 'form__form-action',\n  template: hbs`\n    <button class=\"button--green\">{{ @intl.forms.form.formViews.updateView.buttonText }}</button>\n  `,\n  triggers: {\n    'click': 'click',\n  },\n});\n\nconst HistoryDroplist = Droplist.extend({\n  viewOptions: {\n    className: 'button-filter',\n    template: hbs`{{far \"clock-rotate-left\"}}{{formatDateTime _created_at \"AT_TIME\"}}{{far \"angle-down\"}}`,\n  },\n  picklistOptions: {\n    itemTemplate: hbs`{{formatDateTime _created_at \"AT_TIME\"}}`,\n  },\n});\n\nconst HistoryView = View.extend({\n  className: 'form__form-action',\n  template: hbs`\n    <div data-versions-region></div>\n    <button class=\"button--blue js-current u-margin--l-8\">{{ @intl.forms.form.formViews.historyView.currentVersionButton }}</button>\n  `,\n  regions: {\n    versions: {\n      el: '[data-versions-region]',\n      replaceElement: true,\n    },\n  },\n  triggers: {\n    'click .js-current': 'click:current',\n  },\n  initialize({ selected, collection }) {\n    const responseDroplist = this.showChildView('versions', new HistoryDroplist({\n      collection,\n      state: { selected },\n    }));\n\n    this.listenTo(responseDroplist, {\n      'change:selected'(response) {\n        this.triggerMethod('change:response', response);\n      },\n    });\n  },\n});\n\nexport {\n  LayoutView,\n  IframeView,\n  StoredSubmissionView,\n  FormStateActionsView,\n  PreviewView,\n  StatusView,\n  ReadOnlyView,\n  SaveView,\n  UpdateView,\n  HistoryView,\n  LastUpdatedView,\n};\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\nimport store from 'store';\n\nimport App from 'js/base/app';\n\nimport intl from 'js/i18n';\n\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\nimport WidgetsHeaderApp from 'js/apps/forms/widgets/widgets_header_app';\n\nimport FormsService from 'js/services/forms';\n\nimport {\n  LayoutView,\n  IframeView,\n  StoredSubmissionView,\n  FormStateActionsView,\n  StatusView,\n  ReadOnlyView,\n  SaveView,\n  UpdateView,\n  HistoryView,\n  LastUpdatedView,\n} from 'js/views/forms/form/form_views';\n\nexport default App.extend({\n  childApps: {\n    patient: {\n      AppClass: PatientSidebarApp,\n      regionName: 'sidebar',\n      getOptions: ['patient'],\n    },\n    widgetHeader: {\n      AppClass: WidgetsHeaderApp,\n      regionName: 'widgets',\n      getOptions: ['patient', 'form'],\n    },\n  },\n  initFormState() {\n    const storedState = store.get(`form-state_${ this.currentUser.id }`);\n\n    this.setState(extend({\n      isActionSidebar: true,\n      isExpanded: true,\n      shouldShowHistory: false,\n      saveButtonType: 'save',\n    }, storedState));\n  },\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n\n    this.currentUser = Radio.request('bootstrap', 'currentUser');\n\n    this.initFormState();\n  },\n  beforeStart({ patientActionId }) {\n    return [\n      Radio.request('entities', 'fetch:forms:byAction', patientActionId),\n      Radio.request('entities', 'fetch:actions:model', patientActionId),\n      Radio.request('entities', 'fetch:patients:model:byAction', patientActionId),\n    ];\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.forms.form.formApp.notFound);\n    Radio.trigger('event-router', 'default');\n  },\n  onBeforeStop() {\n    this.removeChildApp('formsService');\n  },\n  onStart(options, form, action, patient) {\n    this.form = form;\n    this.patient = patient;\n    this.action = action;\n    this.responses = action.getFormResponses();\n    this.isReadOnly = this.form.isReadOnly();\n    this.isSubmitHidden = this.form.isSubmitHidden();\n\n    this.listenTo(action, 'destroy', function() {\n      Radio.request('alert', 'show:success', intl.forms.form.formApp.deleteSuccess);\n      Radio.trigger('event-router', 'default');\n    });\n\n    this.startFormService();\n\n    this.setView(new LayoutView({ model: this.form, patient, action }));\n\n    this.setState({ responseId: !!this.responses.length && this.responses.first().id });\n    this.startChildApp('widgetHeader');\n\n    this.showStateActions();\n    this.showFormActions();\n\n    this.showSidebar();\n\n    this.showView();\n  },\n  startFormService() {\n    const formService = this.addChildApp('formsService', FormsService, {\n      patient: this.patient,\n      action: this.action,\n      form: this.form,\n      responses: this.responses,\n    });\n\n    if (!this.isReadOnly) this.bindEvents(formService, this.serviceEvents);\n  },\n  serviceEvents: {\n    'submit': 'onFormServiceSubmit',\n    'success': 'onFormServiceSuccess',\n    'error': 'onFormServiceError',\n    'ready': 'onFormServiceReady',\n    'update:submission': 'onFormServiceUpdateSubmission',\n  },\n  shouldSaveAndGoBack() {\n    const saveButtonType = this.getState('saveButtonType');\n\n    return (saveButtonType === 'saveAndGoBack' && !this.isSubmitHidden);\n  },\n  onFormServiceSubmit() {\n    if (!this.shouldSaveAndGoBack()) return;\n\n    this.loadingModal = Radio.request('modal', 'show:loading');\n  },\n  onFormServiceSuccess(response) {\n    if (this.shouldSaveAndGoBack()) {\n      this.listenTo(this.loadingModal, 'destroy', () => {\n        Radio.request('history', 'go:back', () => {\n          Radio.trigger('event-router', 'patient:dashboard', this.patient.id);\n        });\n      });\n\n      return;\n    }\n\n    response.set({ _created_at: dayjs().format() });\n    this.responses.unshift(response);\n    this.setState({ responseId: response.id });\n  },\n  onFormServiceError() {\n    if (this.loadingModal) this.loadingModal.destroy();\n\n    this.showFormSave();\n  },\n  onFormServiceReady() {\n    this.showFormSave();\n  },\n  onFormServiceUpdateSubmission(updated) {\n    this.showLastUpdated(updated);\n  },\n  stateEvents: {\n    'change': 'onChangeState',\n    'change:isExpanded': 'showSidebar',\n    'change:isActionSidebar': 'showSidebar',\n    'change:shouldShowHistory': 'showFormActions',\n    'change:responseId': 'onChangeResponseId',\n  },\n  onChangeState(state) {\n    store.set(`form-state_${ this.currentUser.id }`, state.pick('isExpanded', 'saveButtonType'));\n  },\n  onChangeResponseId() {\n    this.showFormActions();\n    this.showContent();\n  },\n  showStateActions() {\n    const formStateActions = new FormStateActionsView({\n      model: this.getState(),\n      action: this.action,\n      responses: this.responses,\n    });\n\n    this.listenTo(formStateActions, {\n      'click:sidebarButton': this.onClickSidebarButton,\n      'click:expandButton': this.onClickExpandButton,\n      'click:historyButton': this.onClickHistoryButton,\n    });\n\n    this.showChildView('stateActions', formStateActions);\n  },\n  onClickSidebarButton() {\n    if (this.getState('isExpanded')) {\n      this.setState({ isActionSidebar: true, isExpanded: false });\n      return;\n    }\n\n    this.toggleState('isActionSidebar');\n  },\n  onClickExpandButton() {\n    this.toggleState('isExpanded');\n  },\n  onClickHistoryButton() {\n    this.setState({ responseId: this.responses.first().id, shouldShowHistory: !this.getState('shouldShowHistory') });\n  },\n  showContent() {\n    const responseId = this.getState('responseId');\n    const { updated } = Radio.request(`form${ this.form.id }`, 'get:storedSubmission');\n\n    if (!this.isReadOnly && !responseId && updated) {\n      const storedSubmissionView = this.showChildView('form', new StoredSubmissionView({ updated }));\n\n      this.listenTo(storedSubmissionView, {\n        'submit'() {\n          this.showForm();\n        },\n        'discard:submission'() {\n          Radio.request(`form${ this.form.id }`, 'clear:storedSubmission');\n          this.showForm();\n          this.showFormActions();\n        },\n      });\n\n      return;\n    }\n\n    this.showForm();\n  },\n  showForm() {\n    this.showChildView('form', new IframeView({\n      model: this.form,\n      responseId: this.getState('responseId'),\n    }));\n  },\n  showSidebar() {\n    const isActionSidebar = this.getState('isActionSidebar');\n    const isExpanded = this.getState('isExpanded');\n\n    if (!isActionSidebar || isExpanded) {\n      Radio.request('sidebar', 'close');\n    }\n\n    if (isExpanded) {\n      this.stopChildApp('patient');\n      this.getRegion('sidebar').empty();\n      return;\n    }\n\n    if (isActionSidebar) {\n      this.showActionSidebar();\n    }\n\n    this.startChildApp('patient');\n  },\n  showActionSidebar() {\n    const sidebarApp = Radio.request('sidebar', 'start', 'action', { action: this.action, isShowingForm: true });\n\n    this.listenTo(sidebarApp, 'stop', () => {\n      if (this.getState('isExpanded')) return;\n      this.setState('isActionSidebar', false);\n    });\n  },\n  showFormActions() {\n    if (this.isReadOnly) {\n      this.showReadOnly();\n      return;\n    }\n\n    this.getRegion('formUpdated').empty();\n\n    // If there's a submission this always shows\n    this.showFormStatus();\n\n    if (this.getState('shouldShowHistory')) {\n      this.showFormHistory();\n      return;\n    }\n\n    if (this.getState('responseId')) {\n      this.showFormUpdate();\n      return;\n    }\n\n    const { updated } = Radio.request(`form${ this.form.id }`, 'get:storedSubmission');\n    this.showLastUpdated(updated);\n\n    this.showFormSaveDisabled();\n  },\n  showReadOnly() {\n    this.showChildView('formAction', new ReadOnlyView());\n  },\n  showFormStatus() {\n    if (!this.responses.first()) return;\n\n    this.showChildView('status', new StatusView({\n      model: this.responses.first(),\n    }));\n  },\n  showFormHistory() {\n    const selected = this.responses.get(this.getState('responseId'));\n\n    const historyView = this.showChildView('formAction', new HistoryView({ selected, collection: this.responses }));\n\n    this.listenTo(historyView, {\n      'change:response'(response) {\n        this.setState({ responseId: response.id });\n      },\n      'click:current'() {\n        this.setState({ responseId: this.responses.first().id, shouldShowHistory: false });\n      },\n    });\n  },\n  showFormUpdate() {\n    const updateView = this.showChildView('formAction', new UpdateView());\n\n    this.listenTo(updateView, 'click', () => {\n      this.setState({ responseId: null });\n    });\n  },\n  showLastUpdated(updated) {\n    const lastUpdatedView = new LastUpdatedView({ updated });\n\n    this.showChildView('formUpdated', lastUpdatedView);\n  },\n  showFormSaveDisabled() {\n    if (this.isSubmitHidden) {\n      this.getRegion('formAction').empty();\n      return;\n    }\n\n    this.showChildView('formAction', new SaveView({\n      isDisabled: true,\n      model: this.getState(),\n    }));\n  },\n  showFormSave() {\n    if (this.isSubmitHidden) return;\n\n    const saveView = this.showChildView('formAction', new SaveView({\n      model: this.getState(),\n    }));\n\n    this.listenTo(saveView, {\n      'click:save'() {\n        Radio.request(`form${ this.form.id }`, 'send', 'form:submit');\n        this.showFormSaveDisabled();\n      },\n      'select:button:type'(selectedSaveButtonType) {\n        this.setState({ saveButtonType: selectedSaveButtonType });\n      },\n    });\n  },\n});\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\nimport store from 'store';\n\nimport App from 'js/base/app';\n\nimport FormsService from 'js/services/forms';\n\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\nimport WidgetsHeaderApp from 'js/apps/forms/widgets/widgets_header_app';\n\nimport {\n  LayoutView,\n  IframeView,\n  StoredSubmissionView,\n  FormStateActionsView,\n  StatusView,\n  ReadOnlyView,\n  SaveView,\n  LastUpdatedView,\n} from 'js/views/forms/form/form_views';\n\nexport default App.extend({\n  childApps: {\n    patient: {\n      AppClass: PatientSidebarApp,\n      regionName: 'sidebar',\n      getOptions: ['patient'],\n    },\n    widgetHeader: {\n      AppClass: WidgetsHeaderApp,\n      regionName: 'widgets',\n      getOptions: ['patient', 'form'],\n    },\n  },\n  initFormState() {\n    const storedState = store.get(`form-state_${ this.currentUser.id }`);\n\n    this.setState(extend({ isExpanded: true, saveButtonType: 'save' }, storedState));\n  },\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n\n    this.currentUser = Radio.request('bootstrap', 'currentUser');\n\n    this.initFormState();\n  },\n  beforeStart({ formId, patientId }) {\n    return [\n      Radio.request('entities', 'fetch:patients:model', patientId),\n      Radio.request('entities', 'fetch:forms:model', formId),\n    ];\n  },\n  onBeforeStop() {\n    this.removeChildApp('formsService');\n  },\n  onStart(options, patient, form) {\n    this.patient = patient;\n    this.form = form;\n    this.isReadOnly = this.form.isReadOnly();\n    this.isSubmitHidden = this.form.isSubmitHidden();\n\n    this.startFormService();\n\n    this.setView(new LayoutView({ model: this.form, patient }));\n\n    this.showContent();\n    this.startChildApp('widgetHeader');\n\n    this.showStateActions();\n    this.showFormActions();\n\n    this.showSidebar();\n\n    this.showView();\n  },\n  startFormService() {\n    const formService = this.addChildApp('formsService', FormsService, {\n      patient: this.patient,\n      form: this.form,\n    });\n\n    if (!this.isReadOnly) this.bindEvents(formService, this.serviceEvents);\n  },\n  serviceEvents: {\n    'submit': 'onFormServiceSubmit',\n    'success': 'onFormServiceSuccess',\n    'error': 'onFormServiceError',\n    'ready': 'onFormServiceReady',\n    'update:submission': 'onFormServiceUpdateSubmission',\n  },\n  shouldSaveAndGoBack() {\n    const saveButtonType = this.getState('saveButtonType');\n\n    return (saveButtonType === 'saveAndGoBack' && !this.isSubmitHidden);\n  },\n  onFormServiceSubmit() {\n    if (!this.shouldSaveAndGoBack()) return;\n\n    this.loadingModal = Radio.request('modal', 'show:loading');\n  },\n  onFormServiceSuccess(response) {\n    if (this.shouldSaveAndGoBack()) {\n      this.listenTo(this.loadingModal, 'destroy', () => {\n        Radio.request('history', 'go:back', () => {\n          Radio.trigger('event-router', 'patient:dashboard', this.patient.id);\n        });\n      });\n\n      return;\n    }\n\n    response.set({ _created_at: dayjs().format() });\n\n    this.showForm(response.id);\n    this.showChildView('status', new StatusView({ model: response }));\n    this.showFormActions();\n  },\n  onFormServiceError() {\n    if (this.loadingModal) this.loadingModal.destroy();\n\n    this.showFormSave();\n  },\n  onFormServiceReady() {\n    this.showFormSave();\n  },\n  onFormServiceUpdateSubmission(updated) {\n    this.showLastUpdated(updated);\n  },\n  stateEvents: {\n    'change': 'onChangeState',\n    'change:isExpanded': 'showSidebar',\n  },\n  onChangeState(state) {\n    store.set(`form-state_${ this.currentUser.id }`, state.pick('isExpanded', 'saveButtonType'));\n  },\n  showStateActions() {\n    const actionsView = new FormStateActionsView({\n      model: this.getState(),\n      patient: this.patient,\n    });\n\n    this.listenTo(actionsView, {\n      'click:expandButton': this.onClickExpandButton,\n    });\n\n    this.showChildView('stateActions', actionsView);\n  },\n  onClickExpandButton() {\n    this.toggleState('isExpanded');\n  },\n  showContent() {\n    const { updated } = Radio.request(`form${ this.form.id }`, 'get:storedSubmission');\n\n    if (!this.isReadOnly && updated) {\n      const storedSubmissionView = this.showChildView('form', new StoredSubmissionView({ updated }));\n\n      this.listenTo(storedSubmissionView, {\n        'submit'() {\n          this.showForm();\n        },\n        'discard:submission'() {\n          Radio.request(`form${ this.form.id }`, 'clear:storedSubmission');\n          this.showForm();\n          this.showFormActions();\n        },\n      });\n\n      return;\n    }\n\n    this.showForm();\n  },\n  showForm(responseId) {\n    this.showChildView('form', new IframeView({\n      model: this.form,\n      responseId,\n    }));\n  },\n  showSidebar() {\n    const isExpanded = this.getState('isExpanded');\n\n    if (isExpanded) {\n      this.stopChildApp('patient');\n      this.getRegion('sidebar').empty();\n      return;\n    }\n\n    this.startChildApp('patient');\n  },\n  showFormActions() {\n    if (this.isReadOnly) {\n      this.showReadOnly();\n      return;\n    }\n\n    const { updated } = Radio.request(`form${ this.form.id }`, 'get:storedSubmission');\n    this.showLastUpdated(updated);\n\n    this.showFormSaveDisabled();\n  },\n  showReadOnly() {\n    this.showChildView('formAction', new ReadOnlyView());\n  },\n  showLastUpdated(updated) {\n    const lastUpdatedView = new LastUpdatedView({ updated });\n\n    this.showChildView('formUpdated', lastUpdatedView);\n  },\n  showFormSaveDisabled() {\n    if (this.isSubmitHidden) return;\n\n    this.showChildView('formAction', new SaveView({\n      isDisabled: true,\n      model: this.getState(),\n    }));\n  },\n  showFormSave() {\n    if (this.isSubmitHidden) return;\n\n    const saveView = this.showChildView('formAction', new SaveView({\n      model: this.getState(),\n    }));\n\n    this.listenTo(saveView, {\n      'click:save'() {\n        Radio.request(`form${ this.form.id }`, 'send', 'form:submit');\n        this.showFormSaveDisabled();\n      },\n      'select:button:type'(selectedSaveButtonType) {\n        this.setState({ saveButtonType: selectedSaveButtonType });\n      },\n    });\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport FormsService from 'js/services/forms';\n\nimport { PreviewView } from 'js/views/forms/form/form_views';\n\nexport default App.extend({\n  beforeStart({ formId }) {\n    return Radio.request('entities', 'fetch:forms:model', formId);\n  },\n  onBeforeStop() {\n    this.removeChildApp('formsService');\n  },\n  onStart(options, form) {\n    this.addChildApp('formsService', FormsService, { form });\n\n    this.showView(new PreviewView({ model: form }));\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport FormApp from 'js/apps/forms/form/form_app';\nimport FormPatientApp from 'js/apps/forms/form/form-patient_app';\nimport FormPreviewApp from 'js/apps/forms/form/form-preview_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'FormsApp',\n\n  childApps: {\n    form: FormApp,\n    formPreview: FormPreviewApp,\n    patientForm: FormPatientApp,\n  },\n\n  eventRoutes: {\n    'form:patient': {\n      action: 'showFormPatient',\n      route: 'patient/:id/form/:id',\n    },\n    'form:patientAction': {\n      action: 'showFormAction',\n      route: 'patient-action/:id/form/:id',\n    },\n    'form:preview': {\n      action: 'showFormPreview',\n      route: 'form/:id/preview',\n    },\n  },\n  showFormAction(patientActionId, formId) {\n    this.startCurrent('form', { formId, patientActionId });\n  },\n  showFormPatient(patientId, formId) {\n    this.startCurrent('patientForm', { formId, patientId });\n  },\n  showFormPreview(formId) {\n    this.startCurrent('formPreview', { formId });\n  },\n});\n","import { extend, result } from 'underscore';\nimport { normalizeMethods } from 'marionette';\n\nimport App from './app';\n\nexport default App.extend({\n  constructor: function() {\n    this._current = null;\n\n    this.initRouter();\n\n    this.on('before:stop', this.stopCurrent);\n\n    App.apply(this, arguments);\n  },\n\n  initRouter() {\n    const eventRoutes = result(this, 'eventRoutes', {});\n    this._eventRoutes = normalizeMethods(this, eventRoutes);\n  },\n\n  // Start a route from a currentRoute passed from a routerapp\n  startRoute({ event, eventArgs }) {\n    const action = this._eventRoutes[event];\n\n    if (!action) return;\n\n    action.apply(this, eventArgs);\n  },\n\n  mixinOptions(options) {\n    const appOptions = result(this, 'currentAppOptions');\n\n    return extend({}, appOptions, options);\n  },\n\n  // handler that ensures one running app per type\n  startCurrent(appName, options) {\n    this.stopCurrent();\n\n    const app = this.startChildApp(appName, this.mixinOptions(options));\n\n    this._current = app;\n\n    return app;\n  },\n\n  getCurrent() {\n    return this._current;\n  },\n\n  stopCurrent() {\n    if (!this._current) return;\n\n    this._current.stop();\n    this._current = null;\n  },\n});\n","import { clone, extend, keys, reduce } from 'underscore';\n\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nexport default Backbone.Model.extend({\n  defaults() {\n    return {\n      actionBeingEdited: null,\n      lastSelectedIndex: null,\n      selectedActions: {},\n    };\n  },\n  isBeingEdited(model) {\n    return this.get('actionBeingEdited') === model.id;\n  },\n  getSelectedList() {\n    return this.get('selectedActions');\n  },\n  toggleSelected(model, isSelected, selectedIndex) {\n    const currentSelectedList = clone(this.get('selectedActions'));\n    const newSelectedList = extend(currentSelectedList, {\n      [model.id]: isSelected,\n    });\n\n    this.set({\n      selectedActions: newSelectedList,\n      lastSelectedIndex: isSelected ? selectedIndex : null,\n    });\n  },\n  isSelected(model) {\n    const list = this.getSelectedList();\n\n    return !!list[model.id];\n  },\n  getSelected(collection) {\n    const list = this.getSelectedList();\n    const collectionSelected = reduce(keys(list), (selected, item) => {\n      if (list[item] && collection.get(item)) {\n        selected.push({\n          id: item,\n        });\n      }\n\n      return selected;\n    }, []);\n\n    return Radio.request('entities', 'actions:collection', collectionSelected);\n  },\n  clearSelected() {\n    this.set({\n      selectedActions: {},\n      lastSelectedIndex: null,\n    });\n\n    this.trigger('select:none');\n  },\n  selectMultiple(selectedIds, newLastSelectedIndex = null) {\n    const currentSelectedList = this.get('selectedActions');\n\n    const newSelectedList = selectedIds.reduce((selected, id) => {\n      selected[id] = true;\n      return selected;\n    }, clone(currentSelectedList));\n\n    this.set({\n      selectedActions: newSelectedList,\n      lastSelectedIndex: newLastSelectedIndex,\n    });\n\n    this.trigger('select:multiple');\n  },\n});\n","import { first } from 'underscore';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\n\nimport intl from 'js/i18n';\n\nimport { ACTION_OUTREACH, ACTION_SHARING } from 'js/static';\n\nimport App from 'js/base/app';\n\nexport default App.extend({\n  beforeStart({ actionId, patientId }) {\n    if (!actionId) {\n      const currentUser = Radio.request('bootstrap', 'currentUser');\n      const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n      const states = currentWorkspace.getStates();\n\n      const defaultInitialState = first(states.filter({ status: 'queued' }));\n\n      return Radio.request('entities', 'actions:model', {\n        _patient: patientId,\n        _state: defaultInitialState.id,\n        _owner: {\n          type: 'clinicians',\n          id: currentUser.id,\n        },\n        outreach: ACTION_OUTREACH.DISABLED,\n        sharing: ACTION_SHARING.DISABLED,\n        duration: 0,\n        due_date: null,\n        due_time: null,\n        updated_at: dayjs().format(),\n      });\n    }\n\n    return Radio.request('entities', 'fetch:actions:model', actionId);\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.patients.patient.actionApp.notFound);\n    this.stop();\n  },\n  onStart(options, action) {\n    const sidebar = Radio.request('sidebar', 'start', 'action', { action });\n\n    this.listenTo(sidebar, 'stop', this.stop);\n  },\n});\n","import { bind, some } from 'underscore';\nimport Backbone from 'backbone';\nimport dayjs from 'dayjs';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View } from 'marionette';\n\nimport intl from 'js/i18n';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/modals.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, DurationComponent } from 'js/views/patients/shared/actions_views';\n\nimport BulkEditActionBodyTemplate from './bulk-edit-action-body.hbs';\nimport BulkEditFlowBodyTemplate from './bulk-edit-flow-body.hbs';\n\nconst i18n = intl.patients.shared.bulkEdit.bulkEditViews;\n\nfunction getIsOverdue(date, time) {\n  if (!date) return false;\n\n  const dueDateTime = dayjs(time ? `${ date } ${ time }` : date);\n\n  return dueDateTime.isBefore(dayjs(), 'day') || dueDateTime.isBefore(dayjs(), 'minute');\n}\n\nconst FlowsStateComponent = StateComponent.extend({\n  onPicklistSelect({ model }) {\n    // Selected done\n    if (model.isDone() && this.getOption('flows')) {\n      this.shouldSelectDone(model);\n      return;\n    }\n\n    this.setSelectedStatus(model);\n  },\n  shouldSelectDone(model) {\n    const flows = this.getOption('flows');\n    const flowsIncomplete = some(flows.invoke('isAllDone'), complete => !complete);\n\n    if (!flowsIncomplete) {\n      this.setSelectedStatus(model);\n      return;\n    }\n\n    // We must hide the droplist before showing the modal\n    this.popRegion.empty();\n\n    if (Radio.request('bootstrap', 'setting', 'require_done_flow')) {\n      Radio.request('modal', 'show:small', {\n        bodyText: i18n.flowsStateComponent.requireDoneModal.bodyText,\n        headingText: i18n.flowsStateComponent.requireDoneModal.headingText,\n        submitText: i18n.flowsStateComponent.requireDoneModal.submitText,\n        cancelText: false,\n        buttonClass: 'button--blue',\n      });\n      return;\n    }\n\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.flowsStateComponent.doneModal.bodyText,\n      headingText: i18n.flowsStateComponent.doneModal.headingText,\n      submitText: i18n.flowsStateComponent.doneModal.submitText,\n      onSubmit: () => {\n        this.setSelectedStatus(model);\n        modal.destroy();\n      },\n    });\n  },\n  setSelectedStatus(model) {\n    this.setState('selected', model);\n    this.popRegion.empty();\n  },\n});\n\nconst BulkEditButtonView = View.extend({\n  template: hbs`\n   <button class=\"button--blue js-bulk-edit\">\n      {{#if isFlowList}}\n        {{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.editFlows\") itemCount=items.length}}\n      {{else}}\n        {{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.editActions\") itemCount=items.length}}\n      {{/if}}\n    </button>\n    <span class=\"button--text js-cancel\">{{@intl.patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.cancel}}</span>\n  `,\n  templateContext() {\n    return {\n      isFlowList: this.getOption('isFlowType'),\n    };\n  },\n  triggers: {\n    'click .js-cancel': 'click:cancel',\n    'click .js-bulk-edit': 'click:edit',\n  },\n});\n\nconst BulkEditActionsHeaderView = View.extend({\n  className: 'modal__header--sidebar',\n  template: hbs`\n    <div class=\"flex\">\n      <div class=\"flex-grow\">\n      <h3 class=\"sidebar__heading\">{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsHeaderView.headingText\") itemCount=items.length}}</h3>\n      </div>\n      <div>\n        {{#if isDevelop}}<button class=\"button--icon u-margin--r-8 js-menu\">{{far \"ellipsis\"}}</button>{{/if}}\n        <button class=\"button--icon js-close\">{{far \"xmark\"}}</button>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    return {\n      isDevelop: _DEVELOP_,\n    };\n  },\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const itemCount = this.collection.length;\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'confirm:delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.bulkEditActionsHeaderView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsHeaderView.menuOptions.delete\") itemCount=itemCount}}</span>`,\n      itemTemplateContext: { itemCount },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.confirmDeleteActionsModal.bodyText,\n      headingText: i18n.confirmDeleteActionsModal.headingText,\n      submitText: i18n.confirmDeleteActionsModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete', this.collection);\n      },\n    });\n  },\n});\n\nconst BulkEditFlowsHeaderView = View.extend({\n  className: 'modal__header--sidebar',\n  template: hbs`\n    <div class=\"flex\">\n      <div class=\"flex-grow\">\n        <h3 class=\"sidebar__heading\">{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsHeaderView.headingText\") itemCount=items.length}}</h3>\n      </div>\n      <div>\n        <button class=\"button--icon u-margin--r-8 js-menu\">{{far \"ellipsis\"}}</button>\n        <button class=\"button--icon js-close\">{{far \"xmark\"}}</button>\n      </div>\n    </div>\n  `,\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const itemCount = this.collection.length;\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'confirm:delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.bulkEditFlowsHeaderView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsHeaderView.menuOptions.delete\") itemCount=itemCount}}</span>`,\n      itemTemplateContext: { itemCount },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.confirmDeleteFlowsModal.bodyText,\n      headingText: i18n.confirmDeleteFlowsModal.headingText,\n      submitText: i18n.confirmDeleteFlowsModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete', this.collection);\n      },\n    });\n  },\n});\n\nconst BulkEditActionsBodyView = View.extend({\n  modelEvents: {\n    'change:stateMulti': 'showState',\n    'change:ownerMulti': 'showOwner',\n    'change:dateMulti': 'showDueDateTime',\n    'change:date': 'showDueDateTime',\n    'change:timeMulti': 'showDueTime',\n    'change:durationMulti': 'showDuration',\n  },\n  className: 'modal__content--sidebar',\n  template: BulkEditActionBodyTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    duration: '[data-duration-region]',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showDueDateTime();\n    this.showDuration();\n  },\n  getStateComponent() {\n    if (this.model.get('stateMulti')) {\n      return new StateComponent({\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{fas \"circle-dot\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkStateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new StateComponent({ stateId: this.model.get('stateId') });\n  },\n  getOwnerComponent() {\n    const isDisabled = this.model.someComplete();\n    const workspaces = this.model.getWorkspaces();\n    const infoText = workspaces.length ? null : i18n.bulkOwnerInfoText;\n\n    if (this.model.get('ownerMulti')) {\n      return new OwnerComponent({\n        workspaces,\n        viewOptions: {\n          attributes: {\n            disabled: isDisabled,\n          },\n          className: 'button-secondary w-100',\n          template: hbs`{{far \"circle-user\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkOwnerDefaultText }}</span>`,\n        },\n        infoText,\n      });\n    }\n\n    return new OwnerComponent({\n      owner: this.model.get('owner'),\n      state: { isDisabled },\n      workspaces,\n      infoText,\n    });\n  },\n  getDueDateComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('dateMulti')) {\n      return new DueComponent({\n        state: { isDisabled },\n        viewOptions: {\n          attributes: {\n            disabled: isDisabled,\n          },\n          tagName: 'button',\n          className: 'button-secondary w-100 due-component',\n          triggers: {\n            'click': 'click',\n          },\n          template: hbs`{{far \"calendar-days\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDueDateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    const isOverdue = getIsOverdue(this.model.get('date'));\n\n    return new DueComponent({\n      date: this.model.get('date'),\n      state: { isDisabled },\n      isOverdue,\n    });\n  },\n  getDueTimeComponent() {\n    if (this.model.get('timeMulti')) {\n      return new TimeComponent({\n        viewOptions: {\n          attributes: {\n            disabled: this.model.get('dateMulti') || this.model.someComplete(),\n          },\n          className: 'button-secondary time-component w-100',\n          template: hbs`{{far \"clock\"}} <span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDueTimeDefaultText }}</span>`,\n        },\n      });\n    }\n\n    const time = this.model.get('time');\n    const isDisabled = (this.model.get('dateMulti') && !time) || !this.model.get('date') || this.model.someComplete();\n    const isOverdue = getIsOverdue(this.model.get('date'), time);\n\n    return new TimeComponent({\n      time,\n      state: { isDisabled },\n      isOverdue,\n    });\n  },\n  getDurationComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('durationMulti')) {\n      return new DurationComponent({\n        viewOptions: {\n          className: 'button-secondary w-100',\n          attributes: {\n            disabled: isDisabled,\n          },\n          template: hbs`{{far \"stopwatch\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDurationDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new DurationComponent({\n      duration: this.model.get('duration'),\n      state: { isDisabled },\n    });\n  },\n  showState() {\n    const stateComponent = this.getStateComponent();\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.setState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = this.getOwnerComponent();\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.setOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDateTime() {\n    this.showDueDate();\n    this.showDueTime();\n  },\n  showDueDate() {\n    const dueDateComponent = this.getDueDateComponent();\n\n    this.listenTo(dueDateComponent, 'change:due', date => {\n      this.model.setDueDate(date);\n    });\n\n    this.showChildView('dueDate', dueDateComponent);\n  },\n  showDueTime() {\n    const dueTimeComponent = this.getDueTimeComponent();\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.model.setDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showDuration() {\n    const durationComponent = this.getDurationComponent();\n\n    this.listenTo(durationComponent, 'change:duration', duration => {\n      this.model.setDuration(duration);\n    });\n\n    this.showChildView('duration', durationComponent);\n  },\n});\n\nconst ApplyOwnerView = View.extend({\n  modelEvents: {\n    'change:applyOwner': 'render',\n    'change:ownerMulti': 'render',\n  },\n  className: 'u-margin--t-4 u-margin--l-16',\n  template: hbs`\n    <button class=\"button--checkbox js-apply-owner\"{{#if ownerMulti}} disabled{{/if}}>\n      {{#if applyOwner}}{{fas \"square-check\"}}{{else}}{{fal \"square\"}}{{/if~}}\n      <span>{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkEditFlowBodyTemplate.applyOwnerLabel }}</span>\n    </button>`,\n  triggers: {\n    'click .js-apply-owner': 'click:select',\n  },\n  onClickSelect() {\n    this.model.set('applyOwner', !this.model.get('applyOwner'));\n  },\n});\n\nconst BulkEditFlowsBodyView = View.extend({\n  modelEvents: {\n    'change:stateMulti': 'showState',\n    'change:ownerMulti': 'showOwner',\n  },\n  className: 'modal__content--sidebar',\n  template: BulkEditFlowBodyTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    applyOwner: '[data-apply-owner-region]',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showApplyOwner();\n  },\n  getStateComponent() {\n    if (this.model.get('stateMulti')) {\n      return new FlowsStateComponent({\n        flows: this.collection,\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{fas \"circle-dot\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkStateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new FlowsStateComponent({\n      flows: this.collection,\n      stateId: this.model.get('stateId'),\n    });\n  },\n  getOwnerComponent() {\n    const isDisabled = this.model.someComplete();\n    const workspaces = this.model.getWorkspaces();\n    const infoText = workspaces.length ? null : i18n.bulkOwnerInfoText;\n\n    if (this.model.get('ownerMulti')) {\n      return new OwnerComponent({\n        workspaces,\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{far \"circle-user\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkOwnerDefaultText }}</span>`,\n        },\n        infoText,\n        state: { isDisabled },\n      });\n    }\n\n    return new OwnerComponent({\n      owner: this.model.get('owner'),\n      workspaces,\n      infoText,\n      state: { isDisabled },\n    });\n  },\n  showState() {\n    const stateComponent = this.getStateComponent();\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.setState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = this.getOwnerComponent();\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.setOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showApplyOwner() {\n    this.showChildView('applyOwner', new ApplyOwnerView({\n      model: this.model,\n    }));\n  },\n});\n\nconst BulkEditFlowsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsSuccess\") itemCount=itemCount}}`;\n\nconst BulkEditActionsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsSuccess\") itemCount=itemCount}}`;\n\nconst BulkDeleteFlowsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkDeleteFlowsSuccess\") itemCount=itemCount}}`;\n\nconst BulkDeleteActionsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkDeleteActionsSuccess\") itemCount=itemCount}}`;\n\nexport {\n  BulkEditButtonView,\n  BulkEditActionsHeaderView,\n  BulkEditFlowsHeaderView,\n  BulkEditActionsBodyView,\n  BulkEditFlowsBodyView,\n  BulkEditFlowsSuccessTemplate,\n  BulkEditActionsSuccessTemplate,\n  BulkDeleteFlowsSuccessTemplate,\n  BulkDeleteActionsSuccessTemplate,\n};\n","import { partial, pick } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { BulkEditActionsBodyView, BulkEditActionsHeaderView } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nconst StateModel = Backbone.Model.extend({\n  initialize({ collection }) {\n    const initModel = collection.at(0);\n    this.initBulkState(collection, initModel);\n    this.initBulkOwner(collection, initModel);\n    this.initBulkDueDate(collection, initModel);\n    this.initBulkDueTime(collection, initModel);\n    this.initBulkDuration(collection, initModel);\n  },\n  initBulkState(collection, initModel) {\n    const stateId = initModel.getState().id;\n    const stateMulti = collection.some(item => {\n      return item.getState().id !== stateId;\n    });\n\n    this.set({\n      stateMulti,\n      stateId: stateMulti ? null : stateId,\n    });\n  },\n  initBulkOwner(collection, initModel) {\n    const owner = initModel.getOwner();\n    const ownerMulti = collection.some(item => {\n      return item.getOwner().id !== owner.id;\n    });\n\n    this.set({\n      ownerMulti,\n      owner: ownerMulti ? null : owner,\n    });\n  },\n  initBulkDueDate(collection, initModel) {\n    const date = initModel.get('due_date');\n    const dateMulti = collection.some(item => {\n      return item.get('due_date') !== date;\n    });\n\n    this.set({\n      dateMulti,\n      date: dateMulti ? null : date,\n    });\n  },\n  initBulkDueTime(collection, initModel) {\n    const time = initModel.get('due_time');\n    const timeMulti = collection.some(item => {\n      return item.get('due_time') !== time;\n    });\n\n    this.set({\n      timeMulti,\n      time: timeMulti ? null : time,\n    });\n  },\n  initBulkDuration(collection, initModel) {\n    const duration = initModel.get('duration');\n    const durationMulti = collection.some(item => {\n      return item.get('duration') !== duration;\n    });\n\n    this.set({\n      durationMulti,\n      duration: durationMulti ? null : duration,\n    });\n  },\n  setState(state) {\n    return this.set({ stateId: state.id, stateMulti: false, stateChanged: true });\n  },\n  setOwner(owner) {\n    return this.set({ owner, ownerMulti: false, ownerChanged: true });\n  },\n  setDueDate(date) {\n    if (!date) {\n      return this.set({ date: null, time: null, dateMulti: false, timeMulti: false });\n    }\n    return this.set({ date: date.format('YYYY-MM-DD'), dateMulti: false, dateChanged: true });\n  },\n  setDueTime(time) {\n    return this.set({ time: time || null, timeMulti: false, timeChanged: true });\n  },\n  setDuration(duration) {\n    return this.set({ duration, durationMulti: false, durationChanged: true });\n  },\n  getWorkspaces() {\n    return this.get('collection').getPatients().getSharedWorkspaces();\n  },\n  someComplete() {\n    return this.get('collection').some(item => {\n      return item.isDone();\n    });\n  },\n  getData() {\n    const {\n      stateChanged,\n      stateId,\n      ownerChanged,\n      owner,\n      dateChanged,\n      date,\n      timeChanged,\n      time,\n      durationChanged,\n      duration,\n    } = this.attributes;\n\n    const saveData = {};\n\n    if (stateChanged) saveData._state = stateId;\n    if (ownerChanged) saveData._owner = pick(owner, 'id', 'type');\n    if (dateChanged) saveData.due_date = date;\n    if (timeChanged) saveData.due_time = time;\n    if (durationChanged) saveData.duration = duration;\n\n    return saveData;\n  },\n});\n\nexport default App.extend({\n  StateModel,\n  onStart() {\n    const headerView = new BulkEditActionsHeaderView({\n      collection: this.getState('collection'),\n    });\n    const bodyView = new BulkEditActionsBodyView({\n      model: this.getState(),\n      collection: this.getState('collection'),\n    });\n\n    this.modal = Radio.request('modal', 'show:sidebar', {\n      headerView,\n      bodyView,\n      onSubmit: this.onSubmit.bind(this),\n    });\n\n    this.listenTo(headerView, {\n      'delete': partial(this.triggerMethod, 'delete'),\n    });\n\n    this.listenTo(this.modal, {\n      'destroy': this.stop,\n    });\n  },\n  onSubmit() {\n    this.modal.disableSubmit();\n    this.triggerMethod('save', this.getState().getData());\n  },\n  onStop() {\n    this.modal.destroy();\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { CheckComponent, StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\nimport { FlowStateComponent, OwnerComponent as FlowOwnerComponent } from 'js/views/patients/shared/flows_views';\n\nimport HeaderTemplate from './header.hbs';\nimport ActionItemTemplate from './action-item.hbs';\n\nimport '../patient.scss';\nimport './patient-flow.scss';\n\nconst ContextTrailView = View.extend({\n  initialize() {\n    this.patient = this.model.getPatient();\n  },\n  className: 'patient-flow__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back patient-flow__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.patients.patient.flowViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}\n    <a class=\"js-patient patient-flow__context-link\">{{ firstName }} {{ lastName }}</a>{{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n    'click .js-patient': 'click:patient',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.patient.id);\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n      firstName: this.patient.get('first_name'),\n      lastName: this.patient.get('last_name'),\n    };\n  },\n});\n\nconst HeaderView = View.extend({\n  className: 'patient-flow__header',\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'render',\n    'change:_progress': 'onChangeFlowProgress',\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  template: HeaderTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  triggers: {\n    'click': 'edit',\n  },\n  ui: {\n    progress: '.js-progress',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n  },\n  showState() {\n    const stateComponent = new FlowStateComponent({\n      flow: this.model,\n      stateId: this.model.get('_state'),\n      isCompact: true,\n    });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    const ownerComponent = new FlowOwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  onChangeFlowProgress() {\n    const prog = this.model.get('_progress');\n    this.ui.progress.attr({ value: prog.complete, max: prog.total });\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient-flow__empty-list\">\n      <h2>{{ @intl.patients.patient.flowViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  modelEvents: {\n    'change': 'render',\n    'editing': 'onEditing',\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n\n    this.flow = this.model.getFlow();\n\n    this.listenTo(this.flow, {\n      'change:_state': this.render,\n    });\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      hasForm: this.model.getForm(),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n      hasAttachments: this.model.hasAttachments(),\n    };\n  },\n  tagName: 'tr',\n  regions: {\n    check: '[data-check-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow:action', this.model.get('_flow'), this.model.id);\n  },\n  onEditing(isEditing) {\n    const isSelected = this.state.isSelected(this.model);\n\n    if (isSelected) return;\n\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onRender() {\n    this.showCheck();\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showForm();\n  },\n  toggleSelected(isSelected) {\n    const isBeingEdited = this.state.isBeingEdited(this.model);\n\n    if (isBeingEdited) return;\n\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  showState() {\n    const isDisabled = this.flow.isDone();\n    this.stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(this.stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', this.stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone() || this.flow.isDone();\n    this.ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(this.ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', this.ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.model.isDone() || this.flow.isDone();\n    this.dueDayComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueDayComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDay', this.dueDayComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.model.isDone() || this.flow.isDone() || !this.model.get('due_date');\n    this.dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', this.dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list patient-flow__list',\n  tagName: 'table',\n  childView: ActionItemView,\n  childViewOptions() {\n    return {\n      state: this.getOption('state'),\n    };\n  },\n  childViewTriggers: {\n    'select': 'select',\n  },\n  emptyView: EmptyView,\n  viewComparator({ model }) {\n    return model.get('sequence');\n  },\n  initialize({ state }) {\n    this.state = state;\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    const isSelected = this.state.isSelected(selectedView.model);\n    const selectedIndex = this.children.findIndexByView(selectedView);\n    const lastSelectedIndex = this.state.get('lastSelectedIndex');\n\n    if (isShiftKeyPressed && lastSelectedIndex !== null && !isSelected) {\n      this.handleClickShiftMultiSelect(selectedIndex, lastSelectedIndex);\n      return;\n    }\n\n    this.state.toggleSelected(selectedView.model, !isSelected, selectedIndex);\n  },\n  handleClickShiftMultiSelect(selectedIndex, lastSelectedIndex) {\n    const minIndex = Math.min(selectedIndex, lastSelectedIndex);\n    const maxIndex = Math.max(selectedIndex, lastSelectedIndex);\n\n    const selectedIds = this.children.map(view => view.model.id).slice(minIndex, maxIndex + 1);\n\n    this.state.selectMultiple(selectedIds, selectedIndex);\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'patient-flow__frame',\n  template: hbs`\n    <div class=\"patient-flow__layout\">\n      <div data-context-trail-region></div>\n      <div data-header-region></div>\n      <div class=\"patient-flow__actions\">\n        <div data-select-all-region></div>\n        <div data-tools-region></div>\n      </div>\n      <div data-action-list-region></div>\n    </div>\n    <div class=\"patient-flow__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    header: '[data-header-region]',\n    sidebar: '[data-sidebar-region]',\n    actionList: {\n      el: '[data-action-list-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    tools: {\n      el: '[data-tools-region]',\n      replaceElement: true,\n    },\n    selectAll: {\n      el: '[data-select-all-region]',\n      replaceElement: true,\n    },\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox u-margin--r-16',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  HeaderView,\n  ListView,\n  SelectAllView,\n};\n","import { View } from 'marionette';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport intl from 'js/i18n';\n\nimport './add-workflow.scss';\n\nconst i18n = intl.patients.shared.addWorkflow.addWorkflowViews;\n\nconst AddWorkflowOptlist = Optionlist.extend({\n  popWidth: 248,\n  isSelectlist: true,\n  placeholderText: i18n.addWorkflowOptlist.placeholderText,\n  itemTemplateContext() {\n    const isProgramAction = this.model.get('itemType') === 'program-actions';\n    const actionIcon = this.model.get('hasOutreach') ? 'share-from-square' : 'file-lines';\n    return {\n      icon: {\n        icon: isProgramAction ? actionIcon : 'folder',\n        type: isProgramAction ? 'far' : 'fas',\n        classes: 'add-workflow__picklist-icon',\n      },\n    };\n  },\n});\n\nconst AddButtonView = View.extend({\n  tagName: 'button',\n  className: 'button-primary',\n  headingText: i18n.addWorkflowOptlist.headingText,\n  template: hbs`{{far \"circle-plus\"}}<span>{{ @intl.patients.shared.addWorkflow.addWorkflowViews.addButtonView.label }}</span>{{far \"angle-down\"}}`,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    const optionlist = new AddWorkflowOptlist({\n      headingText: this.getOption('headingText'),\n      ui: this.$el,\n      uiView: this,\n      lists: this.getOption('lists'),\n      onNew: this.getOption('onNew'),\n    });\n\n    optionlist.show();\n  },\n});\n\nconst itemClasses = {\n  new: 'u-text--italic',\n  noResults: 'picklist--no-results',\n};\n\nexport {\n  AddButtonView,\n  i18n,\n  itemClasses,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport StateModel from './flow_state';\n\nimport ActionApp from 'js/apps/patients/patient/action/action_app';\nimport BulkEditActionsApp from 'js/apps/patients/sidebar/bulk-edit-actions_app';\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\n\nimport { LayoutView, ContextTrailView, HeaderView, ListView, SelectAllView } from 'js/views/patients/patient/flow/flow_views';\nimport { BulkEditButtonView, BulkEditActionsSuccessTemplate, BulkDeleteActionsSuccessTemplate } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\nimport { AddButtonView, i18n } from 'js/views/patients/shared/add-workflow/add-workflow_views';\n\nexport default SubRouterApp.extend({\n  StateModel,\n  routerAppName: 'FlowApp',\n  childApps: {\n    action: ActionApp,\n    patient: PatientSidebarApp,\n    bulkEditActions: BulkEditActionsApp,\n  },\n  eventRoutes: {\n    'flow:action': 'showActionSidebar',\n  },\n  stateEvents: {\n    'change:selectedActions': 'onChangeSelected',\n  },\n  onChangeSelected() {\n    this.toggleBulkSelect();\n  },\n  onBeforeStart() {\n    this.resetStateDefaults();\n    this.showView(new LayoutView());\n  },\n  beforeStart({ flowId }) {\n    return [\n      Radio.request('entities', 'fetch:flows:model', flowId),\n      Radio.request('entities', 'fetch:actions:collection:byFlow', flowId),\n      Radio.request('entities', 'fetch:patients:model:byFlow', flowId),\n    ];\n  },\n  onFail() {\n    Radio.trigger('event-router', 'notFound');\n    this.stop();\n  },\n  onStart({ currentRoute }, flow, actions, patient) {\n    this.flow = flow;\n    this.actions = actions;\n    this.patient = patient;\n    this.addOpts = this.getAddOpts(this.flow.getProgramFlow());\n\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: this.flow,\n    }));\n\n    this.showHeader();\n    this.toggleBulkSelect();\n    this.showActionList();\n    this.showSidebar();\n\n    this.listenTo(this.actions, {\n      'change:_state': this.onActionChangeState,\n      'destroy': this.onActionDestroy,\n    });\n\n    this.listenTo(this.flow, 'change:_owner', this.onFlowChangeOwner);\n\n    this.startRoute(currentRoute);\n  },\n  onActionChangeState(action) {\n    const { complete, total } = this.flow.get('_progress');\n    const isDone = action.isDone();\n\n    const prevState = Radio.request('entities', 'states:model', action.previous('_state'));\n    const isPrevDone = prevState.isDone();\n\n    // No change in completion\n    if (isPrevDone === isDone) return;\n\n    this.flow.set({ _progress: {\n      complete: complete + (isDone ? 1 : -1),\n      total,\n    } });\n  },\n  onActionDestroy(action) {\n    const { complete, total } = this.flow.get('_progress');\n    const isDone = action.isDone();\n\n    this.flow.set({ _progress: {\n      complete: complete - (isDone ? 1 : 0),\n      total: total - 1,\n    } });\n  },\n  onFlowChangeOwner(flow, _owner) {\n    if (_owner.type === 'teams') return;\n    const ownerTeam = flow.getOwner().getTeam();\n    this.actions.each(action => {\n      if (!action.isDone() && action.getOwner() === ownerTeam) action.set({ _owner });\n    });\n  },\n  showHeader() {\n    const headerView = new HeaderView({\n      model: this.flow,\n    });\n\n    this.listenTo(headerView, {\n      'edit': this.onEditFlow,\n    });\n\n    this.showChildView('header', headerView);\n  },\n\n  getAddOpts(programFlow) {\n    return programFlow.getActions().map(action => {\n      return {\n        text: action.get('name'),\n        itemType: action.type,\n        hasOutreach: action.hasOutreach(),\n        onSelect: bind(this.triggerMethod, this, 'add:programAction', action),\n      };\n    });\n  },\n\n  showAdd() {\n    this.showChildView('tools', new AddButtonView({\n      headingText: i18n.addActionHeadingText,\n      lists: [{ collection: new Backbone.Collection(this.addOpts) }],\n    }));\n  },\n\n  toggleBulkSelect() {\n    this.selected = this.getState().getSelected(this.actions);\n\n    this.showSelectAll();\n\n    if (this.selected.length) {\n      this.showBulkEditButtonView();\n      return;\n    }\n\n    this.showAdd();\n  },\n  showBulkEditButtonView() {\n    const bulkEditButtonView = this.showChildView('tools', new BulkEditButtonView({\n      tagName: 'span',\n      collection: this.selected,\n    }));\n\n    this.listenTo(bulkEditButtonView, {\n      'click:cancel': this.onClickBulkCancel,\n      'click:edit': this.onClickBulkEdit,\n    });\n  },\n  onClickBulkCancel() {\n    this.getState().clearSelected();\n  },\n  onClickBulkEdit() {\n    const app = this.startChildApp('bulkEditActions', {\n      state: { collection: this.selected },\n    });\n\n    this.listenTo(app, {\n      'save'(saveData) {\n        this.selected.save(saveData)\n          .then(() => {\n            this.showUpdateSuccess(this.selected.length);\n            app.stop();\n            this.getState().clearSelected();\n          })\n          .catch(() => {\n            Radio.request('alert', 'show:error', intl.patients.worklist.worklistApp.bulkEditFailure);\n            this.getState().clearSelected();\n            this.restart();\n          });\n      },\n      'delete'() {\n        const itemCount = this.selected.length;\n\n        this.selected.destroy().then(() => {\n          this.showDeleteSuccess(itemCount);\n          app.stop();\n          this.getState().clearSelected();\n        });\n      },\n    });\n  },\n  showDeleteSuccess(itemCount) {\n    Radio.request('alert', 'show:success', renderTemplate(BulkDeleteActionsSuccessTemplate, { itemCount }));\n  },\n  showUpdateSuccess(itemCount) {\n    Radio.request('alert', 'show:success', renderTemplate(BulkEditActionsSuccessTemplate, { itemCount }));\n  },\n  showDisabledSelectAll() {\n    this.showChildView('selectAll', new SelectAllView({ isDisabled: true }));\n  },\n  showSelectAll() {\n    if (!this.actions.length) {\n      this.showDisabledSelectAll();\n      return;\n    }\n    const isSelectAll = this.selected.length === this.actions.length;\n    const isSelectNone = !this.selected.length;\n    const selectAllView = new SelectAllView({\n      isSelectAll,\n      isSelectNone,\n    });\n\n    this.listenTo(selectAllView, 'click', this.onClickBulkSelect);\n\n    this.showChildView('selectAll', selectAllView);\n  },\n  onClickBulkSelect() {\n    if (this.selected.length === this.actions.length) {\n      this.getState().clearSelected();\n      return;\n    }\n\n    this.getState().selectMultiple(this.actions.map('id'));\n  },\n\n  onAddProgramAction(programAction) {\n    const action = programAction.getAction({ flowId: this.flow.id });\n    action.saveAll().then(() => {\n      this.actions.push(action);\n\n      Radio.trigger('event-router', 'flow:action', this.flow.id, action.id);\n    });\n  },\n\n  showActionList() {\n    this.showChildView('actionList', new ListView({\n      collection: this.actions,\n      state: this.getState(),\n    }));\n  },\n\n  showSidebar() {\n    this.startChildApp('patient', {\n      region: this.getRegion('sidebar'),\n      patient: this.patient,\n    });\n  },\n\n  showActionSidebar(flowId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.setState('actionBeingEdited', action.id);\n        action.trigger('editing', true);\n      },\n      'stop'() {\n        this.setState('actionBeingEdited', null);\n      },\n    });\n\n    this.startChildApp('action', { actionId });\n  },\n\n  onEditFlow() {\n    Radio.request('sidebar', 'start', 'flow', { flow: this.flow });\n  },\n});\n","import { bind, noop } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { AddButtonView, i18n, itemClasses } from 'js/views/patients/shared/add-workflow/add-workflow_views';\n\nconst optEvents = {\n  'program-actions': 'add:programAction',\n  'program-flows': 'add:programFlow',\n  'new': 'add:newAction',\n};\n\nexport default App.extend({\n  beforeStart() {\n    return [\n      Radio.request('entities', 'fetch:programs:collection'),\n      Radio.request('entities', 'fetch:programActions:collection'),\n      Radio.request('entities', 'fetch:programFlows:collection'),\n    ];\n  },\n  onStart(options, programs) {\n    programs.comparator = 'name';\n    programs.reset(programs.filter({ published: true }));\n\n    this.showView(new AddButtonView({\n      lists: this.getLists(programs),\n    }));\n  },\n  getLists(programs) {\n    const lists = this.getProgramsOpts(programs);\n\n    const newActionOpt = {\n      itemType: 'program-actions',\n      text: i18n.newActionText,\n      onSelect: bind(this.triggerMethod, this, optEvents.new),\n    };\n\n    lists.unshift({\n      collection: new Backbone.Collection([newActionOpt]),\n      itemClassName: itemClasses.new,\n    });\n\n    return lists;\n  },\n  getProgramsOpts(programs) {\n    return programs.map(program => {\n      const headingText = program.get('name');\n      const programItems = program.getPublished();\n      const noResultsOpt = {\n        itemType: 'program-actions',\n        text: i18n.noResultsText,\n      };\n\n      if (!programItems.length) {\n        return {\n          itemClassName: itemClasses.noResults,\n          headingText,\n          collection: new Backbone.Collection([noResultsOpt]),\n          getItemSearchText: noop,\n        };\n      }\n\n      const itemsOpts = this.getProgramItemsOpts(programItems);\n\n      return {\n        headingText,\n        collection: new Backbone.Collection(itemsOpts),\n      };\n    });\n  },\n  getProgramItemsOpts(programItems) {\n    return programItems.map(item => {\n      return {\n        text: item.get('name'),\n        itemType: item.type,\n        hasOutreach: item.type === 'program-actions' && item.hasOutreach(),\n        onSelect: bind(this.triggerMethod, this, optEvents[item.type], item),\n      };\n    });\n  },\n});\n","import anime from 'animejs';\nimport Radio from 'backbone.radio';\n\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\nimport LayoutTemplate from './layout.hbs';\n\nimport 'scss/domain/action-state.scss';\nimport '../patient.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient__empty-list\">\n      <h2>{{ @intl.patients.patient.dashboard.dashboardViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onInitialize() {\n    if (this.view.model.isNew()) this.$el.addClass('is-selected');\n  },\n});\n\nconst DoneBehavior = Behavior.extend({\n  modelEvents: {\n    'change:_state': 'onChangeState',\n  },\n  onChangeState() {\n    if (this.view.model.isDone()) {\n      anime({\n        targets: this.el,\n        delay: 300,\n        duration: 500,\n        opacity: [1, 0],\n        easing: 'easeOutQuad',\n        complete: () => {\n          this.view.triggerMethod('change:visible');\n        },\n      });\n      return;\n    }\n\n    this.$el.css({\n      opacity: 1,\n    });\n\n    this.view.triggerMethod('change:visible');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n      hasAttachments: this.model.hasAttachments(),\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showForm();\n  },\n  showState() {\n    const isDisabled = this.model.isNew();\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.model.isNew();\n    const dueDayComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(dueDayComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDay', dueDayComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.model.isNew() || !this.model.get('due_date');\n    const dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior],\n  regions: {\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  templateContext() {\n    const stateOptions = this.model.getState().get('options');\n\n    return {\n      stateOptions,\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onRender() {\n    this.showOwner();\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  childViewEvents: {\n    'change:visible': 'filter',\n  },\n  className: 'table-list patient__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('updated_at'), viewB.model.get('updated_at'));\n  },\n  viewFilter({ model }) {\n    return !model.isDone();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region patient__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    addWorkflow: '[data-add-workflow-region]',\n  },\n  ui: {\n    loading: '.js-loading',\n  },\n  template: LayoutTemplate,\n  triggers: {\n    'click .js-archive': 'click:archive',\n  },\n  onClickArchive() {\n    Radio.trigger('event-router', 'patient:archive', this.model.id);\n  },\n  onRender() {\n    anime({\n      targets: this.ui.loading[0],\n      opacity: 0.5,\n      loop: true,\n      easing: 'easeInOutSine',\n      duration: 400,\n      direction: 'alternate',\n    });\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport AddWorkflowApp from './add-workflow_app';\n\nimport { LayoutView, ListView } from 'js/views/patients/patient/dashboard/dashboard_views';\n\nexport default App.extend({\n  childApps: {\n    addWorkflow: AddWorkflowApp,\n  },\n\n  onBeforeStart({ patient }) {\n    this.patient = patient;\n    this.showView(new LayoutView({ model: patient }));\n    this.getRegion('content').startPreloader();\n  },\n\n  beforeStart({ patient }) {\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    const states = currentWorkspace.getStates();\n    const filter = { state: states.groupByDone().notDone.getFilterIds() };\n\n    return [\n      Radio.request('entities', 'fetch:actions:collection:byPatient', { patientId: patient.id, filter }),\n      Radio.request('entities', 'fetch:flows:collection:byPatient', { patientId: patient.id, filter }),\n    ];\n  },\n\n  onStart({ patient }, actions, flows) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n\n    this.showChildView('content', new ListView({ collection: this.collection }));\n\n    const addworkflow = this.startChildApp('addWorkflow', {\n      region: this.getRegion('addWorkflow'),\n      patient,\n    });\n\n    this.listenTo(addworkflow, {\n      'add:newAction': this.onAddNewAction,\n      'add:programAction': this.onAddProgramAction,\n      'add:programFlow': this.onAddProgramFlow,\n    });\n  },\n\n  onAddNewAction() {\n    Radio.trigger('event-router', 'patient:action:new', this.patient.id);\n  },\n\n  onAddProgramAction(programAction) {\n    const action = programAction.getAction({ patientId: this.patient.id });\n    action.saveAll().then(() => {\n      this.collection.unshift(action);\n\n      Radio.trigger('event-router', 'patient:action', this.patient.id, action.id);\n    });\n  },\n\n  onAddProgramFlow(programFlow) {\n    const flow = programFlow.getFlow(this.patient.id);\n\n    flow.saveAll().then(() => {\n      Radio.trigger('event-router', 'flow', flow.id);\n    });\n\n    return;\n  },\n\n  onEditAction(action) {\n    if (action.isNew()) {\n      this.collection.unshift(action);\n      return;\n    }\n    action.trigger('editing', true);\n  },\n});\n","import anime from 'animejs';\n\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport { alphaSort } from 'js/utils/sorting';\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\n\nimport '../patient.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient__empty-list\">\n      <h2>{{ @intl.patients.patient.archive.archiveViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n});\n\nconst DoneBehavior = Behavior.extend({\n  modelEvents: {\n    'change:_state': 'onChangeState',\n  },\n  onChangeState() {\n    if (!this.view.model.isDone()) {\n      anime({\n        targets: this.el,\n        delay: 300,\n        duration: 500,\n        opacity: [1, 0],\n        easing: 'easeOutQuad',\n        complete: () => {\n          this.view.triggerMethod('change:visible');\n        },\n      });\n      return;\n    }\n\n    this.$el.css({\n      opacity: 1,\n    });\n\n    this.view.triggerMethod('change:visible');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n      hasAttachments: this.model.hasAttachments(),\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showForm();\n  },\n  showState() {\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled: true },\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const dueDayComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled: true },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.showChildView('dueDay', dueDayComponent);\n  },\n  showDueTime() {\n    const dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true,\n      state: { isDisabled: true },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n  },\n  showState() {\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled: true },\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  childViewEvents: {\n    'change:visible': 'filter',\n  },\n  className: 'table-list patient__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator({ model: modelA }, { model: modelB }) {\n    return alphaSort('desc', modelA.get('updated_at'), modelB.get('updated_at'));\n  },\n  viewFilter({ model }) {\n    return model.type === 'patient-events' || model.isDone();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region patient__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  template: hbs`\n    <div>\n      <button class=\"patient__tab js-dashboard\">\n        {{~ @intl.patients.patient.archive.archiveViews.dashboardBtn ~}}\n      </button>\n      <span class=\"patient__tab--selected\">\n        {{~ @intl.patients.patient.archive.archiveViews.archiveBtn ~}}\n      </span>\n    </div>\n    <div data-content-region></div>\n  `,\n  triggers: {\n    'click .js-dashboard': 'click:dashboard',\n  },\n  onClickDashboard() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.id);\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, ListView } from 'js/views/patients/patient/archive/archive_views';\n\nexport default App.extend({\n  onBeforeStart({ patient }) {\n    this.showView(new LayoutView({ model: patient }));\n    this.getRegion('content').startPreloader();\n  },\n  beforeStart({ patient }) {\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    const states = currentWorkspace.getStates();\n    const filter = { state: states.groupByDone().done.getFilterIds() };\n\n    return [\n      Radio.request('entities', 'fetch:actions:collection:byPatient', { patientId: patient.id, filter }),\n      Radio.request('entities', 'fetch:flows:collection:byPatient', { patientId: patient.id, filter }),\n    ];\n  },\n  onStart({ patient }, actions, flows) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n    this.showChildView('content', new ListView({ collection: this.collection }));\n  },\n  onEditAction(action) {\n    action.trigger('editing', true);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './patient.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'patient__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back patient__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.patients.patient.patientViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}{{ first_name }} {{ last_name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  modelEvents: {\n    'change:first_name change:last_name': 'render',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'patient__frame',\n  template: hbs`\n    <div class=\"patient__layout\">\n        <div data-context-trail-region></div>\n        <div data-content-region></div>\n    </div>\n    <div class=\"patient__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    sidebar: '[data-sidebar-region]',\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  onRender() {\n    this.showChildView('contextTrail', new ContextTrailView({ model: this.model }));\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import { partial } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport DashboardApp from 'js/apps/patients/patient/dashboard/dashboard_app';\nimport ArchiveApp from 'js/apps/patients/patient/archive/archive_app';\nimport ActionApp from 'js/apps/patients/patient/action/action_app';\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\n\nimport { LayoutView } from 'js/views/patients/patient/patient_views';\n\nexport default SubRouterApp.extend({\n  eventRoutes() {\n    return {\n      'patient:dashboard': partial(this.startCurrent, 'dashboard'),\n      'patient:archive': partial(this.startCurrent, 'archive'),\n      'patient:action': this.startPatientAction,\n      'patient:action:new': this.startPatientAction,\n    };\n  },\n\n  childApps: {\n    dashboard: DashboardApp,\n    archive: ArchiveApp,\n    action: ActionApp,\n    patient: PatientSidebarApp,\n  },\n\n  currentAppOptions() {\n    return {\n      region: this.getRegion('content'),\n      patient: this.getOption('patient'),\n    };\n  },\n\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n  },\n\n  beforeStart({ patientId }) {\n    return Radio.request('entities', 'fetch:patients:model', patientId);\n  },\n\n  onStart({ currentRoute }, patient) {\n    this.patient = patient;\n\n    this.setView(new LayoutView({ model: patient }));\n\n    this.showSidebar();\n\n    this.startRoute(currentRoute);\n\n    this.showView();\n  },\n\n  startPatientAction(patientId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.editActionList(action);\n      },\n      'fail'() {\n        this.startCurrent('dashboard');\n      },\n    });\n\n    this.startChildApp('action', { actionId, patientId });\n  },\n\n  startActionList(action) {\n    if (action.isDone()) return this.startCurrent('archive');\n\n    return this.startCurrent('dashboard');\n  },\n\n  // Triggers event on started action list for marking the edited action\n  editActionList(action) {\n    const currentActionList = this.getCurrent() || this.startActionList(action);\n\n    if (!currentActionList.isRunning()) {\n      this.listenToOnce(currentActionList, 'start', () => {\n        currentActionList.triggerMethod('edit:action', action);\n      });\n      return;\n    }\n\n    currentActionList.triggerMethod('edit:action', action);\n  },\n\n  showSidebar() {\n    this.startChildApp('patient', {\n      region: this.getRegion('sidebar'),\n      patient: this.patient,\n    });\n  },\n});\n","import { clone, extend, keys, omit, reduce, each, filter, contains, sortBy } from 'underscore';\nimport dayjs from 'dayjs';\nimport store from 'store';\nimport { NIL as NIL_UUID } from 'uuid';\n\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst STATE_VERSION = 'v4';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\n\nexport default Backbone.Model.extend({\n  defaults() {\n    return {\n      actionsSortId: 'sortCreatedDesc',\n      flowsSortId: 'sortCreatedDesc',\n      actionsDateFilters: {\n        dateType: 'created_at',\n        selectedDate: null,\n        selectedMonth: null,\n        selectedWeek: null,\n        relativeDate: null,\n      },\n      flowsDateFilters: {\n        dateType: 'created_at',\n        selectedDate: null,\n        selectedMonth: null,\n        selectedWeek: null,\n        relativeDate: null,\n      },\n      isFiltering: false,\n      filters: {},\n      states: [],\n      clinicianId: this.currentClinician.id,\n      teamId: this.currentClinician.getTeam().id,\n      noOwner: false,\n      lastSelectedIndex: null,\n      selectedActions: {},\n      selectedFlows: {},\n      searchQuery: '',\n      listType: 'actions',\n    };\n  },\n  preinitialize() {\n    this.currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    this.states = this.currentWorkspace.getStates();\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n  },\n  initialize() {\n    this.on('change', this.onChange);\n  },\n  getStoreKey(id) {\n    return `${ id }_${ this.currentClinician.id }_${ this.currentWorkspace.id }-${ STATE_VERSION }`;\n  },\n  getStore(id) {\n    return store.get(this.getStoreKey(id));\n  },\n  onChange() {\n    store.set(this.getStoreKey(this.id), omit(this.attributes, 'searchQuery', 'isFiltering', 'lastSelectedIndex'));\n  },\n  setDateFilters(filters) {\n    return this.set(`${ this.getType() }DateFilters`, clone(filters));\n  },\n  getDateFilters() {\n    return clone(this.get(`${ this.getType() }DateFilters`));\n  },\n  getFilters() {\n    return clone(this.get('filters'));\n  },\n  getStatesFilters() {\n    return clone(this.get('states'));\n  },\n  getType() {\n    return this.get('listType');\n  },\n  isFlowType() {\n    return this.getType() === 'flows';\n  },\n  getSort() {\n    return this.get(`${ this.getType() }SortId`);\n  },\n  setSort(sortId) {\n    this.set(`${ this.getType() }SortId`, sortId);\n  },\n  formatDateRange(date, rangeType, dateFormat) {\n    return `${ dayjs(date).startOf(rangeType).format(dateFormat) },${ dayjs(date).endOf(rangeType).format(dateFormat) }`;\n  },\n  getEntityDateFilter() {\n    const { dateType, selectedDate, selectedMonth, selectedWeek, relativeDate } = this.getDateFilters();\n    const dateFormat = (dateType === 'due_date') ? 'YYYY-MM-DD' : '';\n\n    if (selectedDate) {\n      return {\n        [dateType]: this.formatDateRange(selectedDate, 'day', dateFormat),\n      };\n    }\n\n    if (selectedMonth) {\n      return {\n        [dateType]: this.formatDateRange(selectedMonth, 'month', dateFormat),\n      };\n    }\n\n    if (selectedWeek) {\n      return {\n        [dateType]: this.formatDateRange(selectedWeek, 'week', dateFormat),\n      };\n    }\n\n    const { prev, unit } = relativeRanges.get(relativeDate || 'thismonth').pick('prev', 'unit');\n    const relativeRange = dayjs().subtract(prev, unit);\n\n    return {\n      [dateType]: this.formatDateRange(relativeRange, unit, dateFormat),\n    };\n  },\n  isDoneOnly() {\n    return this.id === 'done-last-thirty-days';\n  },\n  getAvailableStates() {\n    const onlyDoneStates = this.states.groupByDone().done;\n\n    return this.isDoneOnly() ? onlyDoneStates : this.states;\n  },\n  getDefaultSelectedStates() {\n    const { done, notDone } = this.states.groupByDone();\n\n    const states = this.isDoneOnly() ? done : notDone;\n    return sortBy(states.map('id'));\n  },\n  setDefaultFilterStates() {\n    this.set({ filters: {}, states: this.getDefaultSelectedStates() });\n  },\n  getSelectedStates() {\n    const availableStateFilterIds = this.getAvailableStates().map('id');\n    const selectedStates = this.getStatesFilters();\n\n    return filter(selectedStates, id => contains(availableStateFilterIds, id)).join() || NIL_UUID;\n  },\n  getFiltersState() {\n    return {\n      filters: this.getFilters(),\n      states: this.getStatesFilters(),\n      defaultStates: this.getDefaultSelectedStates(),\n    };\n  },\n  getEntityFilter() {\n    const filtersState = this.getFilters();\n    const clinicianId = this.get('clinicianId');\n    const teamId = this.get('teamId');\n    const noOwner = this.get('noOwner');\n    const selectedStates = this.getSelectedStates();\n    const dateFilter = this.getEntityDateFilter();\n\n    const filters = {\n      'owned-by': dateFilter,\n      'shared-by': dateFilter,\n      'new-past-day': {\n        created_at: dayjs().subtract(24, 'hours').format(),\n      },\n      'updated-past-three-days': {\n        updated_at: dayjs().startOf('day').subtract(3, 'days').format(),\n      },\n      'done-last-thirty-days': {\n        updated_at: dayjs().startOf('day').subtract(30, 'days').format(),\n      },\n    };\n\n    filters[this.id].state = selectedStates;\n\n    if (this.id === 'shared-by' || !clinicianId) {\n      const currentClinician = Radio.request('bootstrap', 'currentUser');\n      const canViewAssignedActions = currentClinician.can('app:worklist:clinician_filter');\n      filters[this.id].team = teamId;\n\n      if (noOwner || !canViewAssignedActions) {\n        filters[this.id].clinician = NIL_UUID;\n      }\n    } else {\n      filters[this.id].clinician = clinicianId;\n    }\n\n    each(filtersState, (selected, slug) => {\n      if (selected === null) return;\n\n      filters[this.id][`@${ slug }`] = selected;\n    });\n\n    return filters[this.id];\n  },\n  getSelectedList() {\n    return this.isFlowType() ? this.get('selectedFlows') : this.get('selectedActions');\n  },\n  toggleSelected(model, isSelected, selectedIndex) {\n    const listName = this.isFlowType() ? 'selectedFlows' : 'selectedActions';\n    const currentList = clone(this.get(listName));\n\n    const newList = extend(currentList, {\n      [model.id]: isSelected,\n    });\n\n    this.set({\n      [listName]: newList,\n      lastSelectedIndex: isSelected ? selectedIndex : null,\n    });\n  },\n  isSelected(model) {\n    const list = this.getSelectedList();\n\n    return !!list[model.id];\n  },\n  getSelected(collection) {\n    const list = this.getSelectedList();\n    const collectionSelected = reduce(keys(list), (selected, item) => {\n      if (list[item] && collection.get(item)) {\n        selected.push({\n          id: item,\n        });\n      }\n\n      return selected;\n    }, []);\n\n    return Radio.request('entities', `${ this.getType() }:collection`, collectionSelected);\n  },\n  clearSelected() {\n    const listName = this.isFlowType() ? 'selectedFlows' : 'selectedActions';\n\n    this.set({\n      [listName]: {},\n      lastSelectedIndex: null,\n    });\n\n    this.trigger('select:none');\n  },\n  selectMultiple(selectedIds, newLastSelectedIndex = null) {\n    const listName = this.isFlowType() ? 'selectedFlows' : 'selectedActions';\n\n    const currentSelectedList = this.get(listName);\n\n    const newSelectedList = selectedIds.reduce((selected, id) => {\n      selected[id] = true;\n      return selected;\n    }, clone(currentSelectedList));\n\n    this.set({\n      [listName]: newSelectedList,\n      lastSelectedIndex: newLastSelectedIndex,\n    });\n\n    this.trigger('select:multiple');\n  },\n});\n","import { map } from 'underscore';\n\nimport words from 'js/utils/formatting/words';\n\nexport default query => {\n  const searchWords = map(words(query), RegExp.escape);\n\n  return map(searchWords, function(word) {\n    return new RegExp(`\\\\b${ word }`, 'i');\n  });\n};\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/table-list.scss';\n\nimport { CheckComponent, StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton, DetailsTooltip } from 'js/views/patients/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\n\nimport './worklist-list.scss';\n\nconst ActionTooltipTemplate = hbs`{{formatMessage (intlGet \"patients.worklist.actionViews.actionListTooltips\") title=worklistId team=team}}`;\n\nconst ActionEmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.worklist.actionViews.actionEmptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item work-list__item',\n  tagName: 'tr',\n  template: ActionItemTemplate,\n  regions: {\n    check: '[data-check-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n    details: '[data-details-region]',\n  },\n  templateContext() {\n    return {\n      flowName: this.flow && this.flow.get('name'),\n      patient: this.model.getPatient().attributes,\n      owner: this.model.getOwner().get('name'),\n      state: this.model.getState().get('name'),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n      hasAttachments: this.model.hasAttachments(),\n    };\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.flow = this.model.getFlow();\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-patient-sidebar-button': 'click:patientSidebarButton',\n    'click .js-patient': 'click:patient',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    if (this.flow) {\n      Radio.trigger('event-router', 'flow:action', this.flow.id, this.model.id);\n      return;\n    }\n\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.get('_patient'));\n  },\n  onRender() {\n    this.showCheck();\n    this.showState();\n    this.showOwner();\n    this.showDueDate();\n    this.showDueTime();\n    this.showForm();\n    this.showDetailsTooltip();\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  showState() {\n    this.stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(this.stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', this.stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    this.ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(this.ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', this.ownerComponent);\n  },\n  showDueDate() {\n    const isDisabled = this.model.isDone();\n    this.dueDateComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueDateComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDate', this.dueDateComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.model.isDone() || !this.model.get('due_date');\n    this.dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true,\n      state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', this.dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n  showDetailsTooltip() {\n    if (!this.model.get('details')) return;\n\n    this.showChildView('details', new DetailsTooltip({ model: this.model }));\n  },\n});\n\nexport {\n  ActionTooltipTemplate,\n  ActionEmptyView,\n  ActionItemView,\n};\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/table-list.scss';\nimport 'scss/modules/progress-bar.scss';\n\nimport { CheckComponent, FlowStateComponent, OwnerComponent } from 'js/views/patients/shared/flows_views';\n\nimport FlowItemTemplate from './flow-item.hbs';\n\nimport 'scss/domain/action-state.scss';\nimport './worklist-list.scss';\n\nconst FlowTooltipTemplate = hbs`{{formatMessage (intlGet \"patients.worklist.flowViews.flowListTooltips\") title=worklistId team=team}}`;\n\nconst FlowEmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.worklist.flowViews.flowEmptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ReadOnlyFlowStateView = View.extend({\n  tagName: 'span',\n  className: 'worklist-list__flow-status',\n  template: hbs`<span class=\"action--{{ stateOptions.color }}\">{{fa stateOptions.iconType stateOptions.icon}}</span>{{~ remove_whitespace ~}}`,\n  templateContext() {\n    const stateOptions = this.model.getState().get('options');\n\n    return {\n      stateOptions,\n    };\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item work-list__item',\n  tagName: 'tr',\n  template: FlowItemTemplate,\n  regions: {\n    check: '[data-check-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  templateContext() {\n    return {\n      patient: this.model.getPatient().attributes,\n      owner: this.model.getOwner().get('name'),\n      state: this.model.getState().get('name'),\n    };\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-patient-sidebar-button': 'click:patientSidebarButton',\n    'click .js-patient': 'click:patient',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.get('_patient'));\n  },\n  onRender() {\n    this.showCheck();\n    this.showState();\n    this.showOwner();\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  showState() {\n    if (!this.model.isDone()) {\n      const readOnlyStateView = new ReadOnlyFlowStateView({ model: this.model });\n      this.showChildView('state', readOnlyStateView);\n      return;\n    }\n\n    const stateComponent = new FlowStateComponent({\n      stateId: this.model.get('_state'),\n      isCompact: true,\n    });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    this.ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(this.ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', this.ownerComponent);\n  },\n});\n\nexport {\n  FlowTooltipTemplate,\n  FlowEmptyView,\n  FlowItemView,\n};\n","import { every } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport intl, { renderTemplate } from 'js/i18n';\nimport underscored from 'js/utils/formatting/underscored';\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport Droplist from 'js/components/droplist';\nimport Tooltip from 'js/components/tooltip';\n\nimport { ActionTooltipTemplate, ActionEmptyView, ActionItemView } from './action_views';\nimport { FlowTooltipTemplate, FlowEmptyView, FlowItemView } from './flow_views';\nimport LayoutTemplate from './layout.hbs';\nimport TableHeaderTemplate from './table-header.hbs';\n\nimport './worklist-list.scss';\n\nconst i18n = intl.patients.worklist.worklistViews;\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: LayoutTemplate,\n  regions: {\n    dateFilter: '[data-date-filter-region]',\n    filters: '[data-filters-region]',\n    toggle: '[data-toggle-region]',\n    sort: '[data-sort-region]',\n    table: '[data-table-region]',\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    selectAll: '[data-select-all-region]',\n    title: {\n      el: '[data-title-region]',\n      replaceElement: true,\n    },\n    search: '[data-search-region]',\n  },\n  childViewEvents: {\n    'update:listDom': 'fixWidth',\n  },\n  triggers: {\n    'click @ui.select': 'click:select',\n  },\n  ui: {\n    listHeader: '.js-list-header',\n    list: '.js-list',\n    select: '.js-select',\n  },\n  initialize() {\n    const userActivityCh = Radio.channel('user-activity');\n    this.listenTo(userActivityCh, 'window:resize', this.fixWidth);\n  },\n  fixWidth() {\n    /* istanbul ignore if */\n    if (!this.isRendered()) return;\n\n    const headerWidth = this.ui.listHeader.width();\n    const listWidth = this.ui.list.contents().width();\n    const listPadding = parseInt(this.ui.list.css('paddingRight'), 10);\n    const scrollbarWidth = headerWidth - listWidth;\n\n    this.ui.list.css({ paddingRight: `${ listPadding - scrollbarWidth }px` });\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nconst TypeToggleView = View.extend({\n  template: hbs`\n    <button class=\"{{#unless isFlowList}}button--blue{{/unless}} button-filter button__group js-toggle-actions\">{{far \"file-lines\"}}<span>{{ @intl.patients.worklist.worklistViews.typeToggleView.actionsButton }}</span></button>{{~ remove_whitespace ~}}\n    <button class=\"{{#if isFlowList}}button--blue{{/if}} button-filter button__group js-toggle-flows\">{{fas \"folder\"}}<span>{{ @intl.patients.worklist.worklistViews.typeToggleView.flowsButton }}</span></button>\n  `,\n  templateContext() {\n    return {\n      isFlowList: this.getOption('isFlowList'),\n    };\n  },\n  triggers: {\n    'click .js-toggle-actions': 'click:toggleActions',\n    'click .js-toggle-flows': 'click:toggleFlows',\n  },\n  ui: {\n    buttons: 'button',\n  },\n  onClickToggleActions() {\n    this.triggerMethod('toggle:listType', 'actions');\n  },\n  onClickToggleFlows() {\n    this.triggerMethod('toggle:listType', 'flows');\n  },\n});\n\nconst NoOwnerToggleView = View.extend({\n  template: hbs`\n    <button class=\"button-filter-toggle {{#if noOwner}}button--blue{{/if}}\">\n      {{ @intl.patients.worklist.worklistViews.noOwnerToggleView.noOwner }}{{#if noOwner}}{{far \"xmark\"}}{{/if}}\n    </button>\n  `,\n  modelEvents: {\n    'change:noOwner': 'render',\n  },\n  triggers: {\n    click: 'click',\n  },\n});\n\nconst worklistIcons = {\n  'owned-by': ['list'],\n  'shared-by': ['arrow-right-arrow-left'],\n  'new-past-day': ['angle-left', '1'],\n  'updated-past-three-days': ['angle-left', '3'],\n  'done-last-thirty-days': ['3', '0'],\n};\n\nconst ListTitleView = View.extend({\n  regions: {\n    owner: '[data-owner-filter-region]',\n    ownerToggle: '[data-owner-toggle-region]',\n  },\n  className: 'flex list-page__title-filter',\n  template: hbs`\n    <span class=\"list-page__title-icon\">\n      {{#each icons}}\n        {{far this}}\n      {{/each}}\n    </span>\n    {{#if showOwnerDroplist}}\n      <div class=\"u-text--nowrap\">\n        {{formatMessage (intlGet \"patients.worklist.worklistViews.listTitleView.listLabels\") title=worklistId}}\n      </div>\n      <div data-owner-filter-region></div>\n    {{else}}\n      {{formatMessage (intlGet \"patients.worklist.worklistViews.listTitleView.listTitles\") title=worklistId team=team owner=owner}}\n    {{/if}}\n    <span class=\"list-page__header-icon js-title-info\">{{far \"circle-info\"}}</span>\n    <div class=\"u-margin--l-24\" data-owner-toggle-region></div>\n  `,\n  ui: {\n    tooltip: '.js-title-info',\n  },\n  templateContext() {\n    const worklistId = this.getOption('worklistId');\n\n    return {\n      team: this.getOption('team').get('name'),\n      owner: this.getOption('owner').get('name'),\n      worklistId: underscored(worklistId),\n      isFlowList: this.getOption('isFlowList'),\n      showOwnerDroplist: this.getOption('showOwnerDroplist'),\n      icons: worklistIcons[worklistId],\n    };\n  },\n  onRender() {\n    const tooltipTemplate = this.getOption('isFlowList') ? FlowTooltipTemplate : ActionTooltipTemplate;\n    new Tooltip({\n      message: renderTemplate(tooltipTemplate, this.templateContext()),\n      uiView: this,\n      ui: this.ui.tooltip,\n      orientation: 'vertical',\n    });\n  },\n});\n\nconst AllFiltersButtonView = View.extend({\n  tagName: 'button',\n  className: 'button--link-large',\n  template: hbs`{{far \"sliders\"}}<span>{{ @intl.patients.worklist.worklistViews.allFiltersButtonView.allFiltersButton }}</span> {{#if filtersCount}}({{filtersCount}}){{/if}}`,\n  triggers: {\n    'click': 'click',\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  templateContext() {\n    return {\n      filtersCount: this.model.getFiltersCount(),\n    };\n  },\n});\n\nconst TableHeaderView = View.extend({\n  template: TableHeaderTemplate,\n  tagName: 'tr',\n  templateContext() {\n    return {\n      isFlowList: this.getOption('isFlowList'),\n    };\n  },\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.worklist.worklistViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list',\n  tagName: 'table',\n  childView() {\n    return this.isFlowList ? FlowItemView : ActionItemView;\n  },\n  emptyView() {\n    if (this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return this.isFlowList ? FlowEmptyView : ActionEmptyView;\n  },\n  childViewOptions() {\n    return {\n      state: this.state,\n    };\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n    'click:patientSidebarButton': 'click:patientSidebarButton',\n    'select': 'select',\n  },\n  onListItemRender(view) {\n    view.searchString = view.$el.text();\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.isFlowList = state.isFlowType();\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  onAttach() {\n    this.triggerMethod('update:listDom', this);\n  },\n  /* istanbul ignore next: future proof */\n  onRenderChildren() {\n    if (!this.isAttached()) return;\n    this.triggerMethod('update:listDom', this);\n    this.triggerMethod('filtered', this.children.map('model'));\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    const isSelected = this.state.isSelected(selectedView.model);\n    const selectedIndex = this.children.findIndexByView(selectedView);\n    const lastSelectedIndex = this.state.get('lastSelectedIndex');\n\n    if (isShiftKeyPressed && lastSelectedIndex !== null && !isSelected) {\n      this.handleClickShiftMultiSelect(selectedIndex, lastSelectedIndex);\n      return;\n    }\n\n    this.state.toggleSelected(selectedView.model, !isSelected, selectedIndex);\n  },\n  handleClickShiftMultiSelect(selectedIndex, lastSelectedIndex) {\n    const minIndex = Math.min(selectedIndex, lastSelectedIndex);\n    const maxIndex = Math.max(selectedIndex, lastSelectedIndex);\n\n    const selectedIds = this.children.map(view => view.model.id).slice(minIndex, maxIndex + 1);\n\n    this.state.selectMultiple(selectedIds, selectedIndex);\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nconst SortDroplist = Droplist.extend({\n  align: 'right',\n  popWidth: 248,\n  picklistOptions: {\n    headingText: i18n.sortDroplist.headingText,\n  },\n  viewOptions: {\n    className: 'button-filter',\n    template: hbs`{{far \"arrow-down-arrow-up\"}}{{text}}{{far \"angle-down\"}}`,\n  },\n});\n\nexport {\n  LayoutView,\n  ListTitleView,\n  AllFiltersButtonView,\n  SelectAllView,\n  ListView,\n  TableHeaderView,\n  SortDroplist,\n  TypeToggleView,\n  i18n,\n  NoOwnerToggleView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport StateModel from 'js/apps/patients/sidebar/filters_state';\n\nimport AllFiltersApp from 'js/apps/patients/sidebar/filters-sidebar_app';\n\nimport { AllFiltersButtonView } from 'js/views/patients/worklist/worklist_views';\n\nexport default App.extend({\n  StateModel,\n  childApps: {\n    allFilters: AllFiltersApp,\n  },\n  onBeforeStop() {\n    this.toggleFiltering(false);\n  },\n  onStart({ availableStates }) {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.canViewAssignedActions = currentClinician.can('app:worklist:clinician_filter');\n    this.availableStates = availableStates;\n\n    const allFiltersButtonView = this.showView(new AllFiltersButtonView({\n      model: this.getState(),\n    }));\n\n    this.listenTo(allFiltersButtonView, 'click', this.showFiltersSidebar);\n  },\n  toggleFiltering(isFiltering) {\n    this.isFiltering = isFiltering;\n    this.trigger('toggle:filtersSidebar', isFiltering);\n  },\n  showFiltersSidebar() {\n    if (this.isFiltering) return;\n\n    this.toggleFiltering(true);\n\n    const state = this.getState();\n\n    const sidebar = Radio.request('sidebar', 'start', 'filters', {\n      state: state.attributes,\n      availableStates: this.availableStates,\n    });\n\n    const filterState = sidebar.getState();\n\n    sidebar.listenTo(filterState, 'change', stateModel => {\n      state.set(filterState.attributes);\n    });\n\n    sidebar.listenTo(state, 'change', () => {\n      filterState.set(state.attributes);\n    });\n\n    this.listenTo(sidebar, 'stop', () => {\n      this.toggleFiltering(false);\n    });\n  },\n});\n","import { partial, pick } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { BulkEditFlowsBodyView, BulkEditFlowsHeaderView } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nconst StateModel = Backbone.Model.extend({\n  initialize({ collection }) {\n    const initModel = collection.at(0);\n    this.initBulkState(collection, initModel);\n    this.initBulkOwner(collection, initModel);\n  },\n  initBulkState(collection, initModel) {\n    const stateId = initModel.getState().id;\n    const stateMulti = collection.some(item => {\n      return item.getState().id !== stateId;\n    });\n\n    this.set({\n      stateMulti,\n      stateId: stateMulti ? null : stateId,\n    });\n  },\n  initBulkOwner(collection, initModel) {\n    const owner = initModel.getOwner();\n    const ownerMulti = collection.some(item => {\n      return item.getOwner().id !== owner.id;\n    });\n\n    this.set({\n      ownerMulti,\n      owner: ownerMulti ? null : owner,\n    });\n  },\n  setState(state) {\n    return this.set({ stateId: state.id, stateMulti: false, stateChanged: true });\n  },\n  setOwner(owner) {\n    return this.set({ owner, ownerMulti: false, ownerChanged: true });\n  },\n  getWorkspaces() {\n    return this.get('collection').getPatients().getSharedWorkspaces();\n  },\n  someComplete() {\n    return this.get('collection').some(item => {\n      return item.isDone();\n    });\n  },\n  getData() {\n    const {\n      stateChanged,\n      stateId,\n      ownerChanged,\n      owner,\n    } = this.attributes;\n\n    const saveData = {};\n\n    if (stateChanged) saveData._state = stateId;\n    if (ownerChanged) saveData._owner = pick(owner, 'id', 'type');\n\n    return saveData;\n  },\n});\n\nexport default App.extend({\n  StateModel,\n  onStart() {\n    const headerView = new BulkEditFlowsHeaderView({\n      collection: this.getState('collection'),\n    });\n    const bodyView = new BulkEditFlowsBodyView({\n      model: this.getState(),\n      collection: this.getState('collection'),\n    });\n\n    this.modal = Radio.request('modal', 'show:sidebar', {\n      headerView,\n      bodyView,\n      onSubmit: this.onSubmit.bind(this),\n    });\n\n    this.listenTo(headerView, {\n      'delete': partial(this.triggerMethod, 'delete'),\n    });\n\n    this.listenTo(this.modal, {\n      'destroy': this.stop,\n    });\n  },\n  onSubmit() {\n    this.modal.disableSubmit();\n    const applyOwner = !!this.getState('applyOwner');\n    if (applyOwner) {\n      this.triggerMethod('applyOwner', this.getState('owner'));\n    }\n    this.triggerMethod('save', this.getState().getData());\n  },\n  onStop() {\n    this.modal.destroy();\n  },\n});\n","import Backbone from 'backbone';\nimport { View, CollectionView } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\nimport dayjs from 'dayjs';\n\nimport Tooltip from 'js/components/tooltip';\nimport Picklist from 'js/components/picklist';\nimport './date-filter.scss';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\n\nconst TypeView = View.extend({\n  tagName: 'button',\n  className: 'button-filter button__group flex-grow',\n  template: hbs`{{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.dateTypes\") type=id }}`,\n  onRender() {\n    this.$el.toggleClass('button--blue', this.getOption('selected') === this.model.id);\n  },\n  triggers: {\n    'click': 'click',\n  },\n});\n\nconst FilterTypeView = CollectionView.extend({\n  modelEvents: {\n    'change:dateType': 'render',\n  },\n  className: 'flex',\n  childView: TypeView,\n  childViewTriggers: {\n    'click': 'click',\n  },\n  onClick({ model }) {\n    this.model.set('dateType', model.id);\n  },\n  childViewOptions() {\n    return {\n      selected: this.model.get('dateType'),\n    };\n  },\n});\n\nconst DateTemplate = hbs`{{formatDateTime selectedDate \"MM/DD/YYYY\"}}{{far \"angle-down\"}}`;\n\nconst MonthTemplate = hbs`{{formatDateTime selectedMonth \"MMM YYYY\"}}{{far \"angle-down\"}}`;\n\nconst WeekTemplate = hbs`{{formatDateTime selectedWeek \"MM/DD/YYYY\"}} - {{formatDateTime selectedEndWeek \"MM/DD/YYYY\"}}{{far \"angle-down\"}}`;\n\nconst RelativeTemplate = hbs`{{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.relativeDate\") relativeTo=relativeDate }}{{far \"angle-down\"}}`;\n\nconst DefaultTemplate = hbs`{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.defaultTemplate.thisMonth }}{{far \"angle-down\"}}`;\n\nconst ControllerView = View.extend({\n  template: hbs`\n    <button class=\"button-secondary--compact u-margin--r-8 js-prev\">{{far \"angle-left\"}}</button>{{~ remove_whitespace ~}}\n    <button class=\"button-filter js-date\">\n      {{far \"calendar-days\"}}{{~ remove_whitespace ~}}\n      {{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.dateTypes\") type=dateType }}{{~ remove_whitespace ~}}:\n      <span data-date-picker-label-region></span>\n    </button>{{~ remove_whitespace ~}}\n    <button class=\"button-secondary--compact u-margin--l-8 js-next\">{{far \"angle-right\"}}</button>\n  `,\n  regions: {\n    datepicker: {\n      el: '[data-date-picker-label-region]',\n      replaceElement: true,\n    },\n  },\n  ui: {\n    next: '.js-next',\n    prev: '.js-prev',\n    date: '.js-date',\n  },\n  triggers: {\n    'click @ui.prev': 'click:prev',\n    'click @ui.next': 'click:next',\n    'click @ui.date': 'click:date',\n  },\n  getLabelTemplate() {\n    if (this.model.get('selectedDate')) return DateTemplate;\n    if (this.model.get('selectedMonth')) return MonthTemplate;\n    if (this.model.get('selectedWeek')) return WeekTemplate;\n    if (this.model.get('relativeDate')) return RelativeTemplate;\n    return DefaultTemplate;\n  },\n  onRender() {\n    this.showChildView('datepicker', {\n      tagName: 'span',\n      model: this.model,\n      template: this.getLabelTemplate(),\n      templateContext() {\n        if (!this.model.get('selectedWeek')) return {};\n        return {\n          selectedEndWeek: this.model.dayjs('selectedWeek').endOf('week'),\n        };\n      },\n    });\n\n    this.getTooltips();\n  },\n  getTooltips() {\n    const tooltipMessages = this.getTooltipMessages();\n\n    new Tooltip({\n      message: tooltipMessages.prevMessage,\n      uiView: this,\n      ui: this.ui.prev,\n    });\n\n    new Tooltip({\n      message: tooltipMessages.nextMessage,\n      uiView: this,\n      ui: this.ui.next,\n    });\n  },\n  getTooltipMessages() {\n    if (this.model.get('selectedDate')) {\n      return this._getTooltipDayMessage(this.model.dayjs('selectedDate'));\n    }\n\n    if (this.model.get('selectedMonth')) {\n      return this._getTooltipMonthMessage(this.model.dayjs('selectedMonth'));\n    }\n\n    if (this.model.get('selectedWeek')) {\n      return this._getTooltipWeekMessage(this.model.dayjs('selectedWeek'));\n    }\n\n    const relativeDate = this.model.get('relativeDate');\n    const { prev, unit } = relativeRanges.get(relativeDate || 'thismonth').pick('prev', 'unit');\n    const relativeMessages = {\n      day: '_getTooltipDayMessage',\n      month: '_getTooltipMonthMessage',\n      week: '_getTooltipWeekMessage',\n    };\n\n    return this[relativeMessages[unit]].call(this, dayjs().subtract(prev, unit).startOf(unit));\n  },\n  _getTooltipDayMessage(ts) {\n    return {\n      prevMessage: dayjs(ts).subtract(1, 'day').format('MM/DD/YYYY'),\n      nextMessage: dayjs(ts).add(1, 'day').format('MM/DD/YYYY'),\n    };\n  },\n  _getTooltipMonthMessage(ts) {\n    return {\n      prevMessage: dayjs(ts).subtract(1, 'month').format('MMM YYYY'),\n      nextMessage: dayjs(ts).add(1, 'month').format('MMM YYYY'),\n    };\n  },\n  _getTooltipWeekMessage(ts) {\n    const prevWeek = dayjs(ts).subtract(1, 'week');\n    const nextWeek = dayjs(ts).add(1, 'week');\n    return {\n      prevMessage: `${ prevWeek.format('MM/DD/YYYY') } - ${ prevWeek.endOf('week').format('MM/DD/YYYY') }`,\n      nextMessage: `${ nextWeek.format('MM/DD/YYYY') } - ${ nextWeek.endOf('week').format('MM/DD/YYYY') }`,\n    };\n  },\n});\n\nconst ActionsView = View.extend({\n  template: hbs`\n    <button class=\"datepicker__button js-today\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.actionView.today }}</button>{{~ remove_whitespace ~}}\n    <button class=\"datepicker__button js-current-week\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.actionView.week }}</button>{{~ remove_whitespace ~}}\n    <button class=\"datepicker__button js-current-month\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.actionView.month }}</button>\n  `,\n  triggers: {\n    'click .js-current-week': 'click:currentWeek',\n    'click .js-today': 'click:today',\n    'click .js-current-month': 'click:currentMonth',\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'date-filter',\n  template: hbs`\n    <div class=\"date-filter__label\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.layoutView.dateLabel }}</div>\n    <div class=\"date-filter__toggle\" data-date-type-region></div>\n    <div data-component-region></div>\n  `,\n  regions: {\n    dateType: '[data-date-type-region]',\n    component: '[data-component-region]',\n  },\n});\n\nconst DateRanges = Picklist.extend({\n  className: 'date-filter__ranges',\n  itemTemplate: hbs`{{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.relativeDate\") relativeTo=id}}{{#if isSelected}}{{fas \"check\"}}{{/if}}`,\n  itemTemplateContext() {\n    return {\n      isSelected: this.model === this.state.get('selected'),\n    };\n  },\n  viewEvents: {\n    'picklist:item:select': 'onItemSelect',\n  },\n  onItemSelect({ model }) {\n    this.triggerMethod('select', model.id);\n  },\n});\n\nexport {\n  ActionsView,\n  ControllerView,\n  LayoutView,\n  FilterTypeView,\n  DateRanges,\n};\n","import Backbone from 'backbone';\nimport dayjs from 'dayjs';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\nconst relativeSets = {\n  day: 'setDate',\n  week: 'setWeek',\n  month: 'setMonth',\n};\n\nexport default Backbone.Model.extend({\n  setRelativeDate(relativeDate, dateType) {\n    this.set({\n      relativeDate,\n      selectedDate: null,\n      selectedWeek: null,\n      selectedMonth: null,\n      dateType: dateType,\n    });\n  },\n  setMonth(selectedMonth, dateType) {\n    this.set({\n      relativeDate: null,\n      selectedDate: null,\n      selectedWeek: null,\n      selectedMonth,\n      dateType: dateType || this.get('dateType'),\n    });\n  },\n  setWeek(selectedWeek, dateType) {\n    this.set({\n      relativeDate: null,\n      selectedDate: null,\n      selectedWeek,\n      selectedMonth: null,\n      dateType: dateType || this.get('dateType'),\n    });\n  },\n  setDate(selectedDate, dateType) {\n    this.set({\n      relativeDate: null,\n      selectedDate,\n      selectedWeek: null,\n      selectedMonth: null,\n      dateType: dateType || this.get('dateType'),\n    });\n  },\n  incrementBackward() {\n    if (this.dayjs('selectedDate')) {\n      this.setDate(this.dayjs('selectedDate').subtract(1, 'day'));\n      return;\n    }\n\n    if (this.dayjs('selectedMonth')) {\n      this.setMonth(this.dayjs('selectedMonth').subtract(1, 'month').startOf('month'));\n      return;\n    }\n\n    if (this.dayjs('selectedWeek')) {\n      this.setWeek(this.dayjs('selectedWeek').subtract(1, 'week').startOf('week'));\n      return;\n    }\n\n    const relativeDate = this.get('relativeDate') || /* istanbul ignore next: sensible default */ 'thismonth';\n    const { prev, unit } = relativeRanges.get(relativeDate).pick('prev', 'unit');\n    this[relativeSets[unit]].call(this, dayjs().subtract(prev + 1, unit).startOf(unit));\n  },\n  incrementForward() {\n    if (this.dayjs('selectedDate')) {\n      this.setDate(this.dayjs('selectedDate').add(1, 'day'));\n      return;\n    }\n\n    if (this.dayjs('selectedMonth')) {\n      this.setMonth(this.dayjs('selectedMonth').add(1, 'month').startOf('month'));\n      return;\n    }\n\n    if (this.dayjs('selectedWeek')) {\n      this.setWeek(this.dayjs('selectedWeek').add(1, 'week').startOf('week'));\n      return;\n    }\n\n    const relativeDate = this.get('relativeDate') || /* istanbul ignore next: sensible default */ 'thismonth';\n    const { prev, unit } = relativeRanges.get(relativeDate).pick('prev', 'unit');\n    this[relativeSets[unit]].call(this, dayjs().add(1 - prev, unit).startOf(unit));\n  },\n});\n","import { noop } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport collectionOf from 'js/utils/formatting/collection-of';\nimport Component from 'js/base/component';\nimport Datepicker from 'js/components/datepicker';\n\nimport { ControllerView, ActionsView, FilterTypeView, LayoutView, DateRanges } from './date-filter_views';\nimport StateModel from './date-filter_state';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection([...RELATIVE_DATE_RANGES, { id: 'calendar' }]);\n\nconst dateTypes = ['create_at', 'updated_at', 'due_date'];\n\nconst DateFilterPickerComponent = Datepicker.extend({\n  stateEvents: {\n    'change': 'show',\n    'change:selectedDate': 'onChangeStateSelectedDate',\n    'change:selectedMonth': 'onChangeStateSelectedMonth',\n  },\n  getActionsView() {\n    const actionsView = new ActionsView();\n\n    this.listenTo(actionsView, {\n      'click:today': this.onClickToday,\n      'click:currentWeek': this.onClickCurrentWeek,\n      'click:currentMonth': this.onClickCurrentMonth,\n    });\n\n    return actionsView;\n  },\n  onClickToday() {\n    this.triggerMethod('select:today');\n  },\n  onClickCurrentWeek() {\n    this.triggerMethod('select:currentWeek');\n  },\n  onClickCurrentMonth() {\n    this.triggerMethod('select:currentMonth');\n  },\n  onSelectToday: noop,\n  regionOptions: noop,\n});\n\nexport default Component.extend({\n  dateTypes,\n  StateModel,\n  stateEvents: {\n    'change': 'foo',\n  },\n  ViewClass: ControllerView,\n  viewOptions() {\n    return {\n      model: this.getState(),\n    };\n  },\n  viewEvents: {\n    'click:date'() {\n      this.showPop();\n    },\n    'click:prev'() {\n      this.getState().incrementBackward();\n    },\n    'click:next'() {\n      this.getState().incrementForward();\n    },\n  },\n  initialize() {\n    this.dateTypes = new Backbone.Collection(collectionOf(this.getOption('dateTypes'), 'id'));\n    this.dateTypeState = new Backbone.Model({ dateType: this.getState('dateType') });\n  },\n  showPop() {\n    const position = this.getView().getBounds(this.getView().$el);\n    this.popView = new LayoutView();\n\n    this.popView.listenTo(this, 'destroy', this.popView.destroy);\n    this.listenTo(this.popView, 'destroy', () => {\n      this.setState('dateType', this.dateTypeState.get('dateType'));\n    });\n\n    this.showRanges();\n    this.showDateTypes();\n\n    Radio.request('app', 'show:pop', this.popView, {\n      popWidth: 256,\n      ...position,\n    });\n  },\n  showDateTypes() {\n    this.popView.showChildView('dateType', new FilterTypeView({\n      collection: this.dateTypes,\n      model: this.dateTypeState,\n    }));\n  },\n  showRanges() {\n    const state = this.getState();\n    const { selectedDate, selectedMonth, selectedWeek, relativeDate } = state.pick('selectedDate', 'selectedMonth', 'selectedWeek', 'relativeDate');\n    const selectedRange = relativeRanges.get(relativeDate || (!selectedDate && !selectedMonth && !selectedWeek && 'thismonth'));\n\n    const dateRanges = new DateRanges({\n      lists: [{ collection: relativeRanges }],\n      state: { selected: selectedRange },\n    });\n\n    this.listenTo(dateRanges, 'select', selected => {\n      if (selected === 'calendar') {\n        this.showDatePicker();\n        return;\n      }\n      state.setRelativeDate(selected, this.dateTypeState.get('dateType'));\n    });\n\n    this.popView.showChildView('component', dateRanges);\n  },\n  showDatePicker() {\n    const state = this.getState();\n\n    const datePicker = new DateFilterPickerComponent({\n      state: state.pick('selectedDate', 'selectedMonth'),\n      canSelectMonth: true,\n    });\n\n    this.listenTo(datePicker, {\n      'select:currentWeek'() {\n        state.setRelativeDate('thisweek', this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'select:today'() {\n        state.setRelativeDate('today', this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'select:currentMonth'() {\n        state.setRelativeDate('thismonth', this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'change:selectedDate'(date) {\n        state.setDate(date, this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'change:selectedMonth'(month) {\n        state.setMonth(month, this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n    });\n\n    datePicker.showIn(this.popView.getRegion('component'));\n  },\n});\n","import { View } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/forms.scss';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\n\nimport './list-search-component.scss';\n\nconst InputTemplate = hbs`\n  <span class=\"list-search__search-icon\">{{far \"magnifying-glass\"}}</span>\n  <input class=\"list-search__input input-primary--small js-input w-100\" type=\"text\" {{#if isDisabled}}disabled{{/if}} placeholder=\"{{@intl.shared.components.listSearch.listSearchViews.placeholder}}\"/>\n  <span class=\"list-search__clear-icon js-clear is-hidden\">{{fas \"circle-xmark\"}}</span>\n`;\n\nconst SearchView = View.extend({\n  behaviors: {\n    InputWatcherBehavior,\n  },\n  className: 'list-search__container',\n  template: InputTemplate,\n  templateContext() {\n    return {\n      isDisabled: this.getOption('state').isDisabled,\n      query: this.getOption('state').query,\n    };\n  },\n  ui: {\n    input: '.js-input',\n    clear: '.js-clear',\n  },\n  triggers: {\n    'click @ui.clear': 'clear',\n  },\n  onWatchChange(text) {\n    this.ui.clear.toggleClass('is-hidden', !text.length);\n  },\n  onClear() {\n    this.ui.input.val('');\n    this.ui.clear.addClass('is-hidden');\n  },\n  onRender() {\n    this.$el.toggleClass('is-disabled', this.getOption('state').isDisabled);\n  },\n});\n\nexport {\n  SearchView,\n};\n","import Backbone from 'backbone';\n\nimport Component from 'js/base/component';\n\nimport { SearchView } from './list-search_views';\n\n\nconst StateModel = Backbone.Model.extend({\n  defaults: {\n    query: '',\n  },\n});\n\nexport default Component.extend({\n  StateModel,\n  ViewClass: SearchView,\n  viewEvents: {\n    'watch:change': 'onViewWatchChange',\n    'clear': 'onViewClear',\n  },\n  onViewClear() {\n    this.setState('query', '');\n  },\n  onViewWatchChange(query) {\n    this.setState('query', query);\n  },\n});\n","import { get, union, map, uniq, compact } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport { alphaSort, numSort } from 'js/utils/sorting';\nimport { i18n } from 'js/views/patients/worklist/worklist_views';\n\n// Casts values to String for alpha sort\nfunction getEntityFieldValue(entity, fieldName, keys) {\n  const patientField = entity.getPatient().getField(fieldName);\n  if (!patientField) return null;\n  return get(patientField.getValue(), keys);\n}\n\n// field_key may include a path for the model_attr.deeply_nested.value\nconst SortOption = Backbone.Model.extend({\n  defaults: {\n    direction: 'desc',\n    field_key: 'value',\n    entities: ['actions', 'flows'],\n  },\n  getComparator() {\n    const comparator = this.get('comparator');\n    if (comparator) return comparator.bind(this);\n\n    const fieldName = this.get('field_name');\n    const keys = this.get('field_key').split('.');\n    const direction = this.get('direction');\n    const sortType = this.get('sort_type');\n\n    return (a, b) => {\n      const aValue = getEntityFieldValue(a.model, fieldName, keys);\n      const bValue = getEntityFieldValue(b.model, fieldName, keys);\n\n      if (sortType === 'numeric') {\n        return numSort(direction, aValue, bValue);\n      }\n\n      return alphaSort(direction, aValue, bValue);\n    };\n  },\n});\n\nconst SortOptions = Backbone.Collection.extend({\n  model: SortOption,\n  getByType(entityType) {\n    const clone = this.clone();\n    const filtered = this.filter(option => option.get('entities').includes(entityType));\n    clone.reset(filtered);\n    return clone;\n  },\n  getInclude() {\n    const fieldNames = compact(this.map('field_name'));\n\n    return map(uniq(fieldNames), fieldName => {\n      return `patient.patient-fields.${ fieldName }`;\n    }).join(',');\n  },\n});\n\nconst patientNameComparator = function(a, b) {\n  return alphaSort(this.get('direction'), a.model.getPatient().getSortName(), b.model.getPatient().getSortName());\n};\n\nconst updatedAtComparator = function(a, b) {\n  return alphaSort(this.get('direction'), a.model.get('updated_at'), b.model.get('updated_at'));\n};\n\nconst createdAtComparator = function(a, b) {\n  return alphaSort(this.get('direction'), a.model.get('created_at'), b.model.get('created_at'));\n};\n\nconst defaultSortOptions = [\n  {\n    id: 'sortPatientAsc',\n    text: i18n.sortPatientOptions.asc,\n    direction: 'asc',\n    comparator: patientNameComparator,\n  },\n  {\n    id: 'sortPatientDesc',\n    text: i18n.sortPatientOptions.desc,\n    comparator: patientNameComparator,\n  },\n  {\n    id: 'sortDueAsc',\n    text: i18n.sortDueOptions.asc,\n    entities: ['actions'],\n    direction: 'asc',\n    comparator(a, b) {\n      const dueA = a.model.get('due_date');\n      const dueB = b.model.get('due_date');\n      if (dueA === dueB) {\n        return alphaSort(this.get('direction'), a.model.get('due_time'), b.model.get('due_time'), '24');\n      }\n      return alphaSort(this.get('direction'), dueA, dueB);\n    },\n  },\n  {\n    id: 'sortDueDesc',\n    text: i18n.sortDueOptions.desc,\n    entities: ['actions'],\n    comparator(a, b) {\n      const dueA = a.model.get('due_date');\n      const dueB = b.model.get('due_date');\n      if (dueA === dueB) {\n        return alphaSort(this.get('direction'), a.model.get('due_time'), b.model.get('due_time'));\n      }\n      return alphaSort(this.get('direction'), dueA, dueB);\n    },\n  },\n  {\n    id: 'sortUpdateAsc',\n    text: i18n.sortUpdateOptions.asc,\n    direction: 'asc',\n    comparator: updatedAtComparator,\n  },\n  {\n    id: 'sortUpdateDesc',\n    text: i18n.sortUpdateOptions.desc,\n    comparator: updatedAtComparator,\n  },\n  {\n    id: 'sortCreatedAsc',\n    text: i18n.sortCreatedOptions.asc,\n    direction: 'asc',\n    comparator: createdAtComparator,\n  },\n  {\n    id: 'sortCreatedDesc',\n    text: i18n.sortCreatedOptions.desc,\n    comparator: createdAtComparator,\n  },\n];\n\nfunction getSortOptions(listType) {\n  const customSort = Radio.request('bootstrap', 'setting', 'sorting');\n  const sortOpts = new SortOptions(union(defaultSortOptions, customSort));\n\n  return sortOpts.getByType(listType);\n}\n\nexport {\n  getSortOptions,\n};\n","import Radio from 'backbone.radio';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport App from 'js/base/app';\n\nimport StateModel from './worklist_state';\n\nimport FiltersApp from './filters_app';\nimport BulkEditActionsApp from 'js/apps/patients/sidebar/bulk-edit-actions_app';\nimport BulkEditFlowsApp from 'js/apps/patients/sidebar/bulk-edit-flows_app';\n\nimport DateFilterComponent from 'js/views/patients/shared/components/date-filter';\nimport SearchComponent from 'js/views/shared/components/list-search';\nimport OwnerDroplist from 'js/views/patients/shared/components/owner_component';\n\nimport { getSortOptions } from './worklist_sort';\n\nimport { ListView, SelectAllView, LayoutView, ListTitleView, TableHeaderView, SortDroplist, TypeToggleView, NoOwnerToggleView } from 'js/views/patients/worklist/worklist_views';\nimport { BulkEditButtonView, BulkEditFlowsSuccessTemplate, BulkEditActionsSuccessTemplate, BulkDeleteFlowsSuccessTemplate, BulkDeleteActionsSuccessTemplate } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nconst i18n = intl.patients.worklist.filtersApp;\n\nexport default App.extend({\n  StateModel,\n  childApps: {\n    filters: {\n      AppClass: FiltersApp,\n      regionName: 'filters',\n      restartWithParent: false,\n      getOptions: ['currentClinician'],\n    },\n    bulkEditActions: BulkEditActionsApp,\n    bulkEditFlows: BulkEditFlowsApp,\n  },\n  stateEvents: {\n    'change:listType change:clinicianId change:teamId change:noOwner change:filters change:states': 'restart',\n    'change:actionsDateFilters change:flowsDateFilters': 'restart',\n    'change:actionsSortId': 'onChangeStateSort',\n    'change:flowsSortId': 'onChangeStateSort',\n    'change:selectedFlows': 'onChangeSelected',\n    'change:selectedActions': 'onChangeSelected',\n  },\n  onChangeStateSort() {\n    this.getChildView('list').setComparator(this.getComparator());\n  },\n  onChangeSelected() {\n    this.toggleBulkSelect();\n  },\n  initListState() {\n    const storedState = this.getState().getStore(this.worklistId);\n\n    if (storedState) {\n      this.setState(storedState);\n      return;\n    }\n\n    this.setState({ id: this.worklistId });\n\n    this.getState().setDefaultFilterStates();\n  },\n  onBeforeStart({ worklistId }) {\n    const isFiltersSidebarOpen = this.getState('isFiltering');\n\n    if (this.isRestarting()) {\n      if (!isFiltersSidebarOpen) Radio.request('sidebar', 'close');\n      this.showListTitle();\n      this.showTypeToggleView();\n      this.showSortDroplist();\n      this.showTableHeaders();\n      this.showDateFilter();\n      this.getRegion('list').startPreloader();\n      return;\n    }\n\n    this.worklistId = worklistId;\n    this.initListState();\n\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.shouldShowClinician = this.getState().id !== 'shared-by';\n    this.shouldShowTeam = this.getState().id !== 'owned-by';\n    this.canViewAssignedActions = currentClinician.can('app:worklist:clinician_filter');\n\n    this.showView(new LayoutView({\n      worklistId: this.worklistId,\n      state: this.getState(),\n    }));\n\n    this.getRegion('list').startPreloader();\n    this.showDisabledSelectAll();\n    this.showSortDroplist();\n    this.showTableHeaders();\n    this.showListTitle();\n    this.showTypeToggleView();\n    this.showSearchView();\n    this.showDateFilter();\n    this.startFiltersApp();\n  },\n  beforeStart() {\n    return Radio.request('entities', `fetch:${ this.getState().getType() }:collection`, {\n      filter: this.getState().getEntityFilter(),\n      include: this.sortOptions.getInclude(),\n    });\n  },\n  onStart(options, collection) {\n    this.collection = collection;\n    this.filteredCollection = collection.clone();\n\n    const collectionView = new ListView({\n      collection: this.collection,\n      state: this.getState(),\n      viewComparator: this.getComparator(),\n    });\n\n    this.listenTo(collectionView, 'filtered', filtered => {\n      this.filteredCollection.reset(filtered);\n      this.toggleBulkSelect();\n    });\n\n    this.listenTo(collectionView, 'click:patientSidebarButton', ({ model }) => {\n      const patient = model.getPatient();\n      Radio.request('sidebar', 'start', 'patient', { patient });\n    });\n\n    this.showChildView('list', collectionView);\n\n    this.showSearchView();\n    this.toggleBulkSelect();\n  },\n  startFiltersApp() {\n    const state = this.getState();\n    const filtersApp = this.startChildApp('filters', {\n      state: state.getFiltersState(),\n      availableStates: state.getAvailableStates(),\n    });\n\n    const filtersState = filtersApp.getState();\n    this.listenTo(filtersState, 'change', () => {\n      this.setState(filtersState.getFiltersState());\n    });\n\n    this.listenTo(filtersApp, 'toggle:filtersSidebar', isSidebarOpen => {\n      this.setState('isFiltering', isSidebarOpen);\n    });\n  },\n  toggleBulkSelect() {\n    this.selected = this.getState().getSelected(this.filteredCollection);\n\n    this.showSelectAll();\n\n    if (this.selected.length) {\n      this.getChildApp('filters').stop();\n      this.showBulkEditButtonView();\n      return;\n    }\n\n    this.startFiltersApp();\n  },\n  onClickBulkCancel() {\n    this.getState().clearSelected();\n  },\n  onClickBulkEdit() {\n    const appName = this.getState().isFlowType() ? 'bulkEditFlows' : 'bulkEditActions';\n\n    const app = this.startChildApp(appName, {\n      state: { collection: this.selected },\n    });\n\n    this.listenTo(app, {\n      'applyOwner'(owner) {\n        this.selected.applyOwner(owner);\n      },\n      'save'(saveData) {\n        this.selected.save(saveData)\n          .then(() => {\n            this.showUpdateSuccess(this.selected.length);\n            app.stop();\n            this.getState().clearSelected();\n          })\n          .catch(() => {\n            Radio.request('alert', 'show:error', intl.patients.worklist.worklistApp.bulkEditFailure);\n            this.getState().clearSelected();\n            this.restart();\n          });\n      },\n      'delete'() {\n        const itemCount = this.selected.length;\n\n        this.selected.destroy().then(() => {\n          this.showDeleteSuccess(itemCount);\n          app.stop();\n          this.getState().clearSelected();\n        });\n      },\n    });\n  },\n  showDisabledSelectAll() {\n    this.showChildView('selectAll', new SelectAllView({ isDisabled: true }));\n  },\n  showSelectAll() {\n    if (!this.filteredCollection.length) {\n      this.showDisabledSelectAll();\n      return;\n    }\n    const isSelectAll = this.selected.length === this.filteredCollection.length;\n    const isSelectNone = !this.selected.length;\n    const selectAllView = new SelectAllView({\n      isSelectAll,\n      isSelectNone,\n    });\n\n    this.listenTo(selectAllView, 'click', this.onClickBulkSelect);\n\n    this.showChildView('selectAll', selectAllView);\n  },\n  onClickBulkSelect() {\n    if (this.selected.length === this.filteredCollection.length) {\n      this.getState().clearSelected();\n      return;\n    }\n\n    this.getState().selectMultiple(this.filteredCollection.map('id'));\n  },\n  getComparator() {\n    const sortId = this.getState().getSort();\n    return this.sortOptions.get(sortId).getComparator();\n  },\n  showDeleteSuccess(itemCount) {\n    if (this.getState().isFlowType()) {\n      Radio.request('alert', 'show:success', renderTemplate(BulkDeleteFlowsSuccessTemplate, { itemCount }));\n      return;\n    }\n\n    Radio.request('alert', 'show:success', renderTemplate(BulkDeleteActionsSuccessTemplate, { itemCount }));\n  },\n  showUpdateSuccess(itemCount) {\n    if (this.getState().isFlowType()) {\n      Radio.request('alert', 'show:success', renderTemplate(BulkEditFlowsSuccessTemplate, { itemCount }));\n      return;\n    }\n\n    Radio.request('alert', 'show:success', renderTemplate(BulkEditActionsSuccessTemplate, { itemCount }));\n  },\n  showDateFilter() {\n    if (this.getState().id !== 'shared-by' && this.getState().id !== 'owned-by') return;\n\n    const state = this.getState();\n    const dateTypes = state.isFlowType() ? ['created_at', 'updated_at'] : ['created_at', 'updated_at', 'due_date'];\n\n    const dateFilterComponent = new DateFilterComponent({\n      dateTypes,\n      state: state.getDateFilters(),\n      region: this.getRegion('dateFilter'),\n    });\n\n    this.listenTo(dateFilterComponent.getState(), {\n      'change'({ attributes }) {\n        state.setDateFilters(attributes);\n      },\n    });\n\n    dateFilterComponent.show();\n  },\n  showSortDroplist() {\n    this.sortOptions = getSortOptions(this.getState().getType());\n\n    const sortSelect = new SortDroplist({\n      collection: this.sortOptions,\n      state: { selected: this.sortOptions.get(this.getState().getSort()) },\n    });\n\n    this.listenTo(sortSelect.getState(), 'change:selected', (state, selected) => {\n      this.getState().setSort(selected.id);\n    });\n\n    this.showChildView('sort', sortSelect);\n  },\n  showTableHeaders() {\n    const tableHeadersView = new TableHeaderView({\n      isFlowList: this.getState().isFlowType(),\n    });\n\n    this.showChildView('table', tableHeadersView);\n  },\n  showListTitle() {\n    const owner = Radio.request('entities', 'clinicians:model', this.getState('clinicianId'));\n    const team = Radio.request('entities', 'teams:model', this.getState('teamId'));\n\n    const showOwnerDroplist = (this.shouldShowClinician && this.canViewAssignedActions) || this.shouldShowTeam;\n    const shouldShowOwnerToggle = this.getState().id === 'shared-by' && this.canViewAssignedActions;\n\n    const listTitleView = this.showChildView('title', new ListTitleView({\n      owner,\n      team,\n      worklistId: this.worklistId,\n      isFlowList: this.getState().isFlowType(),\n      showOwnerDroplist,\n    }));\n\n    if (showOwnerDroplist) this.showOwnerDroplist(listTitleView, owner, team);\n    if (shouldShowOwnerToggle) this.showOwnerToggle(listTitleView);\n  },\n  showOwnerDroplist(listTitleView, owner, team) {\n    const ownerDroplistView = new OwnerDroplist(this.getOwnerFilterOptions(owner, team));\n\n    this.listenTo(ownerDroplistView, {\n      'change:owner'({ id, type }) {\n        if (type === 'teams') {\n          this.setState({ teamId: id, clinicianId: null });\n        } else {\n          this.setState({ clinicianId: id, teamId: null });\n        }\n      },\n    });\n\n    listTitleView.showChildView('owner', ownerDroplistView);\n  },\n  showOwnerToggle(listTitleView) {\n    const ownerToggleView = new NoOwnerToggleView({\n      model: this.getState(),\n    });\n\n    this.listenTo(ownerToggleView, 'click', () => {\n      this.toggleState('noOwner');\n    });\n\n    listTitleView.showChildView('ownerToggle', ownerToggleView);\n  },\n  getOwnerFilterOptions(owner, team) {\n    const clinicianId = this.getState('clinicianId');\n\n    const options = {\n      owner: this.shouldShowClinician && clinicianId ? owner : team,\n      hasClinicians: this.shouldShowClinician && this.canViewAssignedActions,\n      isTitleFilter: true,\n      headingText: this.shouldShowClinician ? i18n.ownerFilterHeadingText : i18n.teamsFilterHeadingText,\n      hasTeams: this.shouldShowTeam,\n      hasCurrentClinician: this.shouldShowClinician,\n      align: 'right',\n    };\n\n    if (!this.shouldShowClinician) options.placeholderText = i18n.teamsFilterPlaceholderText;\n\n    return options;\n  },\n  showTypeToggleView() {\n    const typeToggleView = new TypeToggleView({\n      isFlowList: this.getState('listType') === 'flows',\n    });\n\n    this.listenTo(typeToggleView, 'toggle:listType', listType => {\n      this.setState({\n        listType: listType,\n        lastSelectedIndex: null,\n      });\n    });\n\n    this.showChildView('toggle', typeToggleView);\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.collection || !this.collection.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  showBulkEditButtonView() {\n    const bulkEditButtonView = this.showChildView('filters', new BulkEditButtonView({\n      isFlowType: this.getState().isFlowType(),\n      collection: this.selected,\n    }));\n\n    this.listenTo(bulkEditButtonView, {\n      'click:cancel': this.onClickBulkCancel,\n      'click:edit': this.onClickBulkEdit,\n    });\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n      lastSelectedIndex: null,\n    });\n  },\n});\n","import { clone, extend, keys, omit, reduce, each, filter, contains } from 'underscore';\nimport store from 'store';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\nimport { NIL as NIL_UUID } from 'uuid';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\n\nconst STATE_VERSION = 'v4';\n\nexport default Backbone.Model.extend({\n  defaults() {\n    return {\n      isFiltering: false,\n      filters: {},\n      states: [],\n      clinicianId: this.currentClinician.id,\n      dateFilters: {\n        dateType: 'due_date',\n        selectedDate: null,\n        selectedMonth: null,\n        selectedWeek: null,\n        relativeDate: null,\n      },\n      lastSelectedIndex: null,\n      selectedActions: {},\n      searchQuery: '',\n    };\n  },\n  preinitialize() {\n    this.currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    this.states = this.currentWorkspace.getStates();\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n  },\n  initialize() {\n    this.on('change', this.onChange);\n  },\n  getStoreKey() {\n    return `schedule_${ this.currentClinician.id }_${ this.currentWorkspace.id }-${ STATE_VERSION }`;\n  },\n  getStore() {\n    return store.get(this.getStoreKey());\n  },\n  onChange() {\n    store.set(this.getStoreKey(), omit(this.attributes, 'searchQuery', 'isFiltering', 'lastSelectedIndex'));\n  },\n  getFilters() {\n    return clone(this.get('filters'));\n  },\n  getStatesFilters() {\n    return clone(this.get('states'));\n  },\n  getAvailableStates() {\n    return this.states;\n  },\n  setDefaultFilterStates() {\n    this.set({ filters: {}, states: this.getDefaultSelectedStates() });\n  },\n  getDefaultSelectedStates() {\n    const notDoneStates = this.states.groupByDone().notDone;\n    return notDoneStates.map('id');\n  },\n  getSelectedStates() {\n    const availableStateFilterIds = this.getAvailableStates().map('id');\n    const selectedStates = this.getStatesFilters();\n\n    return filter(selectedStates, id => contains(availableStateFilterIds, id)).join() || NIL_UUID;\n  },\n  getFiltersState() {\n    return {\n      filters: this.getFilters(),\n      states: this.getStatesFilters(),\n      defaultStates: this.getDefaultSelectedStates(),\n    };\n  },\n  getDateFilters() {\n    return clone(this.get('dateFilters'));\n  },\n  getEntityDateFilter() {\n    const { selectedDate, selectedMonth, selectedWeek, relativeDate } = this.getDateFilters();\n\n    if (selectedDate) {\n      return {\n        due_date: this.formatDateRange(selectedDate, 'day'),\n      };\n    }\n\n    if (selectedMonth) {\n      return {\n        due_date: this.formatDateRange(selectedMonth, 'month'),\n      };\n    }\n\n    if (selectedWeek) {\n      return {\n        due_date: this.formatDateRange(selectedWeek, 'week'),\n      };\n    }\n\n    const { prev, unit } = relativeRanges.get(relativeDate || 'thismonth').pick('prev', 'unit');\n    const relativeRange = dayjs().subtract(prev, unit);\n\n    return {\n      due_date: this.formatDateRange(relativeRange, unit),\n    };\n  },\n  getEntityFilter() {\n    const filtersState = this.getFilters();\n    const clinicianId = this.get('clinicianId');\n    const selectedStates = this.getSelectedStates();\n\n    const dateFilter = this.getEntityDateFilter();\n\n    const filters = extend({\n      clinician: clinicianId,\n      state: selectedStates,\n    }, dateFilter);\n\n    each(filtersState, (selected, slug) => {\n      if (selected === null) return;\n\n      filters[`@${ slug }`] = selected;\n    });\n\n    return filters;\n  },\n  formatDateRange(date, rangeType) {\n    const dateFormat = 'YYYY-MM-DD';\n\n    return `${ dayjs(date).startOf(rangeType).format(dateFormat) },${ dayjs(date).endOf(rangeType).format(dateFormat) }`;\n  },\n  toggleSelected(model, isSelected, selectedIndex) {\n    const currentSelectedList = clone(this.get('selectedActions'));\n    const newSelectedList = extend(currentSelectedList, {\n      [model.id]: isSelected,\n    });\n\n    this.set({\n      selectedActions: newSelectedList,\n      lastSelectedIndex: isSelected ? selectedIndex : null,\n    });\n  },\n  isSelected(model) {\n    return !!this.get('selectedActions')[model.id];\n  },\n  getSelected(collection) {\n    const list = this.get('selectedActions');\n    const collectionSelected = reduce(keys(list), (selected, item) => {\n      if (list[item] && collection.get(item)) {\n        selected.push({\n          id: item,\n        });\n      }\n\n      return selected;\n    }, []);\n\n    return Radio.request('entities', 'actions:collection', collectionSelected);\n  },\n  clearSelected() {\n    this.set({\n      selectedActions: {},\n      lastSelectedIndex: null,\n    });\n\n    this.trigger('select:none');\n  },\n  selectMultiple(selectedIds, newLastSelectedIndex = null) {\n    const currentSelectedList = this.get('selectedActions');\n\n    const newSelectedList = selectedIds.reduce((selected, id) => {\n      selected[id] = true;\n      return selected;\n    }, clone(currentSelectedList));\n\n    this.set({\n      selectedActions: newSelectedList,\n      lastSelectedIndex: newLastSelectedIndex,\n    });\n\n    this.trigger('select:multiple');\n  },\n});\n","import { debounce, every } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView } from 'marionette';\nimport dayjs from 'dayjs';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { alphaSort } from 'js/utils/sorting';\nimport intl from 'js/i18n';\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport Tooltip from 'js/components/tooltip';\n\nimport { CheckComponent, DetailsTooltip } from 'js/views/patients/shared/actions_views';\n\nimport LayoutTemplate from './layout.hbs';\n\nimport './schedule-list.scss';\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: LayoutTemplate,\n  regions: {\n    filters: '[data-filters-region]',\n    table: '[data-table-region]',\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    selectAll: '[data-select-all-region]',\n    title: {\n      el: '[data-title-region]',\n      replaceElement: true,\n    },\n    dateFilter: '[data-date-filter-region]',\n    search: '[data-search-region]',\n  },\n});\n\nconst ScheduleTitleView = View.extend({\n  regions: {\n    owner: '[data-owner-filter-region]',\n  },\n  className: 'flex list-page__title-filter',\n  template: hbs`\n    <span class=\"list-page__title-icon\">{{far \"calendar-star\"}}</span>\n    {{#if showOwnerDroplist}}\n      <div class=\"u-text--nowrap\">\n        {{ @intl.patients.schedule.scheduleViews.scheduleTitleView.label }}\n      </div>\n      <div data-owner-filter-region></div>\n    {{else}}\n      {{formatMessage (intlGet \"patients.schedule.scheduleViews.scheduleTitleView.title\") owner=name}}\n    {{/if}}\n    <span class=\"list-page__header-icon js-title-info\">{{far \"circle-info\"}}</span>\n  `,\n  ui: {\n    tooltip: '.js-title-info',\n  },\n  templateContext() {\n    return {\n      showOwnerDroplist: this.getOption('showOwnerDroplist'),\n    };\n  },\n  onRender() {\n    new Tooltip({\n      message: intl.patients.schedule.scheduleViews.scheduleTitleView.tooltip,\n      uiView: this,\n      ui: this.ui.tooltip,\n      orientation: 'vertical',\n    });\n  },\n});\n\nconst AllFiltersButtonView = View.extend({\n  tagName: 'button',\n  className: 'button--link-large',\n  template: hbs`{{far \"sliders\"}}<span>{{ @intl.patients.schedule.scheduleViews.allFiltersButtonView.allFiltersButton }}</span> {{#if filtersCount}}({{filtersCount}}){{/if}}`,\n  triggers: {\n    'click': 'click',\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  templateContext() {\n    return {\n      filtersCount: this.model.getFiltersCount(),\n    };\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nconst TableHeaderView = View.extend({\n  template: hbs`\n    <td class=\"schedule-list__header schedule-list__header-due-date\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.dueDateHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-state-patient\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.patientHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-action\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.actionHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-form\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.formheader }}</td>\n  `,\n  tagName: 'tr',\n});\n\nconst DayItemView = View.extend({\n  tagName: 'tr',\n  className() {\n    const className = 'schedule-list__day-list-row';\n\n    if (this.getOption('state').get('isReduced')) return `${ className } is-reduced`;\n\n    return className;\n  },\n  template: hbs`\n    <td class=\"schedule-list__action-list-cell schedule-list__due-time {{#if isOverdue}}is-overdue{{/if}}\">\n      {{#unless isReduced}}<span class=\"u-margin--r-8\" data-check-region></span>{{/unless}}\n      {{#if due_time}}\n        {{formatDateTime due_time \"TIME\" inputFormat=\"HH:mm:ss\"}}&#8203;\n      {{else}}\n        <span class=\"schedule-list__no-time\">{{ @intl.patients.schedule.scheduleViews.dayItemView.noTime }}</span>&#8203;\n      {{/if}}\n    </td>\n    <td class=\"schedule-list__action-list-cell schedule-list__patient\">\n      <div class=\"schedule-list__patient-details\">\n        <span class=\"schedule-list__patient-sidebar-icon\">\n          <button class=\"js-patient-sidebar-button\">\n            {{far \"address-card\"}}\n          </button>\n        </span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"schedule-list__patient-name {{#if isReduced}}is-reduced{{else}}js-patient{{/if}}\">{{ patient.first_name }} {{ patient.last_name }}</span>&#8203;\n      </div>\n    </td>\n    <td class=\"schedule-list__action-list-cell\">\n      <div class=\"schedule-list__action-state-name\">\n        <span class=\"schedule-list__action-state action--{{ stateOptions.color }}\">{{fa stateOptions.iconType stateOptions.icon}}</span><span class=\"schedule-list__search-helper\">{{ state }}</span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"{{#unless isReduced}}js-action{{/unless}}\">{{ name }}</span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"schedule-list__search-helper\">{{ flow }}</span>&#8203;{{~ remove_whitespace ~}}\n      </div>\n    </td>\n    <td class=\"schedule-list__action-list-cell schedule-list__action-details\" data-details-region></td>\n    <td class=\"schedule-list__action-list-cell schedule-list__action-form\">\n      {{#if form}}<span class=\"js-form schedule-list__action-form-icon\">{{#if hasOutreach}}{{far \"share-from-square\"}}{{else}}{{far \"square-poll-horizontal\"}}{{/if}}</span>{{/if}}\n    </td>\n  `,\n  regions: {\n    check: '[data-check-region]',\n    details: '[data-details-region]',\n  },\n  templateContext() {\n    const state = this.model.getState();\n\n    return {\n      isOverdue: this.model.isOverdue(),\n      state: state.get('name'),\n      stateOptions: state.get('options'),\n      patient: this.model.getPatient().attributes,\n      form: this.model.getForm(),\n      flow: this.model.getFlow() && this.model.getFlow().get('name'),\n      hasOutreach: this.model.hasOutreach(),\n      isReduced: this.isReduced,\n    };\n  },\n  ui: {\n    'actionName': '.js-action',\n  },\n  triggers: {\n    'click .js-form': 'click:form',\n    'click .js-patient-sidebar-button': 'click:patientSidebarButton',\n    'click .js-patient': 'click:patient',\n    'click': 'click',\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.flow = this.model.getFlow();\n    this.isReduced = state.get('isReduced');\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n  },\n  onRender() {\n    this.showCheck();\n    this.showDetailsTooltip();\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    if (this.isReduced) return;\n\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  onClickPatientSidebarButton() {\n    const patient = this.model.getPatient();\n    Radio.request('sidebar', 'start', 'patient', { patient });\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.get('_patient'));\n  },\n  onClickForm() {\n    Radio.trigger('event-router', 'form:patientAction', this.model.id, this.model.getForm().id);\n  },\n  onClick() {\n    if (this.isReduced) return;\n\n    if (this.flow) {\n      Radio.trigger('event-router', 'flow:action', this.flow.id, this.model.id);\n      return;\n    }\n\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  showDetailsTooltip() {\n    if (!this.model.get('details')) return;\n\n    this.showChildView('details', new DetailsTooltip({ model: this.model }));\n  },\n});\n\nconst DayListView = CollectionView.extend({\n  childView: DayItemView,\n  childViewOptions() {\n    return {\n      state: this.state,\n    };\n  },\n  tagName: 'tr',\n  className: 'schedule-list__list-row',\n  template: hbs`\n    <td class=\"schedule-list__list-cell\">\n      <div class=\"schedule-list__row-header\">\n        <span class=\"schedule-list__date {{#if isToday}}is-today{{/if}}\">{{formatDateTime date \"D\"}}</span>\n        <span class=\"schedule-list__month-day\">{{formatDateTime date \"MMM, ddd\"}}</span>\n      </div>\n      <div class=\"schedule-list__day-list\">\n        <table class=\"schedule-list__day-list-table w-100\" data-actions-region></table>\n      </div>\n    </td>\n  `,\n  templateContext() {\n    const date = dayjs(this.model.get('date'));\n    const today = dayjs();\n\n    return {\n      isToday: date.isSame(today, 'day'),\n    };\n  },\n  childViewContainer: '[data-actions-region]',\n  viewComparator(viewA, viewB) {\n    // nullVal of 24 to ensure null due_time is last in list and due_time never exceeds 23:59:59\n    return alphaSort('asc', viewA.model.get('due_time'), viewB.model.get('due_time'), '24');\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n    'select': 'select',\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    this.triggerMethod('select:list:item', selectedView, isShiftKeyPressed);\n  },\n  onListItemRender(view) {\n    const date = dayjs(this.model.get('date'));\n    view.searchString = `${ date.format('D') } ${ date.format('MMM, ddd') } ${ view.$el.text() }`;\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.schedule.scheduleViews.emptyView.noScheduledActions }}</h2>\n    </td>\n  `,\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.schedule.scheduleViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ScheduleListView = CollectionView.extend({\n  tagName: 'table',\n  className: 'schedule-list__table',\n  childView: DayListView,\n  childViewOptions(model) {\n    if (!model) return;\n\n    return {\n      collection: model.get('actions'),\n      state: this.state,\n    };\n  },\n  childViewTriggers: {\n    'select:list:item': 'select',\n  },\n  childViewEvents: {\n    'render:children': 'onChildFilter',\n  },\n  emptyView() {\n    if (this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return EmptyView;\n  },\n  viewComparator(viewA, viewB) {\n    return alphaSort('asc', viewA.model.get('date'), viewB.model.get('date'));\n  },\n  viewFilter(view) {\n    if (this.state.get('searchQuery')) {\n      return !view.isEmpty();\n    }\n\n    // 'null' string is a key from groupBy\n    if (view.model.get('date') === 'null') {\n      return false;\n    }\n\n    return true;\n  },\n  initialize({ state, originalCollection }) {\n    this.state = state;\n    this.originalCollection = originalCollection;\n  },\n  onRenderChildren() {\n    this.setVisibleChildren();\n  },\n  onChildFilter: debounce(function() {\n    this.filter();\n  }, 10),\n  setVisibleChildren() {\n    const visibleActions = this.children.reduce((models, cv) => {\n      return models.concat(cv.children.pluck('model'));\n    }, []);\n    this.triggerMethod('filtered', visibleActions);\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    const isSelected = this.state.isSelected(selectedView.model);\n\n    const sortedCollection = this.getSortedCollection();\n    const indexOfSelectedAction = sortedCollection.findIndex(selectedView.model);\n\n    const lastSelectedIndex = this.state.get('lastSelectedIndex');\n\n    if (isShiftKeyPressed && lastSelectedIndex !== null && !isSelected) {\n      this.handleClickShiftMultiSelect(sortedCollection, indexOfSelectedAction, lastSelectedIndex);\n      return;\n    }\n\n    this.state.toggleSelected(selectedView.model, !isSelected, indexOfSelectedAction);\n  },\n  handleClickShiftMultiSelect(sortedArrayOfActions, indexOfSelectedAction, lastSelectedIndex) {\n    const minIndex = Math.min(indexOfSelectedAction, lastSelectedIndex);\n    const maxIndex = Math.max(indexOfSelectedAction, lastSelectedIndex);\n\n    const selectedIds = sortedArrayOfActions.map(action => action.id).slice(minIndex, maxIndex + 1);\n\n    this.state.selectMultiple(selectedIds, indexOfSelectedAction);\n  },\n  getSortedCollection() {\n    const sortedCollection = this.originalCollection;\n\n    sortedCollection.comparator = function(a, b) {\n      const dueDateA = a.get('due_date');\n      const dueDateB = b.get('due_date');\n\n      if (dueDateA === dueDateB) {\n        return alphaSort('asc', a.get('due_time'), b.get('due_time'), '24');\n      }\n\n      return alphaSort('asc', dueDateA, dueDateB);\n    };\n\n    return sortedCollection.sort();\n  },\n});\n\nexport {\n  LayoutView,\n  ScheduleTitleView,\n  AllFiltersButtonView,\n  TableHeaderView,\n  ScheduleListView,\n  SelectAllView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport StateModel from 'js/apps/patients/sidebar/filters_state';\nimport AllFiltersApp from 'js/apps/patients/sidebar/filters-sidebar_app';\n\nimport { AllFiltersButtonView } from 'js/views/patients/schedule/schedule_views';\n\nexport default App.extend({\n  StateModel,\n  childApps: {\n    allFilters: AllFiltersApp,\n  },\n  onBeforeStop() {\n    this.toggleFiltering(false);\n  },\n  onStart({ availableStates }) {\n    this.availableStates = availableStates;\n\n    const allFiltersButtonView = this.showView(new AllFiltersButtonView({\n      model: this.getState(),\n    }));\n\n    this.listenTo(allFiltersButtonView, 'click', this.showFiltersSidebar);\n  },\n  toggleFiltering(isFiltering) {\n    this.isFiltering = isFiltering;\n    this.trigger('toggle:filtersSidebar', isFiltering);\n  },\n  showFiltersSidebar() {\n    if (this.isFiltering) return;\n\n    this.toggleFiltering(true);\n\n    const state = this.getState();\n\n    const sidebar = Radio.request('sidebar', 'start', 'filters', {\n      state: state.attributes,\n      availableStates: this.availableStates,\n    });\n\n    const filterState = sidebar.getState();\n\n    sidebar.listenTo(filterState, 'change', stateModel => {\n      state.set(filterState.attributes);\n    });\n\n    sidebar.listenTo(state, 'change', () => {\n      filterState.set(state.attributes);\n    });\n\n    this.listenTo(sidebar, 'stop', () => {\n      this.toggleFiltering(false);\n    });\n  },\n});\n","import { clone } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport StateModel from './schedule_state';\n\nimport FiltersApp from './filters_app';\nimport BulkEditActionsApp from 'js/apps/patients/sidebar/bulk-edit-actions_app';\n\nimport DateFilterComponent from 'js/views/patients/shared/components/date-filter';\nimport SearchComponent from 'js/views/shared/components/list-search';\nimport OwnerDroplist from 'js/views/patients/shared/components/owner_component';\n\nimport { LayoutView, ScheduleTitleView, TableHeaderView, SelectAllView, ScheduleListView } from 'js/views/patients/schedule/schedule_views';\nimport { BulkEditButtonView, BulkEditActionsSuccessTemplate, BulkDeleteActionsSuccessTemplate } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nexport default App.extend({\n  StateModel,\n  childApps: {\n    filters: {\n      AppClass: FiltersApp,\n      regionName: 'filters',\n      restartWithParent: false,\n      getOptions: ['currentClinician'],\n    },\n    bulkEditActions: BulkEditActionsApp,\n  },\n  stateEvents: {\n    'change:filters change:clinicianId change:dateFilters change:states': 'restart',\n    'change:selectedActions': 'onChangeSelected',\n  },\n  initListState() {\n    const storedState = this.getState().getStore();\n\n    if (storedState) {\n      this.setState(storedState);\n\n      return;\n    }\n\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    this.setState({ id: `schedule_${ currentUser.id }` });\n\n    this.getState().setDefaultFilterStates();\n  },\n  onBeforeStart() {\n    if (this.isRestarting()) {\n      const isFiltersSidebarOpen = this.getState('isFiltering');\n\n      if (!isFiltersSidebarOpen) Radio.request('sidebar', 'close');\n      this.showScheduleTitle();\n      this.showDateFilter();\n      this.getRegion('list').startPreloader();\n      return;\n    }\n\n    this.initListState();\n\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.canViewAssignedActions = currentClinician.can('app:schedule:clinician_filter');\n\n    this.showView(new LayoutView({\n      state: this.getState(),\n    }));\n\n    this.getRegion('list').startPreloader();\n\n    this.showScheduleTitle();\n    this.showSearchView();\n    this.showDisabledSelectAll();\n    this.startFiltersApp();\n    this.showDateFilter();\n    this.showTableHeaders();\n  },\n  beforeStart() {\n    const filter = this.getState().getEntityFilter();\n    return Radio.request('entities', 'fetch:actions:collection', { filter });\n  },\n  onStart(options, collection) {\n    this.collection = collection;\n    this.filteredCollection = collection.clone();\n\n    this.showScheduleList();\n    this.showSearchView();\n    this.toggleBulkSelect();\n  },\n  onChangeSelected() {\n    this.toggleBulkSelect();\n  },\n  onClickBulkSelect() {\n    if (this.selected.length === this.filteredCollection.length) {\n      this.getState().clearSelected();\n      return;\n    }\n\n    this.getState().selectMultiple(this.filteredCollection.map('id'));\n  },\n  onClickBulkEdit() {\n    const app = this.startChildApp('bulkEditActions', {\n      state: { collection: this.selected },\n    });\n\n    this.listenTo(app, {\n      'save'(saveData) {\n        this.selected.save(saveData)\n          .then(() => {\n            Radio.request('alert', 'show:success', renderTemplate(BulkEditActionsSuccessTemplate, { itemCount: this.selected.length }));\n            app.stop();\n\n            if (saveData.due_date && this.selected.some(action => action.changed.due_date)) {\n              this.getState().clearSelected();\n              this.restart();\n              return;\n            }\n\n            this.getState().clearSelected();\n          })\n          .catch(() => {\n            Radio.request('alert', 'show:error', intl.patients.schedule.scheduleApp.bulkEditFailure);\n            this.getState().clearSelected();\n            this.restart();\n          });\n      },\n      'delete'() {\n        const itemCount = this.selected.length;\n        this.selected.destroy().then(() => {\n          Radio.request('alert', 'show:success', renderTemplate(BulkDeleteActionsSuccessTemplate, { itemCount }));\n          app.stop();\n          this.getState().clearSelected();\n          this.showScheduleList();\n        });\n      },\n    });\n  },\n  onClickBulkCancel() {\n    this.getState().clearSelected();\n  },\n  showScheduleList() {\n    const collectionView = new ScheduleListView({\n      collection: this.collection.groupByDate(),\n      state: this.getState(),\n      originalCollection: this.collection.clone(),\n    });\n\n    this.listenTo(collectionView, 'filtered', filtered => {\n      this.filteredCollection.reset(filtered);\n      this.toggleBulkSelect();\n    });\n\n    this.showChildView('list', collectionView);\n  },\n  showScheduleTitle() {\n    const clinicianId = this.getState('clinicianId');\n    const owner = Radio.request('entities', 'clinicians:model', clinicianId);\n\n    const scheduleTitleView = this.showChildView('title', new ScheduleTitleView({\n      model: owner,\n      showOwnerDroplist: this.canViewAssignedActions,\n    }));\n\n    if (this.canViewAssignedActions) this.showOwnerDroplist(scheduleTitleView, owner);\n  },\n  showOwnerDroplist(scheduleTitleView, owner) {\n    const ownerDroplistView = new OwnerDroplist(this.getOwnerFilterOptions(owner));\n\n    this.listenTo(ownerDroplistView, {\n      'change:owner'({ id }) {\n        this.setState({ clinicianId: id });\n      },\n    });\n\n    scheduleTitleView.showChildView('owner', ownerDroplistView);\n  },\n  getOwnerFilterOptions(owner) {\n    const options = {\n      owner,\n      isTitleFilter: true,\n      headingText: intl.patients.schedule.filtersApp.ownerFilterHeadingText,\n      hasTeams: false,\n      align: 'right',\n    };\n\n    return options;\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.collection || !this.collection.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  startFiltersApp() {\n    const state = this.getState();\n    const filtersApp = this.startChildApp('filters', {\n      state: state.getFiltersState(),\n      availableStates: state.getAvailableStates(),\n    });\n\n    const filtersState = filtersApp.getState();\n    this.listenTo(filtersState, 'change', () => {\n      this.setState(filtersState.getFiltersState());\n    });\n\n    this.listenTo(filtersApp, 'toggle:filtersSidebar', isSidebarOpen => {\n      this.setState('isFiltering', isSidebarOpen);\n    });\n  },\n  showDateFilter() {\n    const dateTypes = ['due_date'];\n\n    const dateFilterComponent = new DateFilterComponent({\n      dateTypes,\n      state: this.getState().getDateFilters(),\n      region: this.getRegion('dateFilter'),\n    });\n\n    this.listenTo(dateFilterComponent.getState(), {\n      'change'({ attributes }) {\n        this.setState({ dateFilters: clone(attributes) });\n      },\n    });\n\n    dateFilterComponent.show();\n  },\n  showTableHeaders() {\n    const tableHeadersView = new TableHeaderView();\n\n    this.showChildView('table', tableHeadersView);\n  },\n  showSelectAll() {\n    if (!this.filteredCollection.length) {\n      this.showDisabledSelectAll();\n      return;\n    }\n    const isSelectAll = this.selected.length === this.filteredCollection.length;\n    const isSelectNone = !this.selected.length;\n    const selectAllView = new SelectAllView({\n      isSelectAll,\n      isSelectNone,\n    });\n\n    this.listenTo(selectAllView, 'click', this.onClickBulkSelect);\n\n    this.showChildView('selectAll', selectAllView);\n  },\n  showDisabledSelectAll() {\n    this.showChildView('selectAll', new SelectAllView({ isDisabled: true }));\n  },\n  showBulkEditButtonView() {\n    const bulkEditButtonView = this.showChildView('filters', new BulkEditButtonView({\n      collection: this.selected,\n    }));\n\n    this.listenTo(bulkEditButtonView, {\n      'click:cancel': this.onClickBulkCancel,\n      'click:edit': this.onClickBulkEdit,\n    });\n  },\n  toggleBulkSelect() {\n    this.selected = this.getState().getSelected(this.filteredCollection);\n\n    this.showSelectAll();\n\n    if (this.selected.length) {\n      this.getChildApp('filters').stop();\n      this.showBulkEditButtonView();\n      return;\n    }\n\n    this.startFiltersApp();\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n      lastSelectedIndex: null,\n    });\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport RouterApp from 'js/base/routerapp';\n\nimport FlowApp from 'js/apps/patients/patient/flow/flow_app';\nimport PatientApp from 'js/apps/patients/patient/patient_app';\nimport WorklistApp from 'js/apps/patients/worklist/worklist_app';\nimport ScheduleApp from 'js/apps/patients/schedule/schedule_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'PatientsApp',\n\n  childApps: {\n    flow: FlowApp,\n    patient: PatientApp,\n    ownedBy: WorklistApp,\n    forTeam: WorklistApp,\n    newPastDay: WorklistApp,\n    pastThree: WorklistApp,\n    lastThirty: WorklistApp,\n    schedule: ScheduleApp,\n  },\n\n  eventRoutes: {\n    'worklist': {\n      action: 'showPatientsWorklist',\n      route: 'worklist/:id',\n      isList: true,\n    },\n    'patient:dashboard': {\n      action: 'showPatient',\n      route: 'patient/dashboard/:id',\n    },\n    'patient:archive': {\n      action: 'showPatient',\n      route: 'patient/archive/:id',\n    },\n    'patient:action': {\n      action: 'showPatient',\n      route: 'patient/:id/action/:id',\n    },\n    'patient:action:new': {\n      action: 'showPatient',\n      route: 'patient/:id/action',\n    },\n    'flow': {\n      action: 'showFlow',\n      route: 'flow/:id',\n    },\n    'flow:action': {\n      action: 'showFlow',\n      route: 'flow/:id/action/:id',\n    },\n    'schedule': {\n      action: 'showSchedule',\n      route: 'schedule',\n      isList: true,\n    },\n  },\n\n  showPatient(patientId) {\n    this.startRoute('patient', { patientId });\n  },\n\n  showPatientsWorklist(worklistId) {\n    const worklistsById = {\n      'owned-by': 'ownedBy',\n      'shared-by': 'forTeam',\n      'new-past-day': 'newPastDay',\n      'updated-past-three-days': 'pastThree',\n      'done-last-thirty-days': 'lastThirty',\n    };\n\n    if (!worklistsById[worklistId]) {\n      Radio.trigger('event-router', 'notFound');\n      return;\n    }\n\n    this.startCurrent(worklistsById[worklistId], { worklistId });\n  },\n\n  showFlow(flowId) {\n    this.startRoute('flow', { flowId });\n  },\n\n  showSchedule() {\n    this.startCurrent('schedule');\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport SearchComponent from 'js/views/shared/components/list-search';\n\nimport { LayoutView, ScheduleTitleView, TableHeaderView, ScheduleListView } from 'js/views/patients/schedule/schedule_views';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.setState({ isReduced: true });\n\n    this.showView(new LayoutView({\n      state: this.getState(),\n    }));\n\n    this.getRegion('list').startPreloader();\n\n    this.showScheduleTitle();\n    this.showSearchView();\n    this.showTableHeaders();\n  },\n  beforeStart() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    const states = currentWorkspace.getStates();\n\n    const filter = {\n      clinician: currentClinician.id,\n      state: states.groupByDone().notDone.getFilterIds(),\n    };\n\n    return Radio.request('entities', 'fetch:actions:collection', { filter });\n  },\n  onStart(options, collection) {\n    this.collection = collection;\n\n    this.showScheduleList();\n    this.showSearchView();\n  },\n  showScheduleList() {\n    const collectionView = new ScheduleListView({\n      collection: this.collection.groupByDate(),\n      state: this.getState(),\n    });\n\n    this.showChildView('list', collectionView);\n  },\n  showScheduleTitle() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    const owner = Radio.request('entities', 'clinicians:model', currentClinician.id);\n\n    this.showChildView('title', new ScheduleTitleView({\n      model: owner,\n    }));\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.collection || !this.collection.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  showTableHeaders() {\n    const tableHeadersView = new TableHeaderView();\n\n    this.showChildView('table', tableHeadersView);\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n    });\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport FlowApp from 'js/apps/patients/patient/flow/flow_app';\nimport PatientApp from 'js/apps/patients/patient/patient_app';\nimport ReducedScheduleApp from 'js/apps/patients/schedule/reduced_schedule_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'PatientsApp',\n  childApps() {\n    return {\n      flow: FlowApp,\n      patient: PatientApp,\n      schedule: ReducedScheduleApp,\n    };\n  },\n\n  eventRoutes: {\n    'schedule': {\n      action: 'showSchedule',\n      route: 'schedule',\n      isList: true,\n    },\n    'patient:dashboard': {\n      action: 'showPatient',\n      route: 'patient/dashboard/:id',\n    },\n    'patient:archive': {\n      action: 'showPatient',\n      route: 'patient/archive/:id',\n    },\n    'patient:action': {\n      action: 'showPatient',\n      route: 'patient/:id/action/:id',\n    },\n    'patient:action:new': {\n      action: 'showPatient',\n      route: 'patient/:id/action',\n    },\n    'flow': {\n      action: 'showFlow',\n      route: 'flow/:id',\n    },\n    'flow:action': {\n      action: 'showFlow',\n      route: 'flow/:id/action/:id',\n    },\n  },\n  showPatient(patientId) {\n    this.startRoute('patient', { patientId });\n  },\n  showFlow(flowId) {\n    this.startRoute('flow', { flowId });\n  },\n  showSchedule() {\n    this.startCurrent('schedule');\n  },\n});\n","import { every, map, sortBy } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport PreloadRegion from 'js/regions/preload_region';\nimport { RoleComponent, TeamComponent, StateComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport './clinicians.scss';\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.clinicians.cliniciansAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.clinicians.cliniciansAllViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ItemView = View.extend({\n  modelEvents: {\n    'change:enabled': 'render',\n  },\n  className: 'table-list__item',\n  behaviors: [RowBehavior],\n  tagName: 'tr',\n  regions: {\n    team: '[data-team-region]',\n    role: '[data-role-region]',\n    state: '[data-state-region]',\n  },\n  triggers: {\n    'click': 'click',\n  },\n  template: hbs`\n    <td class=\"table-list__cell w-20\">{{#unless name}}{{ @intl.clinicians.cliniciansAllViews.itemView.newClinician }}{{/unless}}{{ name }}&#8203;</td>\n    <td class=\"table-list__cell w-30 {{#unless workspaces}}table-list__cell--empty{{/unless}}\">{{#each workspaces}}{{#unless @first}}, {{/unless}}{{ this.name }}{{/each}}{{#unless workspaces}}{{ @intl.clinicians.cliniciansAllViews.itemView.noWorkspaces }}{{/unless}}&#8203;</td>\n    <td class=\"table-list__cell w-30\">\n      <span class=\"u-margin--r-8\" data-state-region></span>&#8203;{{~ remove_whitespace ~}}\n      <span class=\"u-margin--r-8\" data-role-region></span>&#8203;{{~ remove_whitespace ~}}\n      <span data-team-region></span>&#8203;{{~ remove_whitespace ~}}\n    </td>\n    <td class=\"table-list__cell w-20 {{#unless last_active_at}}table-list__cell--empty{{/unless}}\">{{formatDateTime last_active_at \"TIME_OR_DAY\" defaultHtml=(intlGet \"clinicians.cliniciansAllViews.itemView.noLastActive\")}}&#8203;</td>\n  `,\n  templateContext() {\n    return {\n      workspaces: sortBy(map(this.model.getWorkspaces().models, 'attributes'), 'name'),\n    };\n  },\n  onRender() {\n    this.showTeam();\n    this.showRole();\n    this.showState();\n  },\n  onClick() {\n    Radio.trigger('event-router', 'clinician', this.model.id);\n  },\n  showState() {\n    const isActive = this.model.isActive();\n    const selectedId = this.model.get('enabled') ? 'enabled' : 'disabled';\n\n    const stateComponent = new StateComponent({ isActive, selectedId, isCompact: true });\n\n    this.listenTo(stateComponent, 'change:selected', selected => {\n      this.model.save({ enabled: selected.id !== 'disabled' });\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showRole() {\n    const roleComponent = new RoleComponent({\n      role: this.model.getRole(),\n      isCompact: true,\n      state: { isDisabled: !this.model.get('enabled') },\n    });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.model.saveRole(role);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const teamComponent = new TeamComponent({\n      team: this.model.getTeam(),\n      isCompact: true,\n      state: { isDisabled: !this.model.get('enabled') },\n    });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.model.saveTeam(team);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n    <div class=\"list-page__header\">\n      <div class=\"flex list-page__title\">\n        <div class=\"flex list-page__title-filter\">\n          <span class=\"list-page__title-icon\">{{far \"users-gear\"}}</span>{{ @intl.clinicians.cliniciansAllViews.layoutView.title }}\n        </div>\n        <div class=\"clinicians__list-search\" data-search-region></div>\n      </div>\n      <button class=\"u-margin--b-16 button-primary js-add-clinician\">{{far \"circle-plus\"}}<span>{{ @intl.clinicians.cliniciansAllViews.layoutView.addClinicianButton }}</span></button>\n    </div>\n    <div class=\"flex-region list-page__list\">\n      <table class=\"w-100\"><tr>\n        <td class=\"table-list__header w-20\">{{ @intl.clinicians.cliniciansAllViews.layoutView.clinicianHeader }}</td>\n        <td class=\"table-list__header w-30\">{{ @intl.clinicians.cliniciansAllViews.layoutView.workspacesHeader }}</td>\n        <td class=\"table-list__header w-30\">{{ @intl.clinicians.cliniciansAllViews.layoutView.attributesHeader }}</td>\n        <td class=\"table-list__header w-20\">{{ @intl.clinicians.cliniciansAllViews.layoutView.lastActiveHeader }}</td>\n      </tr></table>\n      <div class=\"flex-region\" data-list-region></div>\n    </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    sidebar: '[data-sidebar-region]',\n    addClinician: {\n      el: '[data-add-region]',\n      replaceElement: true,\n    },\n    search: '[data-search-region]',\n  },\n  triggers: {\n    'click .js-add-clinician': 'click:addClinician',\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list',\n  tagName: 'table',\n  childView: ItemView,\n  emptyView() {\n    if (this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return EmptyView;\n  },\n  collectionEvents: {\n    'change:name': 'sort',\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n  },\n  viewComparator({ model }) {\n    return String(model.get('name')).toLowerCase();\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  onListItemRender(view) {\n    view.searchString = view.$el.text();\n  },\n  onRenderChildren() {\n    this.triggerMethod('filtered', this.children.pluck('model'));\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\nimport { mixinState } from 'marionette.toolkit';\n\nimport 'scss/modules/modals.scss';\n\nimport intl from 'js/i18n';\nimport trim from 'js/utils/formatting/trim';\n\nimport { WorkspacesComponent, TeamComponent, RoleComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport ClinicianModalTemplate from './clinician-modal.hbs';\n\nconst i18n = intl.clinicians.clinicianModal.clinicianModalViews;\n\nconst InputView = View.extend({\n  behaviors() {\n    if (!this.getOption('shouldFocus')) return;\n\n    return [\n      {\n        behaviorClass: InputFocusBehavior,\n        selector: '.js-input',\n      },\n    ];\n  },\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input {{#if hasError}}has-error{{/if}}\" placeholder=\"{{ placeholder }}\" value=\"{{ value }}\" />\n  `,\n  templateContext() {\n    const errors = this.getOption('state').get('errors');\n\n    return {\n      hasError: errors && errors[this.getOption('attr')],\n      placeholder: this.getOption('placeholder'),\n      value: this.model.get(this.getOption('attr')),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onChange',\n  },\n  initialize({ state }) {\n    this.listenTo(state, 'change:errors', this.render);\n  },\n  onChange() {\n    const text = this.ui.input.val();\n    this.model.set(this.getOption('attr'), trim(text));\n  },\n  onDomRefresh() {\n    if (this.getOption('shouldFocus')) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst ClinicianModal = View.extend({\n  className: 'modal__content',\n  regions: {\n    name: '[data-name-region]',\n    email: '[data-email-region]',\n    role: '[data-role-region]',\n    team: '[data-team-region]',\n    workspaces: '[data-workspaces-region]',\n  },\n  modelEvents: {\n    'change': 'onChange',\n  },\n  template: ClinicianModalTemplate,\n  initialize({ state }) {\n    this.initState({ state });\n  },\n  onRender() {\n    this.showNameView();\n    this.showEmailView();\n    this.showRole();\n    this.showTeam();\n    this.showWorkspacesComponent();\n  },\n  showNameView() {\n    this.showChildView('name', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'name',\n      placeholder: i18n.clinicianModal.name,\n      shouldFocus: true,\n    }));\n  },\n  showEmailView() {\n    this.showChildView('email', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'email',\n      placeholder: i18n.clinicianModal.email,\n    }));\n  },\n  showRole() {\n    const roleComponent = new RoleComponent({\n      role: this.model.getRole(),\n      className: 'modal__form-component',\n    });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.model.set('_role', role.id);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const teamComponent = new TeamComponent({\n      team: this.model.get('_team'),\n      className: 'modal__form-component',\n    });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.model.set('_team', team.id);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n  showWorkspacesComponent() {\n    const workspacesManager = this.showChildView('workspaces', new WorkspacesComponent({\n      className: 'modal__form-component',\n      workspaces: Radio.request('bootstrap', 'workspaces'),\n      member: this.model,\n    }));\n\n    this.listenTo(workspacesManager, {\n      'add:member'(clinician, workspace) {\n        this.model.addWorkspace(workspace);\n      },\n      'remove:member'(clinician, workspace) {\n        this.model.removeWorkspace(workspace);\n      },\n    });\n  },\n});\n\nmixinState(ClinicianModal);\n\nfunction getClinicianModal(opts) {\n  const clinician = opts.clinician;\n  const bodyView = new ClinicianModal({\n    model: clinician,\n  });\n\n  return extend({\n    bodyView,\n    headerIcon: 'users-gear',\n  }, i18n.clinicianModal, opts);\n}\n\nexport {\n  getClinicianModal,\n};\n","import { values } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport intl from 'js/i18n';\n\nimport SearchComponent from 'js/views/shared/components/list-search';\n\nimport { ListView, LayoutView } from 'js/views/clinicians/clinicians-all_views';\nimport { getClinicianModal } from 'js/views/clinicians/clinician-modal/clinician-modal_views';\n\nexport default SubRouterApp.extend({\n  routerAppName: 'CliniciansApp',\n  eventRoutes: {\n    'clinician': 'showClinicianSidebar',\n  },\n  viewEvents: {\n    'click:addClinician': 'onClickAddClinician',\n  },\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n\n    this.showSearchView();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:clinicians:collection');\n  },\n  onStart({ currentRoute }, clinicians) {\n    this.clinicians = clinicians;\n\n    this.showChildView('list', new ListView({\n      collection: this.clinicians,\n      state: this.getState(),\n    }));\n\n    this.showSearchView();\n\n    this.startRoute(currentRoute);\n  },\n  _getClinician(clinicianId) {\n    if (!clinicianId) {\n      return Radio.request('entities', 'clinicians:model', {\n        enabled: true,\n        disabled_at: null,\n      });\n    }\n\n    return this.clinicians.get(clinicianId);\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.clinicians || !this.clinicians.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n    });\n  },\n  showClinicianSidebar(clinicianId) {\n    const clinician = this._getClinician(clinicianId);\n\n    if (!clinician) {\n      Radio.request('alert', 'show:error', intl.clinicians.cliniciansAllApp.notFound);\n      Radio.trigger('event-router', 'clinicians:all');\n      return;\n    }\n\n    Radio.request('sidebar', 'start', 'clinician', { clinician });\n\n    clinician.trigger('editing', true);\n  },\n  onClickAddClinician() {\n    this.showAddModal();\n  },\n  showAddModal() {\n    const clinician = this._getClinician();\n    const clinicianClone = clinician.clone();\n    const clinicianModal = Radio.request('modal', 'show', getClinicianModal({\n      clinician: clinicianClone,\n      onSubmit: () => {\n        clinicianModal.disableSubmit();\n        clinician.saveAll(clinicianClone.attributes)\n          .then(({ data }) => {\n            this.clinicians.add(clinician);\n            Radio.trigger('event-router', 'clinician', data.id);\n            clinicianModal.destroy();\n          })\n          .catch(({ responseData }) => {\n            clinicianModal.disableSubmit();\n            const errors = clinician.parseErrors(responseData);\n\n            clinicianModal.getChildView('body').setState({ errors });\n            Radio.request('alert', 'show:error', values(errors).join(', '));\n          });\n      },\n    }));\n\n    clinicianModal.disableSubmit();\n    clinicianModal.listenTo(clinicianClone, {\n      'change'() {\n        clinicianModal.disableSubmit(!clinicianClone.isValid());\n      },\n    });\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport CliniciansAllApp from 'js/apps/clinicians/clinicians-all_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'CliniciansApp',\n\n  childApps: {\n    cliniciansAll: CliniciansAllApp,\n  },\n\n  eventRoutes: {\n    'clinicians:all': {\n      action: 'showCliniciansAll',\n      route: 'clinicians',\n      isList: true,\n    },\n    'clinician': {\n      action: 'showCliniciansAll',\n      route: 'clinicians/:id',\n    },\n    'clinician:new': {\n      action: 'showCliniciansAll',\n      route: 'clinicians/new',\n    },\n  },\n\n  showCliniciansAll() {\n    this.startRoute('cliniciansAll');\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\n\nconst ItemView = View.extend({\n  template: hbs`\n    <td class=\"table-list__cell w-100\">{{ name }}</td>\n  `,\n  className: 'table-list__item',\n  tagName: 'tr',\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'dashboard', this.model.id);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.dashboards.dashboardsAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ListView = CollectionView.extend({\n  childView: ItemView,\n  className: 'table-list',\n  tagName: 'table',\n  emptyView: EmptyView,\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n  <div class=\"list-page__header\">\n    <div class=\"flex list-page__title\">\n      <div class=\"flex list-page__title-filter\">\n        <span class=\"list-page__title-icon\">{{far \"gauge\"}}</span>{{ @intl.dashboards.dashboardsAllViews.layoutView.title }}\n      </div>\n    </div>\n  </div>\n  <div class=\"flex-region list-page__list\">\n    <table class=\"w-100\"><tr>\n      <td class=\"table-list__header w-100\">{{ @intl.dashboards.dashboardsAllViews.layoutView.nameHeader }}</td>\n    </tr></table>\n    <div class=\"flex-region\" data-list-region></div>\n  </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { ListView, LayoutView } from 'js/views/dashboards/dashboards-all_views';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:dashboards:collection');\n  },\n  onStart(options, collection) {\n    this.programs = collection;\n    this.showChildView('list', new ListView({ collection }));\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './dashboard.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'dashboard__context-trail',\n  template: hbs`\n    <a class=\"js-back dashboard__context-link\">\n      {{fas \"chevron-left\"}}{{ @intl.dashboards.dashboardViews.contextTrailView.contextBackBtn }}\n    </a>\n    {{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  onClickBack() {\n    Radio.trigger('event-router', 'dashboards:all');\n  },\n});\n\nconst IframeView = View.extend({\n  className: 'flex-grow',\n  template: hbs`<iframe src=\"{{ embed_url }}\"></iframe>`,\n});\n\nconst LayoutView = View.extend({\n  className: 'dashboard__frame',\n  template: hbs`\n  <div class=\"dashboard__layout\">\n    <div data-context-trail-region></div>\n    <div class=\"dashboard__iframe flex\" data-dashboard-region></div>\n  </div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    dashboard: {\n      el: '[data-dashboard-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  IframeView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { LayoutView, ContextTrailView, IframeView } from 'js/views/dashboards/dashboard_views';\n\nimport intl from 'js/i18n';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('dashboard').startPreloader();\n  },\n  beforeStart({ dashboardId }) {\n    return Radio.request('entities', 'fetch:dashboards:model', dashboardId);\n  },\n  onStart(options, dashboard) {\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: dashboard,\n    }));\n\n    this.showChildView('dashboard', new IframeView({\n      model: dashboard,\n    }));\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.dashboards.dashboardApp.notFound);\n    Radio.trigger('event-router', 'dashboards:all');\n    this.stop();\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport DashboardsAllApp from 'js/apps/dashboards/dashboards-all_app';\nimport DashboardApp from 'js/apps/dashboards/dashboard_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'DashboardsApp',\n\n  childApps: {\n    dashboardsAll: DashboardsAllApp,\n    dashboard: DashboardApp,\n  },\n\n  eventRoutes: {\n    'dashboards:all': {\n      action: 'showDashboardsAll',\n      route: 'dashboards',\n      isList: true,\n    },\n    'dashboard': {\n      action: 'showDashboard',\n      route: 'dashboards/:id',\n    },\n  },\n\n  showDashboardsAll() {\n    this.startCurrent('dashboardsAll');\n  },\n  showDashboard(dashboardId) {\n    this.startCurrent('dashboard', { dashboardId });\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\nimport './programs-list.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.programs.programsAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-list__cell w-60\">{{ name }}</td>\n    <td class=\"table-list__cell w-20 programs-list__published{{#if published}} is-published{{/if}}\">\n      {{#if published}}{{fas \"toggle-on\"}}{{else}}{{far \"toggle-off\"}}{{/if}}\n      {{formatMessage (intlGet \"programs.programsAllViews.itemView.published\") published=published}}\n    </td>\n    <td class=\"table-list__cell w-20 programs-list__updated-ts\">{{formatDateTime updated_at \"TIME_OR_DAY\"}}</td>\n  `,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'program:details', this.model.id);\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n    <div class=\"list-page__header\">\n      <div class=\"flex list-page__title\">\n        <div class=\"flex list-page__title-filter\">\n          <span class=\"list-page__title-icon\">{{far \"screwdriver-wrench\"}}</span>{{ @intl.programs.programsAllViews.layoutView.title }}\n        </div>\n      </div>\n      <button class=\"u-margin--b-16 button-primary js-add\">{{far \"circle-plus\"}}<span>{{ @intl.programs.programsAllViews.addProgramBtn }}</span></button>\n    </div>\n    <div class=\"flex-region list-page__list\">\n      <table class=\"w-100\"><tr>\n        <td class=\"table-list__header w-60\">{{ @intl.programs.programsAllViews.layoutView.programHeader }}</td>\n        <td class=\"table-list__header w-20\">{{ @intl.programs.programsAllViews.layoutView.stateHeader }}</td>\n        <td class=\"table-list__header w-20\">{{ @intl.programs.programsAllViews.layoutView.updatedHeader }}</td>\n      </tr></table>\n      <div class=\"flex-region\" data-list-region></div>\n    </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  triggers: {\n    'click .js-add': 'click:add',\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list',\n  tagName: 'table',\n  childView: ItemView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('updated_at'), viewB.model.get('updated_at'));\n  },\n  emptyView: EmptyView,\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { ListView, LayoutView } from 'js/views/programs/programs-all_views';\n\nexport default App.extend({\n  viewTriggers: {\n    'click:add': 'click:add',\n  },\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:programs:collection');\n  },\n  onStart(options, collection) {\n    this.programs = collection;\n    this.showChildView('list', new ListView({ collection }));\n  },\n  onClickAdd() {\n    const program = Radio.request('entities', 'programs:model', {});\n    const sidebar = Radio.request('sidebar', 'start', 'program', { program });\n\n    this.listenTo(sidebar, 'stop', () => {\n      if (!program.isNew()) this.programs.add(program);\n    });\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/table-list.scss';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { OwnerComponent as FlowOwnerComponent } from 'js/views/programs/shared/flows_views';\nimport { DueDayComponent, OwnerComponent, PublishedComponent } from 'js/views/programs/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\nimport LayoutTemplate from './layout.hbs';\n\nimport 'scss/domain/program-action-state.scss';\nimport './workflows.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"workflows__empty-list\">\n      <h2>{{ @intl.programs.program.workflows.workflowsViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onInitialize() {\n    if (this.view.model.isNew()) this.$el.addClass('is-selected');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior],\n  regions: {\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n    due: '[data-due-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      hasForm: this.model.getForm(),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  ui: {\n    'form': '.js-form',\n  },\n  triggers: {\n    'click': 'click',\n    'click @ui.form': 'click:form',\n  },\n  onClick() {\n    if (this.model.isNew()) {\n      Radio.trigger('event-router', 'program:action:new', this.model.get('_program'));\n      return;\n    }\n\n    Radio.trigger('event-router', 'program:action', this.model.get('_program'), this.model.id);\n  },\n  onClickForm() {\n    const form = this.model.getForm();\n    Radio.trigger('event-router', 'form:preview', form.id);\n  },\n  onRender() {\n    this.showPublished();\n    this.showOwner();\n    this.showDue();\n  },\n  showPublished() {\n    const isDisabled = this.model.isNew();\n    const isFromFlow = !!this.model.get('_program_flow');\n    const publishedComponent = new PublishedComponent({\n      isConditionalAvailable: isFromFlow,\n      status: this.model.get('status'),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.model.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const isFromFlow = !!this.model.get('_program_flow');\n    const ownerComponent = new OwnerComponent({ owner: this.model.getOwner(), isFromFlow, isCompact: true, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDue() {\n    const isDisabled = this.model.isNew();\n    const dueDayComponent = new DueDayComponent({ day: this.model.get('days_until_due'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(dueDayComponent, 'change:day', day => {\n      this.model.save({ days_until_due: day });\n    });\n\n    this.showChildView('due', dueDayComponent);\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior],\n  regions: {\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  templateContext() {\n    return {\n      isPublished: this.model.get('status') === PUBLISH_STATE_STATUS.PUBLISHED,\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    if (this.model.isNew()) {\n      Radio.trigger('event-router', 'programFlow:new', this.model.get('_program'));\n      return;\n    }\n\n    Radio.trigger('event-router', 'programFlow', this.model.id);\n  },\n  onRender() {\n    this.showOwner();\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const ownerComponent = new FlowOwnerComponent({ owner: this.model.getOwner(), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list workflows__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'program-flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('updated_at'), viewB.model.get('updated_at'));\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region workflows__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    add: '[data-add-region]',\n  },\n  template: LayoutTemplate,\n});\n\nconst AddActionDroplist = Droplist.extend({\n  popWidth: 248,\n  picklistOptions() {\n    return {\n      headingText: intl.programs.program.workflows.workflowsViews.addActionHeading,\n      itemClassName: 'u-text--italic',\n    };\n  },\n  viewOptions: {\n    className: 'button-primary',\n    template: hbs`{{far \"circle-plus\"}}<span>{{ @intl.programs.program.workflows.workflowsViews.addAction }}</span>{{far \"angle-down\" classes=\"workflows__arrow\"}}`,\n  },\n  picklistEvents: {\n    'picklist:item:select': 'onSelect',\n  },\n  onSelect({ model }) {\n    model.get('onSelect')();\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n  AddActionDroplist,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport intl from 'js/i18n';\n\nimport { LayoutView, ListView, AddActionDroplist } from 'js/views/programs/program/workflows/workflows_views';\n\nimport 'scss/domain/workflows.scss';\n\nexport default App.extend({\n  viewTriggers: {\n    'click:add': 'click:add',\n  },\n  onBeforeStart({ program }) {\n    this.program = program;\n    this.showView(new LayoutView({ model: program }));\n    this.getRegion('content').startPreloader();\n  },\n  beforeStart({ program }) {\n    return [\n      Radio.request('entities', 'fetch:programActions:collection:byProgram', { programId: program.id }),\n      Radio.request('entities', 'fetch:programFlows:collection:byProgram', { programId: program.id }),\n    ];\n  },\n  onStart({ program }, actions, flows) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n    this.showChildView('content', new ListView({ collection: this.collection }));\n\n    const actionDroplistMenu = new Backbone.Collection([\n      {\n        onSelect: () => {\n          Radio.trigger('event-router', 'program:action:new', this.program.id);\n        },\n        icon: {\n          type: 'far',\n          icon: 'file-lines',\n          classes: 'workflows--add-action',\n        },\n        text: intl.programs.program.workflows.workflowsApp.newAction,\n      },\n      {\n        onSelect: () => {\n          Radio.trigger('event-router', 'programFlow:new', this.program.id);\n        },\n        icon: {\n          type: 'fas',\n          icon: 'folder',\n          classes: 'workflows--add-flow',\n        },\n        text: intl.programs.program.workflows.workflowsApp.newFlow,\n      },\n    ]);\n\n    this.showChildView('add', new AddActionDroplist({\n      collection: actionDroplistMenu,\n    }));\n  },\n  onEditItem(item) {\n    if (item.isNew()) {\n      this.collection.unshift(item);\n      return;\n    }\n    item.trigger('editing', true);\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport intl from 'js/i18n';\n\nimport { ACTION_OUTREACH, PUBLISH_STATE_STATUS } from 'js/static';\n\nimport App from 'js/base/app';\n\nexport default App.extend({\n  beforeStart({ actionId, programId, flowId }) {\n    if (!actionId) {\n      return Radio.request('entities', 'programActions:model', {\n        _program: programId,\n        _program_flow: flowId,\n        _owner: null,\n        days_until_due: null,\n        status: PUBLISH_STATE_STATUS.DRAFT,\n        outreach: ACTION_OUTREACH.DISABLED,\n      });\n    }\n\n    return Radio.request('entities', 'fetch:programActions:model', actionId);\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.programs.program.action.actionApp.notFound);\n    this.stop();\n  },\n  onStart(options, action) {\n    const sidebar = Radio.request('sidebar', 'start', 'programAction', { action });\n\n    this.listenTo(sidebar, 'stop', this.stop);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './program.scss';\n\nconst ContextTrailView = View.extend({\n  modelEvents: {\n    'change:name': 'render',\n  },\n  className: 'program__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back program__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.programs.program.programViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'program__frame',\n  template: hbs`\n    <div class=\"program__layout\">\n        <div data-context-trail-region></div>\n        <div data-content-region></div>\n    </div>\n    <div class=\"program__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    sidebar: '[data-sidebar-region]',\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  onRender() {\n    this.showChildView('contextTrail', new ContextTrailView({ model: this.model }));\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { View, Region } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport SidebarTemplate from './sidebar-layout.hbs';\n\nimport './program-sidebar.scss';\n\nconst i18n = intl.programs.program.sidebar.sidebarViews;\n\nconst SidebarView = View.extend({\n  className: 'program-sidebar',\n  template: SidebarTemplate,\n  regionClass: Region.extend({ replaceElement: true }),\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'edit'),\n        icon: 'pen-to-square',\n        className: 'program-sidebar__edit',\n        text: i18n.menuOptions.edit,\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.menuOptions.headingText,\n      itemTemplate: hbs`<span class={{ className }}>{{far icon}}{{ text }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n});\n\nexport {\n  SidebarView,\n};\n","import { partial } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\n\nimport WorkflowsApp from 'js/apps/programs/program/workflows/workflows_app';\nimport ActionApp from 'js/apps/programs/program/action/action_app';\n\nimport { LayoutView } from 'js/views/programs/program/program_views';\nimport { SidebarView } from 'js/views/programs/program/sidebar/sidebar-views';\n\nexport default SubRouterApp.extend({\n  eventRoutes() {\n    return {\n      'program:details': partial(this.startCurrent, 'workflows'),\n      'program:action': this.startProgramAction,\n      'program:action:new': this.startProgramAction,\n      'programFlow:new': this.startFlowSidebar,\n    };\n  },\n\n  childApps: {\n    workflows: WorkflowsApp,\n    action: ActionApp,\n  },\n\n  currentAppOptions() {\n    return {\n      region: this.getRegion('content'),\n      program: this.getOption('program'),\n    };\n  },\n\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n  },\n\n  beforeStart({ programId }) {\n    return Radio.request('entities', 'fetch:programs:model', programId);\n  },\n\n  onStart({ currentRoute }, program) {\n    this.program = program;\n\n    this.setView(new LayoutView({ model: program }));\n\n    this.showSidebar();\n\n    // Show/Empty program sidebar based on app sidebar\n    this.listenTo(Radio.channel('sidebar'), {\n      'show': this.emptySidebar,\n      'close': this.showSidebar,\n    });\n\n    this.startRoute(currentRoute);\n\n    this.showView();\n  },\n\n  startProgramAction(programId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.editList(action);\n      },\n      'fail'() {\n        this.startCurrent('workflows');\n      },\n    });\n\n    this.startChildApp('action', { actionId, programId });\n  },\n\n  // Triggers event on started workflow for marking the edited item\n  editList(item) {\n    const currentWorkflow = this.getCurrent() || this.startCurrent('workflows');\n\n    if (!currentWorkflow.isRunning()) {\n      this.listenToOnce(currentWorkflow, 'start', () => {\n        currentWorkflow.triggerMethod('edit:item', item);\n      });\n      return;\n    }\n\n    currentWorkflow.triggerMethod('edit:item', item);\n  },\n\n  startFlowSidebar(programId) {\n    const flow = Radio.request('entities', 'programFlows:model', {\n      _program: programId,\n      _owner: null,\n      status: PUBLISH_STATE_STATUS.DRAFT,\n    });\n\n    Radio.request('sidebar', 'start', 'programFlow', { flow });\n\n    this.editList(flow);\n  },\n\n  showSidebar() {\n    const sidebarView = new SidebarView({ model: this.program });\n\n    this.listenTo(sidebarView, {\n      'edit': this.onEdit,\n    });\n\n    this.showChildView('sidebar', sidebarView);\n  },\n\n  emptySidebar() {\n    this.getRegion('sidebar').empty();\n  },\n\n  onEdit() {\n    Radio.request('sidebar', 'start', 'program', { program: this.program });\n  },\n});\n","import { Behavior } from 'marionette';\nimport Sortable from 'sortablejs';\n\nexport default Behavior.extend({\n  options: {\n    handle: '.js-sort',\n    item: '.js-draggable',\n  },\n  initialize() {\n    this.shouldDisable = this.getOption('shouldDisable');\n  },\n  /* istanbul ignore next: sensible but unused default */\n  shouldDisable() {\n    return this.view.collection.length < 2;\n  },\n  collectionEvents: {\n    'update change:id': 'updateDisabled',\n  },\n  updateDisabled() {\n    const shouldDisabled = this.shouldDisable();\n    this.view.$el.toggleClass('is-draggable', !shouldDisabled);\n    this.sortable.option('disabled', shouldDisabled);\n  },\n  onRender() {\n    /* istanbul ignore next: unnecessary clean-up test */\n    if (this.sortable) this.sortable.destroy();\n\n    this.sortable = Sortable.create(this.el, {\n      handle: this.getOption('handle'),\n      item: this.getOption('item'),\n      direction: 'vertical',\n      onEnd: this.onEnd.bind(this),\n      onStart: this.onStart.bind(this),\n    });\n\n    this.updateDisabled();\n  },\n  onBeforeDestroy() {\n    this.sortable.destroy();\n  },\n  onEnd({ oldIndex, newIndex }) {\n    const movedModel = this.view.collection.models[oldIndex];\n    this.view.$el.removeClass('is-dragging');\n\n    this.view.collection.models.splice(oldIndex, 1);\n    this.view.collection.models.splice(newIndex, 0, movedModel);\n\n    this.view.triggerMethod('drag:end', movedModel);\n  },\n  onStart({ oldIndex }) {\n    const movedModel = this.view.collection.models[oldIndex];\n\n    this.view.$el.addClass('is-dragging');\n    this.view.triggerMethod('drag:start', movedModel);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { OwnerComponent as FlowOwnerComponent, FlowPublishedComponent } from 'js/views/programs/shared/flows_views';\nimport { DueDayComponent, OwnerComponent, PublishedComponent } from 'js/views/programs/shared/actions_views';\nimport SortableList from 'js/behaviors/sortable-list';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport HeaderTemplate from './header.hbs';\n\nimport './program-flow.scss';\n\nconst ContextTrailView = View.extend({\n  modelEvents: {\n    'change:name': 'render',\n  },\n  initialize({ program }) {\n    this.program = program;\n\n    this.listenTo(this.program, 'change:name', this.render);\n  },\n  className: 'program-flow__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back program-flow__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.programs.program.flow.flowViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}\n    <a class=\"js-program program-flow__context-link\">{{ programName }}</a>{{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n    'click .js-program': 'click:program',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  onClickProgram() {\n    Radio.trigger('event-router', 'program:details', this.program.id);\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n      programName: this.program.get('name'),\n    };\n  },\n});\n\nconst HeaderView = View.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'render',\n  },\n  onEditing(isEditing) {\n    this.ui.flow.toggleClass('is-selected', isEditing);\n  },\n  template: HeaderTemplate,\n  regions: {\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n  },\n  triggers: {\n    'click @ui.flow': 'edit',\n    'click .js-add-action': 'click:addAction',\n  },\n  ui: {\n    flow: '.js-flow',\n  },\n  onRender() {\n    this.showPublished();\n    this.showOwner();\n  },\n  showPublished() {\n    const publishedComponent = new FlowPublishedComponent({\n      flow: this.model,\n      status: this.model.get('status'),\n      isCompact: true,\n    });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.model.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const ownerComponent = new FlowOwnerComponent({ owner: this.model.getOwner(), isCompact: true });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"program-flow__empty-list\">\n      <h2>{{ @intl.programs.program.flow.flowViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ActionItemView = View.extend({\n  modelEvents: {\n    'change': 'render',\n    'editing': 'onEditing',\n  },\n  className() {\n    const className = 'table-list__item program-flow__action-item js-draggable';\n    if (this.model.isNew()) return `${ className } is-selected`;\n\n    return className;\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      hasForm: this.model.getForm(),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  tagName: 'tr',\n  regions: {\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n    due: '[data-due-region]',\n  },\n  ui: {\n    'form': '.js-form',\n  },\n  triggers: {\n    'click': 'click',\n    'click @ui.form': 'click:form',\n  },\n  onClick() {\n    if (this.model.isNew()) {\n      Radio.trigger('event-router', 'programFlow:action:new', this.model.get('_program_flow'));\n      return;\n    }\n    Radio.trigger('event-router', 'programFlow:action', this.model.get('_program_flow'), this.model.id);\n  },\n  onClickForm() {\n    const form = this.model.getForm();\n    Radio.trigger('event-router', 'form:preview', form.id);\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onRender() {\n    this.showPublished();\n    this.showOwner();\n    this.showDue();\n  },\n  showDue() {\n    const isDisabled = this.model.isNew();\n    const dueDayComponent = new DueDayComponent({ day: this.model.get('days_until_due'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(dueDayComponent, 'change:day', day => {\n      this.model.save({ days_until_due: day });\n    });\n\n    this.showChildView('due', dueDayComponent);\n  },\n  showPublished() {\n    const isDisabled = this.model.isNew();\n    const publishedComponent = new PublishedComponent({ status: this.model.get('status'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.model.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const isFromFlow = !!this.model.get('_program_flow');\n    const ownerComponent = new OwnerComponent({ owner: this.model.getOwner(), isFromFlow, isCompact: true, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  behaviors: [\n    {\n      behaviorClass: SortableList,\n      shouldDisable() {\n        return this.view.collection.length < 2 || this.view.collection.last().isNew();\n      },\n    },\n  ],\n  collectionEvents: {\n    'change:id': 'onChangeId',\n  },\n  className: 'table-list program-flow__list',\n  tagName: 'table',\n  childView: ActionItemView,\n  emptyView: EmptyView,\n  onDragEnd() {\n    this.collection.updateSequences();\n  },\n  onChangeId() {\n    this.collection.updateSequences();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'program-flow__frame',\n  template: hbs`\n    <div class=\"program-flow__layout\">\n      <div data-context-trail-region></div>\n      <div data-header-region></div>\n      <div data-action-list-region></div>\n    </div>\n    <div class=\"program-flow__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    header: '[data-header-region]',\n    sidebar: '[data-sidebar-region]',\n    actionList: {\n      el: '[data-action-list-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  HeaderView,\n  ListView,\n};\n","import Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport ActionApp from 'js/apps/programs/program/action/action_app';\n\nimport { LayoutView, ContextTrailView, HeaderView, ListView } from 'js/views/programs/program/flow/flow_views';\nimport { SidebarView } from 'js/views/programs/program/sidebar/sidebar-views';\n\nexport default SubRouterApp.extend({\n  routerAppName: 'ProgramFlowApp',\n  childApps: {\n    action: ActionApp,\n  },\n  eventRoutes: {\n    'programFlow:action': 'showActionSidebar',\n    'programFlow:action:new': 'showActionSidebar',\n  },\n  onBeforeStart() {\n    this.showView(new LayoutView());\n  },\n  beforeStart({ flowId }) {\n    return [\n      Radio.request('entities', 'fetch:programs:model:byProgramFlow', flowId),\n      Radio.request('entities', 'fetch:programFlows:model', flowId),\n      Radio.request('entities', 'fetch:programActions:collection:byProgramFlow', flowId),\n    ];\n  },\n  onFail() {\n    Radio.trigger('event-router', 'notFound');\n    this.stop();\n  },\n  onStart({ currentRoute }, program, flow, actions) {\n    this.program = program;\n    this.flow = flow;\n    this.actions = actions;\n\n    this.maintainFlowActions();\n\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: this.flow,\n      program: this.program,\n    }));\n\n    this.showHeader();\n    this.showActionList();\n    this.showProgramSidebar();\n  },\n\n  maintainFlowActions() {\n    this.listenTo(this.actions, 'change:id destroy', () => {\n      const programActions = this.actions.map(({ id }) => {\n        return { id };\n      });\n      this.flow.set('_program_actions', programActions);\n    });\n  },\n\n  showHeader() {\n    const headerView = new HeaderView({\n      model: this.flow,\n    });\n\n    this.listenTo(headerView, {\n      'edit': this.onEditFlow,\n      'click:addAction': () => {\n        Radio.trigger('event-router', 'programFlow:action:new', this.flow.id);\n      },\n    });\n\n    this.showChildView('header', headerView);\n  },\n\n  showActionList() {\n    this.showChildView('actionList', new ListView({\n      collection: this.actions,\n    }));\n  },\n\n  showProgramSidebar() {\n    const sidebarView = new SidebarView({ model: this.program });\n\n    this.listenTo(sidebarView, {\n      'edit': this.onEditProgram,\n    });\n\n    this.showChildView('sidebar', sidebarView);\n  },\n\n  showActionSidebar(flowId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.editAction(action);\n      },\n    });\n\n    this.startChildApp('action', { actionId, flowId });\n  },\n\n  editAction(action) {\n    if (action.isNew()) {\n      action.set({ sequence: this.actions.length });\n      this.actions.add(action);\n      return;\n    }\n\n    action.trigger('editing', true);\n  },\n\n  onEditProgram() {\n    Radio.request('sidebar', 'start', 'program', { program: this.program });\n  },\n\n  onEditFlow() {\n    Radio.request('sidebar', 'start', 'programFlow', { flow: this.flow });\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport ProgramsAllApp from 'js/apps/programs/programs-all_app';\nimport ProgramApp from 'js/apps/programs/program/program_app';\nimport ProgramFlowApp from 'js/apps/programs/program/flow/flow_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'ProgramsApp',\n\n  childApps: {\n    programsAll: ProgramsAllApp,\n    program: ProgramApp,\n    programflow: ProgramFlowApp,\n  },\n\n  eventRoutes: {\n    'programs:all': {\n      action: 'showProgramsAll',\n      route: 'programs',\n      isList: true,\n    },\n    'program:details': {\n      action: 'showProgram',\n      route: 'program/:id',\n    },\n    'program:action': {\n      action: 'showProgram',\n      route: 'program/:id/action/:id',\n    },\n    'program:action:new': {\n      action: 'showProgram',\n      route: 'program/:id/action',\n    },\n    'programFlow:new': {\n      action: 'showProgram',\n      route: 'program/:id/flow',\n    },\n    'programFlow': {\n      action: 'showProgramFlow',\n      route: 'program-flow/:id',\n    },\n    'programFlow:action': {\n      action: 'showProgramFlow',\n      route: 'program-flow/:id/action/:id',\n    },\n    'programFlow:action:new': {\n      action: 'showProgramFlow',\n      route: 'program-flow/:id/action',\n    },\n  },\n\n  showProgramsAll() {\n    this.startCurrent('programsAll');\n  },\n  showProgram(programId) {\n    this.startRoute('program', { programId });\n  },\n  showProgramFlow(flowId) {\n    this.startRoute('programflow', { flowId });\n  },\n});\n","import { partial, invoke, defer, some } from 'underscore';\nimport Radio from 'backbone.radio';\nimport Backbone from 'backbone';\n\nimport App from 'js/base/app';\n\nimport SidebarService from 'js/services/sidebar';\n\nimport NavApp from './nav_app';\nimport FormsApp from 'js/apps/forms/forms-main_app';\nimport PatientsMainApp from 'js/apps/patients/patients-main_app';\nimport ReducedPatientsMainApp from 'js/apps/patients/reduced-patients-main_app.js';\nimport CliniciansMainApp from 'js/apps/clinicians/clinicians-main_app';\nimport DashboardsMainApp from 'js/apps/dashboards/dashboards-main_app';\nimport ProgramsMainApp from 'js/apps/programs/programs-main_app';\n\nexport default App.extend({\n  routers: [],\n  onBeforeStart() {\n    this.currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    this.getRegion('content').empty();\n\n    if (this.isRestarting()) return;\n\n    new NavApp({ region: this.getRegion('nav') });\n    new SidebarService({ region: this.getRegion('sidebar') });\n\n    this.listenTo(Radio.channel('bootstrap'), 'change:workspace', this.restart);\n  },\n  beforeStart() {\n    return [\n      Radio.request('entities', 'fetch:clinicians:byWorkspace', this.currentWorkspace.id),\n      Radio.request('entities', 'fetch:states:collection'),\n      Radio.request('entities', 'fetch:forms:collection'),\n    ];\n  },\n  onStart(options, clinicians) {\n    this.currentWorkspace.updateClinicians(clinicians);\n\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    this.startPatientsMain(currentUser);\n\n    if (currentUser.can('dashboards:view')) {\n      this.initRouter(DashboardsMainApp);\n    }\n\n    if (currentUser.can('clinicians:manage')) {\n      this.initRouter(CliniciansMainApp);\n    }\n\n    if (currentUser.can('programs:manage')) {\n      this.initRouter(ProgramsMainApp);\n    }\n\n    this.initFormsApp();\n\n    // Handles the route after the async app-frame start\n    defer(() => {\n      Backbone.history.loadUrl();\n      if (!some(this.routers, router => router.isRunning())) {\n        Radio.trigger('event-router', 'notFound');\n      }\n    });\n  },\n  onStop() {\n    invoke(this.routers, 'destroy');\n    this.routers = [];\n  },\n  initRouter(RouterApp) {\n    const router = new RouterApp({ region: this.getRegion('content') });\n    this.routers.push(router);\n    return router;\n  },\n  startPatientsMain(currentUser) {\n    if (currentUser.can('app:schedule:reduced')) {\n      this.initRouter(ReducedPatientsMainApp);\n      return;\n    }\n\n    this.initRouter(PatientsMainApp);\n  },\n  initFormsApp() {\n    const formsApp = this.initRouter(FormsApp);\n\n    this.listenTo(formsApp, {\n      start: partial(this.toggleNav, false),\n      stop: partial(this.toggleNav, true),\n    });\n  },\n  toggleNav(shouldShow) {\n    if (!this.isRunning()) return;\n\n    this.getView().toggleNav(!!shouldShow);\n  },\n});\n","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"name\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-name-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"email\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-email-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"role\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-role-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"team\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-team-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"workspaces\")), depth0))\n    + \"</div><div class=\\\"modal__form-component list-manager__wrapper\\\" data-workspaces-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.escapeExpression, alias2=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">Clinician</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias1((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":44},\"end\":{\"line\":7,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-email-region></div>\\n    <div data-save-region></div>\\n\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"state\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"role\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-role-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"team\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-team-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"workspaces\")), depth0))\n    + \"</h4><div class=\\\"flex-grow clinician-sidebar__workspaces\\\" data-workspaces-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\"></h4><div class=\\\"flex-grow\\\" data-info-region></div></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"firstName\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-first-name-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"lastName\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-last-name-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"dateOfBirth\")), depth0))\n    + \"</div><div data-dob-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"sex\")), depth0))\n    + \"</div><div data-sex-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"workspaces\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-workspaces-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"patient__action-attachment\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"paperclip\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":65},\"end\":{\"line\":13,\"column\":84}}}))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":56},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":47}}}) : helper)))\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":58},\"end\":{\"line\":6,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":58},\"end\":{\"line\":7,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":33},\"end\":{\"line\":8,\"column\":58}}}) : helper)))\n    + \"<span data-due-day-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":37},\"end\":{\"line\":9,\"column\":62}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":38},\"end\":{\"line\":10,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":9},\"end\":{\"line\":11,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":57},\"end\":{\"line\":12,\"column\":82}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasAttachments\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":2},\"end\":{\"line\":13,\"column\":98}}})) != null ? stack1 : \"\")\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":98},\"end\":{\"line\":13,\"column\":123}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":35},\"end\":{\"line\":14,\"column\":78}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":85},\"end\":{\"line\":14,\"column\":110}}}) : helper)))\n    + \"</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <td class=\\\"table-list__cell\\\">\\n      <span class=\\\"patient__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":39},\"end\":{\"line\":2,\"column\":55}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":51}}}) : helper)))\n    + \"</span>\\n    </td>\\n    <td class=\\\"table-list__cell patient__list-meta\\\">\\n      <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":62},\"end\":{\"line\":6,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":62},\"end\":{\"line\":7,\"column\":87}}}) : helper)))\n    + \"<progress class=\\\"progress-bar patient__flow-progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":128},\"end\":{\"line\":8,\"column\":153}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":39},\"end\":{\"line\":9,\"column\":82}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":89},\"end\":{\"line\":9,\"column\":114}}}) : helper)))\n    + \"</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"newAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"patient__action-attachment\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"paperclip\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":65},\"end\":{\"line\":16,\"column\":84}}}))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":56},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":105}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":58},\"end\":{\"line\":9,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":33},\"end\":{\"line\":11,\"column\":58}}}) : helper)))\n    + \"<span data-due-day-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":37},\"end\":{\"line\":12,\"column\":62}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":38},\"end\":{\"line\":13,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":9},\"end\":{\"line\":14,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":57},\"end\":{\"line\":15,\"column\":82}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasAttachments\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":2},\"end\":{\"line\":16,\"column\":98}}})) != null ? stack1 : \"\")\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":98},\"end\":{\"line\":16,\"column\":123}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":35},\"end\":{\"line\":2,\"column\":51}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":58},\"end\":{\"line\":2,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":47}}}) : helper)))\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":33},\"end\":{\"line\":6,\"column\":58}}}) : helper)))\n    + \"<span class=\\\"patient__flow-status action--\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"color\") : stack1), depth0))\n    + \"\\\">\"\n    + alias3((lookupProperty(helpers,\"fa\")||(depth0 && lookupProperty(depth0,\"fa\"))||alias2).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"iconType\") : stack1),((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"icon\") : stack1),{\"name\":\"fa\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":72},\"end\":{\"line\":7,\"column\":118}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":125},\"end\":{\"line\":7,\"column\":150}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":9},\"end\":{\"line\":8,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":58},\"end\":{\"line\":9,\"column\":83}}}) : helper)))\n    + \"<progress class=\\\"progress-bar patient__flow-progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":124},\"end\":{\"line\":10,\"column\":149}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":35},\"end\":{\"line\":11,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\n  <span class=\\\"patient__tab--selected\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"dashboardBtn\")), depth0))\n    + \"</span>\\n  <button class=\\\"patient__tab js-archive\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"archiveBtn\")), depth0))\n    + \"</button>\\n</div>\\n<div class=\\\"patient__actions\\\" data-add-workflow-region>\\n  <span class=\\\"button-primary\\\">\\n    <span class=\\\"js-loading\\\">\\n      \"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-plus\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":6},\"end\":{\"line\":12,\"column\":27}}}))\n    + \"\\n      <span>\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"actionLoading\")), depth0))\n    + \"</span>\\n    </span>\\n  </span>\\n</div>\\n<div data-content-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"newAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"patient__action-attachment\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"paperclip\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":65},\"end\":{\"line\":17,\"column\":84}}}))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell table-list__item-check js-no-click\\\"><span data-check-region></span></td>\\n<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":56},\"end\":{\"line\":3,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":14},\"end\":{\"line\":5,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":4},\"end\":{\"line\":6,\"column\":105}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":58},\"end\":{\"line\":11,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":33},\"end\":{\"line\":12,\"column\":58}}}) : helper)))\n    + \"<span data-due-day-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":37},\"end\":{\"line\":13,\"column\":62}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":38},\"end\":{\"line\":14,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":9},\"end\":{\"line\":15,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":57},\"end\":{\"line\":16,\"column\":82}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasAttachments\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":2},\"end\":{\"line\":17,\"column\":98}}})) != null ? stack1 : \"\")\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":98},\"end\":{\"line\":17,\"column\":123}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":35},\"end\":{\"line\":18,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"patient-flow__name\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder-open\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":31},\"end\":{\"line\":1,\"column\":52}}}))\n    + \" \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":53},\"end\":{\"line\":1,\"column\":63}}}) : helper)))\n    + \"</h1>\\n<table class=\\\"table-list\\\">\\n  <td class=\\\"patient-flow__details\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":49}}}) : helper)))\n    + \"</td>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":54},\"end\":{\"line\":3,\"column\":79}}}) : helper)))\n    + \"<td class=\\\"patient-flow__meta\\\">\\n    <span class=\\\"table-list__meta\\\" data-state-region></span>\\n    <span class=\\\"table-list__meta\\\" data-owner-region></span>\\n    <progress class=\\\"js-progress progress-bar patient-flow__progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":138},\"end\":{\"line\":7,\"column\":163}}}) : helper)))\n    + \"</td>\\n</table>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"list-page__header\\\">\\n  <div class=\\\"flex list-page__title\\\">\\n    <div data-title-region></div>\\n    <div class=\\\"schedule__list-search\\\" data-search-region></div>\\n  </div>\\n  <div class=\\\"list-page__filters flex\\\">\\n    <div class=\\\"flex u-margin--r-24\\\" data-select-all-region></div>\\n    <div class=\\\"flex flex-align-center w-100\\\" data-filters-region></div>\\n    <div class=\\\"flex u-text--nowrap\\\" data-date-filter-region></div>\\n  </div>\\n  <table class=\\\"w-100\\\" data-table-region></table>\\n</div>\\n<div class=\\\"flex-region list-page__list\\\" data-list-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"dueDateLabel\")), depth0))\n    + \"</h4>\\n  <div class=\\\"flex flex-grow\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":30},\"end\":{\"line\":4,\"column\":55}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-date-region></div>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":54},\"end\":{\"line\":5,\"column\":79}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-time-region></div>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":54},\"end\":{\"line\":6,\"column\":79}}}) : helper)))\n    + \"</div>\\n</div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"durationLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-duration-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditFlowBodyTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditFlowBodyTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n<div class=\\\"flex u-margin--t-8 u-margin--b-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\"></h4><div class=\\\"flex-grow\\\" data-apply-owner-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":148},\"end\":{\"line\":1,\"column\":161}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-primary textarea-flex__input js-input\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDisabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":61},\"end\":{\"line\":2,\"column\":95}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":95},\"end\":{\"line\":2,\"column\":196}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":197},\"end\":{\"line\":2,\"column\":207}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":62},\"end\":{\"line\":3,\"column\":72}}}) : helper)))\n    + \" </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" disabled\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"action-sidebar__name\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":34},\"end\":{\"line\":5,\"column\":44}}}) : helper)))\n    + \"</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isAdHoc\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":6,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"formLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-form-region></div></div>\\n    <div class=\\\"flex\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasOutreach\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":20},\"end\":{\"line\":26,\"column\":61}}})) != null ? stack1 : \"\")\n    + \"\\\" data-form-sharing-region></div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" u-margin--t-24\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"    <div data-form-region></div>\\n    <div class=\\\"u-margin--t-24\\\" data-form-sharing-region></div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias3((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias2).call(alias1,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias2).call(alias1,\"patients.sidebar.action.actionSidebarTemplate.headingText\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":51},\"end\":{\"line\":4,\"column\":120}}}),{\"name\":\"formatMessage\",\"hash\":{\"outreach\":(depth0 != null ? lookupProperty(depth0,\"outreach\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":35},\"end\":{\"line\":4,\"column\":140}}}))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"dueDayLabel\")), depth0))\n    + \"</h4>\\n      <div class=\\\"flex flex-grow\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":34},\"end\":{\"line\":18,\"column\":59}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-day-region></div>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":57},\"end\":{\"line\":19,\"column\":82}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-time-region></div>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":58},\"end\":{\"line\":20,\"column\":83}}}) : helper)))\n    + \"</div>\\n    </div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"durationLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-duration-region></div></div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasForm\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":4},\"end\":{\"line\":30,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\n  <div data-attachments-region></div>\\n  <div class=\\\"action-sidebar__activity\\\" data-activity-region></div>\\n</div>\\n<div class=\\\"u-margin--t-16\\\" data-comment-region></div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-8 u-text-align--right\\\">\\n  <button class=\\\"button--link js-response\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonResponseText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-8\\\">\\n  <button class=\\\"button--link js-undo-cancel\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isDone\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":45},\"end\":{\"line\":24,\"column\":75}}})) != null ? stack1 : \"\")\n    + \">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonUndoText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \" disabled\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-8\\\">\\n  <button class=\\\"button--link js-cancel\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonCancelText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex u-margin--t-8\\\">\\n  <div class=\\\"flex-grow\\\">\\n    <button class=\\\"button--link js-cancel\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDone\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":42},\"end\":{\"line\":37,\"column\":72}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias3(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonCancelText\")), depth0))\n    + \"</button>\\n  </div>\\n  <button class=\\\"button--link js-share\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDone\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":39,\"column\":39},\"end\":{\"line\":39,\"column\":69}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias3(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonShareText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\">\\n  <h3 class=\\\"sidebar__heading flex-grow\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"share-from-square\",{\"name\":\"far\",\"hash\":{\"classes\":\"u-margin--r-8\"},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":41},\"end\":{\"line\":2,\"column\":92}}}))\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"label\")), depth0))\n    + \"</h3>\\n</div>\\n<div class=\\\"flex u-margin--t-16\\\">\\n  <h4 class=\\\"sidebar__label--inset u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"recipientLabel\")), depth0))\n    + \"</h4>\\n  <div class=\\\"flex-grow\\\"><button class=\\\"button-secondary w-100\\\" disabled>\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"user-plus\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":73},\"end\":{\"line\":6,\"column\":92}}}))\n    + \"<span>\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"first_name\") : stack1), depth0))\n    + \" \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"last_name\") : stack1), depth0))\n    + \"</span></button></div>\\n</div>\\n<div class=\\\"flex u-margin--t-8\\\">\\n  <h4 class=\\\"sidebar__label--inset u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4>\\n  <div class=\\\"flex-grow action-sidebar__sharing-state\\\">\\n    <span class=\\\"action--\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"color\") : stack1), depth0))\n    + \"\\\">\"\n    + alias3((lookupProperty(helpers,\"fa\")||(depth0 && lookupProperty(depth0,\"fa\"))||alias2).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"iconType\") : stack1),((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"icon\") : stack1),{\"name\":\"fa\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":51},\"end\":{\"line\":11,\"column\":98}}}))\n    + \"<span>\"\n    + alias3((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias2).call(alias1,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias2).call(alias1,\"patients.sidebar.action.formSharingTemplate.stateText\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":28},\"end\":{\"line\":12,\"column\":93}}}),{\"name\":\"formatMessage\",\"hash\":{\"sharing\":(depth0 != null ? lookupProperty(depth0,\"sharing\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":12},\"end\":{\"line\":12,\"column\":111}}}))\n    + \"</span>\\n    </span>\\n  </div>\\n</div>\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isResponded\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":0},\"end\":{\"line\":20,\"column\":8}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isCanceled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":0},\"end\":{\"line\":26,\"column\":8}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isWaiting\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":0},\"end\":{\"line\":32,\"column\":8}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isError\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":0},\"end\":{\"line\":41,\"column\":8}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"sidebar--no-results\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"noDetails\")), depth0))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias4).call(alias3,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias2((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias4).call(alias3,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div class=\\\"patient-flow-sidebar__name\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":44},\"end\":{\"line\":12,\"column\":54}}}) : helper)))\n    + \"</div>\\n    <div class=\\\"sidebar__details\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":34},\"end\":{\"line\":13,\"column\":47}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"details\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":47},\"end\":{\"line\":13,\"column\":181}}})) != null ? stack1 : \"\")\n    + \"</div>\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n  </div>\\n  <div class=\\\"u-margin--t-24\\\">\\n    <h3 class=\\\"sidebar__heading\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"activityHeadingText\")), depth0))\n    + \"</h3>\\n    <div class=\\\"u-margin--t-8 sidebar__activity\\\" data-activity-region></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <span class=\\\"worklist-patient-sidebar__user-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"address-card\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":56},\"end\":{\"line\":4,\"column\":78}}}))\n    + \"</span>\\n    </div>\\n    <div class=\\\"worklist-patient-sidebar__close-icon\\\">\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":44},\"end\":{\"line\":7,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"worklist-patient-sidebar__patient-info js-patient\\\">\\n    <div class=\\\"worklist-patient-sidebar__patient-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"first_name\") || (depth0 != null ? lookupProperty(depth0,\"first_name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"first_name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":56},\"end\":{\"line\":11,\"column\":72}}}) : helper)))\n    + \" \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"last_name\") || (depth0 != null ? lookupProperty(depth0,\"last_name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"last_name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":73},\"end\":{\"line\":11,\"column\":88}}}) : helper)))\n    + \"</div>\\n    <div>\\n      <button class=\\\"button--link\\\">View Patient Dashboard</button>\\n    </div>\\n  </div>\\n  <div class=\\\"worklist-patient-sidebar__widgets\\\" data-widgets-region></div>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"worklist-list__flow-name\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"flowName\") || (depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"flowName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":58},\"end\":{\"line\":15,\"column\":72}}}) : helper)))\n    + \"</div>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"worklist-list__display-icon u-margin--l-8\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"paperclip\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":80},\"end\":{\"line\":28,\"column\":99}}}))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell table-list__item-check js-no-click\\\"><span data-check-region></span></td>\\n<td class=\\\"table-list__cell w-15\\\">\\n  <span class=\\\"worklist-list__patient-sidebar-icon\\\">\\n    <button class=\\\"button-secondary--compact js-patient-sidebar-button\\\">\\n      \"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"address-card\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":6},\"end\":{\"line\":5,\"column\":28}}}))\n    + \"&#8203;\\n    </button>\\n  </span>\\n  <div class=\\\"worklist-list__patient-name js-patient\\\">\\n    \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"first_name\") : stack1), depth0))\n    + \" \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"last_name\") : stack1), depth0))\n    + \"&#8203;\\n  </div>\\n</td>\\n<td class=\\\"table-list__cell worklist-list__item-name\\\">\\n  <span class=\\\"worklist-list__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":43},\"end\":{\"line\":13,\"column\":55}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":62},\"end\":{\"line\":13,\"column\":87}}}) : helper)))\n    + \"<div class=\\\"worklist-list__name\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":4},\"end\":{\"line\":15,\"column\":85}}})) != null ? stack1 : \"\")\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":92},\"end\":{\"line\":15,\"column\":117}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":4},\"end\":{\"line\":16,\"column\":14}}}) : helper)))\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":21},\"end\":{\"line\":16,\"column\":46}}}) : helper)))\n    + \"</div>\\n</td>\\n<td class=\\\"table-list__cell worklist-list__meta\\\">\\n  <span class=\\\"worklist-list__display-icon u-margin--r-16\\\" data-details-region></span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":93},\"end\":{\"line\":20,\"column\":118}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-state-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"state\") || (depth0 != null ? lookupProperty(depth0,\"state\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"state\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":108},\"end\":{\"line\":21,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":133},\"end\":{\"line\":21,\"column\":158}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"owner\") || (depth0 != null ? lookupProperty(depth0,\"owner\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"owner\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":108},\"end\":{\"line\":22,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":133},\"end\":{\"line\":22,\"column\":158}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":33},\"end\":{\"line\":23,\"column\":58}}}) : helper)))\n    + \"<span data-due-date-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":38},\"end\":{\"line\":24,\"column\":63}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":38},\"end\":{\"line\":25,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":9},\"end\":{\"line\":26,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":57},\"end\":{\"line\":27,\"column\":82}}}) : helper)))\n    + \"&#8203;\\n  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasAttachments\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":2},\"end\":{\"line\":28,\"column\":113}}})) != null ? stack1 : \"\")\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":120},\"end\":{\"line\":28,\"column\":145}}}) : helper)))\n    + \"</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"created_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":60},\"end\":{\"line\":30,\"column\":103}}}))\n    + \"&#8203;</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":60},\"end\":{\"line\":31,\"column\":103}}}))\n    + \"&#8203;</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"worklist-list__flow-name\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"flowName\") || (depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"flowName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":58},\"end\":{\"line\":15,\"column\":72}}}) : helper)))\n    + \"</div>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell table-list__item-check js-no-click\\\"><span data-check-region></span></td>\\n<td class=\\\"table-list__cell w-15\\\">\\n  <span class=\\\"worklist-list__patient-sidebar-icon\\\">\\n    <button class=\\\"button-secondary--compact js-patient-sidebar-button\\\">\\n      \"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"address-card\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":6},\"end\":{\"line\":5,\"column\":28}}}))\n    + \"&#8203;\\n    </button>\\n  </span>\\n  <div class=\\\"worklist-list__patient-name js-patient\\\">\\n    \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"first_name\") : stack1), depth0))\n    + \" \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"last_name\") : stack1), depth0))\n    + \"&#8203;\\n  </div>\\n</td>\\n<td class=\\\"table-list__cell w-30\\\">\\n  <span class=\\\"worklist-list__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":41},\"end\":{\"line\":13,\"column\":57}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":64},\"end\":{\"line\":13,\"column\":89}}}) : helper)))\n    + \"<div class=\\\"worklist-list__name\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":4},\"end\":{\"line\":15,\"column\":85}}})) != null ? stack1 : \"\")\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":92},\"end\":{\"line\":15,\"column\":117}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":4},\"end\":{\"line\":16,\"column\":14}}}) : helper)))\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":21},\"end\":{\"line\":16,\"column\":46}}}) : helper)))\n    + \"</div>\\n</td>\\n<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"state\") || (depth0 != null ? lookupProperty(depth0,\"state\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"state\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":108},\"end\":{\"line\":20,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":133},\"end\":{\"line\":20,\"column\":158}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"owner\") || (depth0 != null ? lookupProperty(depth0,\"owner\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"owner\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":108},\"end\":{\"line\":21,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":133},\"end\":{\"line\":21,\"column\":158}}}) : helper)))\n    + \"<progress class=\\\"progress-bar worklist-list__flow-progress\\\" value=\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":137},\"end\":{\"line\":22,\"column\":162}}}) : helper)))\n    + \"</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"created_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":60},\"end\":{\"line\":24,\"column\":103}}}))\n    + \"&#8203;</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":60},\"end\":{\"line\":25,\"column\":103}}}))\n    + \"&#8203;</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"list-page__header\\\">\\n  <div class=\\\"flex list-page__title\\\">\\n    <div data-title-region></div>\\n    <div class=\\\"worklist-list__toggle\\\" data-toggle-region></div>\\n    <div class=\\\"u-margin--l-16\\\" data-search-region></div>\\n  </div>\\n  <div class=\\\"list-page__filters flex\\\">\\n    <div class=\\\"flex u-margin--r-24\\\" data-select-all-region></div>\\n    <div class=\\\"flex flex-align-center w-100\\\" data-filters-region></div>\\n    <div class=\\\"flex\\\">\\n      <span class=\\\"u-margin--r-16 u-text--nowrap\\\" data-date-filter-region></span>\\n      <span class=\\\"worklist-list__filter-sort\\\" data-sort-region></span>\\n    </div>\\n  </div>\\n  <table class=\\\"worklist__header w-100 js-list-header\\\" data-table-region></table>\\n</div>\\n<div class=\\\"flex-region list-page__list js-list\\\" data-list-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"flowHeader\")), depth0))\n    + \"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"actionHeader\")), depth0))\n    + \"\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"flowAttrHeader\")), depth0))\n    + \"\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"actionAttrHeader\")), depth0))\n    + \"\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__header table-list__item-check\\\"></td>\\n<td class=\\\"table-list__header w-15\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"patientHeader\")), depth0))\n    + \"</td>\\n<td class=\\\"table-list__header worklist-list__name-header\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"isFlowList\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":2},\"end\":{\"line\":8,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</td>\\n<td class=\\\"table-list__header worklist-list__meta-header\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"isFlowList\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":2},\"end\":{\"line\":15,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</td>\\n<td class=\\\"table-list__header w-7-5\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"createdHeader\")), depth0))\n    + \"</td>\\n<td class=\\\"table-list__header w-7-5\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"updatedHeader\")), depth0))\n    + \"</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"actionItemTemplate\"))) && lookupProperty(stack1,\"newProgramFlowAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <button class=\\\"js-form button-secondary--compact\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"square-poll-horizontal\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":58},\"end\":{\"line\":15,\"column\":90}}}))\n    + \"</button>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"program-flow__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":42},\"end\":{\"line\":2,\"column\":54}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":61},\"end\":{\"line\":2,\"column\":86}}}) : helper)))\n    + \"<span class=\\\"program-flow__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":115}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell w-60\\\">\\n  <div class=\\\"pos--relative\\\">\\n    <span class=\\\"table-list__meta\\\" data-published-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":64},\"end\":{\"line\":10,\"column\":89}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":60},\"end\":{\"line\":11,\"column\":85}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-due-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":58},\"end\":{\"line\":12,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasForm\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":6},\"end\":{\"line\":16,\"column\":14}}})) != null ? stack1 : \"\")\n    + \"    </span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":11},\"end\":{\"line\":17,\"column\":36}}}) : helper)))\n    + \"<span class=\\\"program-flow__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":42},\"end\":{\"line\":18,\"column\":85}}}))\n    + \"</span>\\n    <span class=\\\"program-flow__sort-handle js-sort\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"grip-vertical\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":52},\"end\":{\"line\":19,\"column\":75}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":82},\"end\":{\"line\":19,\"column\":107}}}) : helper)))\n    + \"</div>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":6},\"end\":{\"line\":6,\"column\":19}}}) : helper)))\n    + \"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <button class=\\\"program-flow__meta button-secondary\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"pen-to-square\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":58},\"end\":{\"line\":8,\"column\":81}}}))\n    + \" Add Details</button>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"program-flow__header js-flow\\\">\\n  <h1 class=\\\"program-flow__name\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder-open\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":33},\"end\":{\"line\":2,\"column\":54}}}))\n    + \" \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":55},\"end\":{\"line\":2,\"column\":65}}}) : helper)))\n    + \"</h1>\\n  <div>\\n    <p class=\\\"program-flow__details\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"details\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":9,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"    </p>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":8},\"end\":{\"line\":10,\"column\":33}}}) : helper)))\n    + \"<span class=\\\"program-flow__meta\\\" data-published-region></span>\\n    <span class=\\\"program-flow__meta\\\" data-owner-region></span>\\n  </div>\\n</div>\\n<div class=\\\"program-flow__actions\\\">\\n  <button class=\\\"button-primary js-add-action\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"circle-plus\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":47},\"end\":{\"line\":16,\"column\":68}}}))\n    + \"<span>\"\n    + alias3(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"headerTemplate\"))) && lookupProperty(stack1,\"action\")), depth0))\n    + \"</span></button>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":22},\"end\":{\"line\":5,\"column\":35}}}) : helper)));\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"u-text--italic\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"sidebarLayoutTemplate\"))) && lookupProperty(stack1,\"noDetails\")), depth0))\n    + \"</span>\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \" is-published\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-on\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":21},\"end\":{\"line\":8,\"column\":40}}}));\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-off\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":48},\"end\":{\"line\":8,\"column\":68}}}));\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"program-sidebar__name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":34},\"end\":{\"line\":1,\"column\":44}}}) : helper)))\n    + \"</h1>\\n<button class=\\\"button--icon program-sidebar__context-menu js-menu\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":67},\"end\":{\"line\":2,\"column\":85}}}))\n    + \"</button>\\n<div class=\\\"u-margin--t-16\\\">\\n  <div class=\\\"program-sidebar__heading\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"sidebarLayoutTemplate\"))) && lookupProperty(stack1,\"details\")), depth0))\n    + \"</div>\\n  <div>\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"details\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":7},\"end\":{\"line\":5,\"column\":154}}})) != null ? stack1 : \"\")\n    + \"</div>\\n  <div class=\\\"program-sidebar__heading\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"sidebarLayoutTemplate\"))) && lookupProperty(stack1,\"state\")), depth0))\n    + \"</div>\\n  <div class=\\\"program-sidebar__published\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":40},\"end\":{\"line\":7,\"column\":77}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":4},\"end\":{\"line\":8,\"column\":75}}})) != null ? stack1 : \"\")\n    + \"\\n    \"\n    + alias3((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias2).call(alias1,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias2).call(alias1,\"programs.program.sidebar.sidebarLayoutTemplate.published\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":20},\"end\":{\"line\":9,\"column\":88}}}),{\"name\":\"formatMessage\",\"hash\":{\"published\":(depth0 != null ? lookupProperty(depth0,\"published\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":4},\"end\":{\"line\":9,\"column\":110}}}))\n    + \"\\n  </div>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"workflows\"))) && lookupProperty(stack1,\"actionItemTemplate\"))) && lookupProperty(stack1,\"newProgramAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <button class=\\\"js-form button-secondary--compact\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"square-poll-horizontal\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":56},\"end\":{\"line\":14,\"column\":88}}}))\n    + \"</button>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"workflows__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":39},\"end\":{\"line\":2,\"column\":51}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":58},\"end\":{\"line\":2,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"workflows__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":116}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell w-60\\\">\\n  <span class=\\\"table-list__meta\\\" data-published-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":62},\"end\":{\"line\":9,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-due-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":56},\"end\":{\"line\":11,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasForm\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":4},\"end\":{\"line\":15,\"column\":12}}})) != null ? stack1 : \"\")\n    + \"  </span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":9},\"end\":{\"line\":16,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"workflows__item-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"workflows\"))) && lookupProperty(stack1,\"flowItemTemplate\"))) && lookupProperty(stack1,\"newProgramFlow\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <span class=\\\"workflows-action--published\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-play\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":48},\"end\":{\"line\":11,\"column\":69}}}))\n    + \"</span>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <span class=\\\"workflows-action--draft\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"pen-to-square\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":44},\"end\":{\"line\":13,\"column\":67}}}))\n    + \"</span>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"workflows__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":53}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":60},\"end\":{\"line\":2,\"column\":85}}}) : helper)))\n    + \"<span class=\\\"workflows__flow-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":112}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell w-60\\\">\\n  <span class=\\\"table-list__meta workflows__flow-status\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isPublished\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":4},\"end\":{\"line\":14,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":9},\"end\":{\"line\":15,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":58},\"end\":{\"line\":16,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"workflows__item-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\n  <span class=\\\"workflows__tab--selected\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"workflows\"))) && lookupProperty(stack1,\"layoutTemplate\"))) && lookupProperty(stack1,\"workflowsLabel\")), depth0))\n    + \"</span>\\n</div>\\n<div class=\\\"workflows__actions\\\" data-add-region></div>\\n<div data-content-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":148},\"end\":{\"line\":1,\"column\":161}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-primary textarea-flex__input js-input\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":61},\"end\":{\"line\":1,\"column\":162}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":163},\"end\":{\"line\":1,\"column\":173}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":72}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"sidebar__section\\\">\\n      <div><h3 class=\\\"sidebar__section-label\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"tagsLabel\")), depth0))\n    + \"</h3></div>\\n      <div data-tags-region></div>\\n    </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\" data-heading-region>\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias4).call(alias3,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias2((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias4).call(alias3,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"publishedLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-published-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"dueDayLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-due-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"formLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-form-region></div></div>\\n    <div class=\\\"flex u-margin--t-24\\\" data-form-sharing-region></div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"canTag\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":4},\"end\":{\"line\":26,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":144},\"end\":{\"line\":1,\"column\":157}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-primary textarea-flex__input js-input\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":61},\"end\":{\"line\":1,\"column\":158}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":159},\"end\":{\"line\":1,\"column\":169}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":72}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"sidebar__section\\\">\\n      <div><h3 class=\\\"sidebar__section-label\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"tagsLabel\")), depth0))\n    + \"</h3></div>\\n      <div data-tags-region></div>\\n    </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias4).call(alias3,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias2((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias4).call(alias3,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"publishedLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-published-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"canTag\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":4},\"end\":{\"line\":23,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":150},\"end\":{\"line\":1,\"column\":163}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" has-error\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"form-error u-margin--b-4\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"error\") || (depth0 != null ? lookupProperty(depth0,\"error\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"error\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":51},\"end\":{\"line\":5,\"column\":62}}}) : helper)))\n    + \"</div>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"pos--relative\\\">\\n  <textarea class=\\\"input-primary textarea-flex__input js-input\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"error\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":92}}})) != null ? stack1 : \"\")\n    + \"\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":93},\"end\":{\"line\":2,\"column\":196}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":197},\"end\":{\"line\":2,\"column\":207}}}) : helper)))\n    + \"</textarea>\\n  <div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":64},\"end\":{\"line\":3,\"column\":74}}}) : helper)))\n    + \" </div>\\n</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"error\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":0},\"end\":{\"line\":5,\"column\":75}}})) != null ? stack1 : \"\")\n    + \"\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias1((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":44},\"end\":{\"line\":7,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n    <div class=\\\"u-margin--t-16\\\" data-state-region></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" is-published\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-on\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":21},\"end\":{\"line\":4,\"column\":40}}}));\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-off\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":48},\"end\":{\"line\":4,\"column\":68}}}));\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-4 u-float--left\\\">\\n  <div class=\\\"programs-sidebar__label\\\">\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programStateTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</div>\\n  <div class=\\\"programs-sidebar__published\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":78}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":75}}})) != null ? stack1 : \"\")\n    + \"\\n    \"\n    + alias1((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias3).call(alias2,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias3).call(alias2,\"programs.sidebar.program.programStateTemplate.published\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":20},\"end\":{\"line\":5,\"column\":87}}}),{\"name\":\"formatMessage\",\"hash\":{\"published\":(depth0 != null ? lookupProperty(depth0,\"published\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":109}}}))\n    + \"\\n  </div>\\n</div>\\n<button class=\\\"js-state-toggle button-secondary programs-sidebar__state-toggle \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":79},\"end\":{\"line\":8,\"column\":124}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":2},\"end\":{\"line\":9,\"column\":73}}})) != null ? stack1 : \"\")\n    + \"\\n  \"\n    + alias1((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias3).call(alias2,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias3).call(alias2,\"programs.sidebar.program.programStateTemplate.toggle\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":18},\"end\":{\"line\":10,\"column\":82}}}),{\"name\":\"formatMessage\",\"hash\":{\"published\":(depth0 != null ? lookupProperty(depth0,\"published\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":2},\"end\":{\"line\":10,\"column\":104}}}))\n    + \"\\n</button>\\n\";\n},\"useData\":true});"],"names":["str","replace","Component","stateEvents","viewEvents","viewOptions","tagName","className","template","this","getState","triggers","onClick","view","domEvent","toggleState","triggerMethod","onStateChangeIsSelected","state","isSelected","show","i18n","intl","StateTemplate","statesCollection","getStates","currentWorkspace","Radio","statuses","STATE_STATUS","statesLists","Droplist","isCompact","initialize","stateId","lists","statesByStatus","groupBy","map","status","collection","headingText","statusLabels","getStateLists","setSelected","states","setState","selected","get","onChangeSelected","popWidth","getOption","getView","$el","outerWidth","templateContext","picklistOptions","itemTemplate","OwnerItemTemplate","TitleOwnerFilterTemplate","currentWorkspaceCache","teamsCollection","cliniciansCache","getTeams","workspace","clinicians","getClinicians","invoke","getAssignableClinicians","placeholderText","hasTeams","hasClinicians","hasCurrentClinician","isTitleFilter","itemTemplateContext","model","type","abbr","getTeam","isSelectlist","infoText","icon","attr","owner","id","currentUser","push","Backbone","length","teamsHeadingText","DueTemplate","onChangeIsActive","isActive","toggleClass","blur","showDatepicker","isDisabled","attributes","disabled","defaultHtml","defaultText","dateFormat","date","isOverdue","datepicker","Datepicker","uiView","selectedDate","listenTo","destroy","onDatepickerDestroy","onChangeStateSelected","timeFormat","start","dayjs","times","_times","n","add","format","NoTimeCompactTemplate","TimeTemplate","align","getClassName","time","getTemplate","canClear","clearText","clear","text","durations","range","duration","NoDurationTemplate","DurationTemplate","FormButton","View","getForm","DetailsTooltip","onRender","flow","getFlow","Tooltip","messageHtml","renderTemplate","name","flowName","details","_formatDetails","ui","trim","slice","ENTER_KEY","keyCodes","DisabledSaveView","SaveView","NameView","ActionNameTemplate","behaviors","InputWatcherBehavior","input","spacer","onWatchKeydown","evt","which","preventDefault","onWatchChange","newText","removeNewline","val","set","isNew","isAdHoc","onDomRefresh","focus","DetailsView","ActionDetailsTemplate","FormView","FormSharingView","FormSharingTemplate","patient","getPatient","sharing","stateOptions","ACTION_SHARING","iconType","color","getSharingOpts","isPending","isSent","isResponded","isCanceled","isWaiting","isError","pick","isDone","LayoutView","childViewTriggers","ActionSidebarTemplate","regions","dueDay","dueTime","form","formSharing","save","activity","el","regionClass","PreloadRegion","attachments","timestamps","comment","menu","onClickMenu","menuOptions","onSelect","bind","Optionlist","outreach","action","hasOutreach","hasForm","onChangeActionState","onChangeOwner","onChangeDueDate","onChangeDuration","onChangeSharing","showAction","isFlowDone","showFormSharing","previous","showOwner","showDueDay","showDueTime","showDuration","onAttach","animSidebar","cloneAction","clonedAction","stopListening","clone","showEditForm","showState","showForm","showSave","showDisabledSave","getRegion","empty","showName","showDetails","showChildView","stateComponent","StateComponent","saveState","ownerComponent","OwnerComponent","getOwner","saveOwner","dueDayComponent","DueComponent","saveDueDate","dueTimeComponent","TimeComponent","saveDueTime","durationComponent","DurationComponent","formView","isShowingForm","formSharingView","isValid","onSave","onCancel","PostCommentView","shouldHideCancel","hasChanged","CommentFormView","modelEvents","post","initials","getClinician","getInitials","showPostView","onConfirmDelete","modal","bodyText","submitText","buttonClass","onSubmit","CreatedTemplate","ClinicianAssignedTemplate","ActionCopiedFromProgramActionTemplate","DetailsUpdatedTemplate","DueDateUpdatedTemplate","DueTimeUpdatedTemplate","DurationUpdatedTemplate","FormUpdatedTemplate","FormRespondedTemplate","FormRemovedTemplate","NameUpdatedTemplate","TeamAssignedTemplate","StateUpdatedTemplate","SharingCanceledTemplate","SharingSentTemplate","CommentView","edit","clinician","canEdit","edited","onClickEdit","onSaveComment","message","edited_at","render","onCancelEdit","onDeleteComment","ActivityView","Templates","ActionClinicianAssigned","ActionCreated","ActionDetailsUpdated","ActionDueDateUpdated","ActionDueTimeUpdated","ActionDurationUpdated","ActionFormUpdated","ActionFormResponded","ActionFormRemoved","ActionNameUpdated","ActionCopiedFromProgramAction","ActionTeamAssigned","ActionRoleAssigned","ActionStateUpdated","recipient","getRecipient","editor","getEditor","program","getProgram","team","to_clinician","to_team","to_state","ActivitiesView","CollectionView","childViewContainer","childView","viewFilter","viewComparator","viewA","viewB","alphaSort","_getSortDate","TimestampsView","createdAt","EmptyView","AttachmentView","downloadTemplate","uploadTemplate","progress","remove","onChangeProgress","isRendered","anime","targets","width","easing","onClickRemove","filename","getFilename","AttachmentsView","collectionEvents","canUploadAttachments","emptyView","file","events","onClickAdd","value","onChangeFile","files","App","onBeforeStart","showView","startPreloader","beforeStart","onStart","options","comments","activityCollection","models","showActivity","showNewCommentForm","showAttachments","createdEvent","find","event_type","newCommentFormView","_action","_clinician","onPostNewComment","onCancelNewComment","attachmentsView","onAddAttachment","onRemoveAttachment","attachment","_patient","created_at","upload","saveAll","then","onDelete","wait","stop","catch","responseData","onStop","trigger","onClickForm","onClickShare","onClickCancel","onClickUndoCancel","FlowStateComponent","onPicklistSelect","shouldSelectDone","setSelectedStatus","isAllDone","popRegion","requireDoneModal","cancelText","doneModal","FlowSidebarTemplate","layoutView","showTimestamps","ProgramStartedTemplate","FlowProgramStarted","FlowClinicianAssigned","FlowDetailsUpdated","FlowNameUpdated","FlowTeamAssigned","FlowRoleAssigned","FlowStateUpdated","opts","response","extend","deleteModal","ProgramNameTemplate","error","ProgramDetailsTemplate","StateView","ProgramStateTemplate","ProgramSidebarTemplate","stateView","published","showErrors","errors","parseErrors","ButtonCompactTemplate","PublishedTemplate","PublishedStates","PUBLISH_STATE_STATUS","draftText","publishedText","conditionalText","mergeOptions","result","isPublishDisabled","isConditionalAvailable","itemClassName","flowStatusInfoText","TeamItemTemplate","FlowPublishedComponent","PublishedComponent","getActions","some","TeamComponent","TagsItemView","TagsAddView","onBeforeRender","shouldShow","TagsListView","onRemove","child","TagsDropList","tagsDroplist","noResultsText","picklistEvents","query","tag","tags","droplist","allTags","showTags","showDroplist","tagsView","removeItemTag","currentView","addChildView","addItemTag","FlowNameTemplate","FlowDetailsTemplate","canTag","can","onChangeFlowStatus","showPublished","showFlow","publishedComponent","tagsComponent","TagsManagerComponent","getTags","addTag","removeTag","FormTemplate","NoFormTemplate","formsCollection","onViewClickForm","getForms","formModels","reject","published_at","reset","days","day","SameDayTemplate","NoDayCompactTemplate","NoDayTemplate","DueDayTemplate","isFromFlow","HeadingView","FormSharingButtonView","heading","due","showHeading","onChangeActionStatus","onChangeDueDay","DueDayComponent","days_until_due","formComponent","FormComponent","saveForm","button","ACTION_OUTREACH","flowId","ItemTemplate","role","WorkspacesItemView","WorkspacesListView","childViewOptions","WorkspacesDropList","onShow","workspaces","member","memberWorkspaces","getWorkspaces","showWorkspaces","workspacesView","removeMemberWorkspace","addMemberWorkspace","WorkspacesComponent","WorkspacesManagerComponent","workspacesComponent","removeModal","ActiveState","active","PendingState","pending","DisabledState","StateCompactTemplate","selectedId","isEditable","onInput","target","EmailView","InfoView","SidebarView","ClinicianSidebarTemplate","email","info","onChangeEnabled","showInfo","showRole","showTeam","cloneClinician","clonedClinician","showEmail","enabled","roleComponent","RoleComponent","getRole","saveRole","teamComponent","saveTeam","workspacesManager","droplistOptions","addClinician","removeClinician","hasTeam","_","propertyOf","escape","fieldRegEx","patientRegEx","valueRegEx","valueDeepRegEx","widgetRegEx","escapes","escapeRegExp","escapeChar","match","escapeTemplate","valueString","deepGetTemplate","dataKey","nestedKeys","keys","each","split","key","buildWidget","widget","widgetModel","isFunction","getKeyValue","getWidgetValue","fields","childValue","shift","currentField","getValue","widgets","dob","age","diff","sex","divider","patientIdentifiers","identifiersArray","identifierType","identifier","displayValue","optionsWidget","getFields","phoneWidget","phone","parsePhoneNumber","formatNational","fieldWidget","templateWidget","index","source","fieldNames","widgetNames","matcher","RegExp","join","fieldKeys","patientKeys","valueOnly","valueKeys","widgetName","offset","first","Function","templateFunction","patientFields","reduce","fieldData","field","data","call","patientTemplate","nestedWidgets","widgetRegions","addRegions","serializeData","arrayWidget","childWidget","widget_type","definition","getArrayValue","arrayValue","filterValue","filter","rejectValue","child_widget","field_name","formWidget","formName","dateTimeWidget","dateTime","inputFormat","groups","WidgetView","content","WidgetCollectionView","SidebarWidgetsView","PatientSidebarTemplate","onClickPatient","fieldName","getDefaultSelectedStates","sortBy","getFilters","getStatesFilters","getFilter","setFilter","filters","getFiltersCount","customFilters","customFiltersCount","size","omit","isNull","statesFilter","defaultStates","isEqual","resetState","getFiltersState","CustomFilterDropList","customFilterDropList","CustomFilterView","filterButton","slug","getOptions","at","customFilter","filterTitle","unshift","customFilterView","CustomFiltersView","String","toLowerCase","StatesFilterView","check","showCheck","toggleSelected","selectedStates","includes","checkComponent","CheckComponent","StatesFiltersView","onSelectState","currentStatesList","newStatesList","stateFilter","HeaderView","filtersCount","isClearDisabled","header","replaceElement","statesFilters","StateModel","availableStates","directories","currentClinician","showHeaderView","showCustomFiltersView","showStatesFiltersView","headerView","filteredDirectories","directory","customFiltersView","statesFiltersView","onClearFilters","channelName","radioRequests","childApps","ActionSidebarApp","FlowSidebarApp","ProgramSidebarApp","programFlow","ProgramFlowSidebarApp","programAction","ProgramActionSidebarApp","ClinicianSidebarApp","PatientSidebarApp","FiltersSidebarApp","startSidebarApp","appName","appOptions","isStarting","stopSidebarApp","sidebarOpts","region","currentApp","startChildApp","getChannel","closeSidebar","TipTemplate","settings","search","isSearching","PicklistItem","hasIdentifiers","ListView","serializeCollection","noop","onRenderChildren","$","removeClass","addClass","DialogView","behaviorClass","InputFocusBehavior","selector","PicklistBehavior","Region","list","showHeader","PatientSearchPicklist","ViewClass","PatientSearchModal","picklist","picklistComponent","onChangeSearch","onClose","prefillText","patientSearchModal","MainNavDroplist","position","outerHeight","getBounds","top","left","isMinimized","userName","workspaceName","AdminToolsDroplist","window","innerHeight","BottomNavView","dashboards","adminTools","canPatientCreate","AppNavView","navMain","navContent","bottomNavContent","onToggleMinimized","removeSelected","NavItemView","onSelected","AppNavCollectionView","PatientsAppNav","worklists","onSearchActive","isDestroyed","InputView","hasError","placeholder","onChange","SexDroplist","patientSex","sexDroplist","male","female","other","BirthdateView","dateSelect","onChangeDate","isAfter","birthdateSelect","DateSelectComponent","ErrorView","errorView","hasSearch","PatientModal","firstName","lastName","PatientModalTemplate","initState","showFirstNameView","showLastNameView","showSexDroplist","showBirthDatePicker","showWorkspacesComponent","patientModal","errorField","shouldFocus","birthDatePicker","addWorkspace","removeWorkspace","mixinState","defaults","dashboardsNav","icons","event","eventArgs","adminNavMenu","patientsAppWorkflowsNav","RouterApp","eventRoutes","routes","route","partial","setWorkspace","root","defer","replaceUrl","getDefaultRoute","workspaceSlug","onNoMatch","startAfterInitialized","bootstrapCh","showMainNavDroplist","routerCh","SearchApp","selectNav","navMatch","getNavMatch","compact","onChangeCurrentApp","setSelectedAdminNavItem","onChangeIsMinimized","showBottomNavView","showNav","currentAppName","store","_navMatch","navCollection","storedState","setView","selectedApp","bottomNavView","dashboardsNavView","workspacesMenu","navView","workflowsCollectionView","showSearch","hotkeyCh","getChildView","searchApp","onClickDashboards","onClickAddPatient","showPatientModal","onClickMinimizeMenu","getNewPatient","_workspaces","patientClone","bodyView","headerIcon","patientAccountManaged","getPatientModal","disableSubmit","detail","errorCode","birth_date","FormWidgetsHeaderView","getWidgetFields","getWidgets","ContextTrailView","actionTemplate","onClickBack","routeToPatient","onClickDashboard","FormStateActionsView","isActionShown","hasHistory","responses","hasAction","renderSidebarTooltip","renderExpandTooltip","renderHistoryTooltip","sidebarButton","expandButton","historyButton","formActionsView","hideActionSidebar","showActionSidebar","decreaseWidth","increaseWidth","currentVersion","responseHistory","contextTrail","formUpdated","formAction","sidebar","stateActions","IframeView","IframeFormBehavior","responseId","StoredSubmissionView","updated","onDiscard","storedSubmissionView","discardModal","PreviewView","StatusView","ReadOnlyView","SaveButtonTypeDroplist","saveView","droplistItemText","saveAndGoBack","currentSaveButtonType","droplistLabel","isCheckable","LastUpdatedView","renderInterval","setInterval","onBeforeDestroy","clearInterval","saveType","saveButtonType","showSaveButton","showSaveGoBackButton","saveButtonTypeDroplist","UpdateView","HistoryDroplist","HistoryView","versions","responseDroplist","AppClass","regionName","widgetHeader","WidgetsHeaderApp","initFormState","isActionSidebar","isExpanded","shouldShowHistory","patientActionId","onFail","onBeforeStop","removeChildApp","getFormResponses","isReadOnly","isSubmitHidden","startFormService","showStateActions","showFormActions","showSidebar","formService","addChildApp","FormsService","bindEvents","serviceEvents","shouldSaveAndGoBack","onFormServiceSubmit","loadingModal","onFormServiceSuccess","_created_at","onFormServiceError","showFormSave","onFormServiceReady","onFormServiceUpdateSubmission","showLastUpdated","onChangeState","onChangeResponseId","showContent","formStateActions","onClickSidebarButton","onClickExpandButton","onClickHistoryButton","stopChildApp","sidebarApp","showReadOnly","showFormStatus","showFormHistory","showFormUpdate","showFormSaveDisabled","historyView","updateView","lastUpdatedView","selectedSaveButtonType","formId","patientId","actionsView","routerAppName","FormApp","formPreview","FormPreviewApp","patientForm","FormPatientApp","showFormAction","startCurrent","showFormPatient","showFormPreview","constructor","_current","initRouter","on","stopCurrent","arguments","_eventRoutes","normalizeMethods","startRoute","apply","mixinOptions","app","getCurrent","actionBeingEdited","lastSelectedIndex","selectedActions","isBeingEdited","getSelectedList","selectedIndex","currentSelectedList","newSelectedList","getSelected","collectionSelected","item","clearSelected","selectMultiple","selectedIds","newLastSelectedIndex","actionId","defaultInitialState","_state","_owner","due_date","due_time","updated_at","getIsOverdue","dueDateTime","isBefore","FlowsStateComponent","flows","complete","flowsStateComponent","BulkEditButtonView","isFlowList","BulkEditActionsHeaderView","isDevelop","_DEVELOP_","itemCount","bulkEditActionsHeaderView","confirmDeleteActionsModal","BulkEditFlowsHeaderView","bulkEditFlowsHeaderView","confirmDeleteFlowsModal","BulkEditActionsBodyView","BulkEditActionBodyTemplate","dueDate","showDueDateTime","getStateComponent","getOwnerComponent","someComplete","bulkOwnerInfoText","getDueDateComponent","getDueTimeComponent","getDurationComponent","setOwner","showDueDate","dueDateComponent","setDueDate","setDueTime","setDuration","ApplyOwnerView","onClickSelect","BulkEditFlowsBodyView","BulkEditFlowBodyTemplate","applyOwner","showApplyOwner","BulkEditFlowsSuccessTemplate","BulkEditActionsSuccessTemplate","BulkDeleteFlowsSuccessTemplate","BulkDeleteActionsSuccessTemplate","initModel","initBulkState","initBulkOwner","initBulkDueDate","initBulkDueTime","initBulkDuration","stateMulti","ownerMulti","dateMulti","timeMulti","durationMulti","stateChanged","ownerChanged","dateChanged","timeChanged","durationChanged","getPatients","getSharedWorkspaces","getData","saveData","hasLatestList","onEditing","isEditing","HeaderTemplate","FlowOwnerComponent","onChangeFlowProgress","prog","max","total","ActionItemView","ActionItemTemplate","hasAttachments","shiftKey","selectedView","isShiftKeyPressed","children","findIndexByView","handleClickShiftMultiSelect","minIndex","Math","min","maxIndex","actionList","tools","selectAll","SelectAllView","AddWorkflowOptlist","addWorkflowOptlist","isProgramAction","actionIcon","classes","AddButtonView","onNew","SubRouterApp","ActionApp","bulkEditActions","BulkEditActionsApp","toggleBulkSelect","resetStateDefaults","actions","currentRoute","addOpts","getAddOpts","getProgramFlow","showActionList","onActionChangeState","onActionDestroy","onFlowChangeOwner","_progress","ownerTeam","onEditFlow","itemType","showAdd","showSelectAll","showBulkEditButtonView","bulkEditButtonView","onClickBulkCancel","onClickBulkEdit","showUpdateSuccess","restart","showDeleteSuccess","showDisabledSelectAll","isSelectAll","isSelectNone","selectAllView","onClickBulkSelect","onAddProgramAction","getAction","actionApp","getChildApp","listenToOnce","optEvents","programs","comparator","getLists","getProgramsOpts","newActionOpt","new","programItems","getPublished","noResultsOpt","getItemSearchText","itemsOpts","getProgramItemsOpts","RowBehavior","Behavior","onInitialize","DoneBehavior","delay","opacity","css","FlowItemView","FlowItemTemplate","childViewEvents","addWorkflow","loading","LayoutTemplate","onClickArchive","loop","direction","AddWorkflowApp","groupByDone","notDone","getFilterIds","addworkflow","onAddNewAction","onAddProgramFlow","onEditAction","modelA","modelB","done","startPatientAction","dashboard","DashboardApp","archive","ArchiveApp","currentAppOptions","editActionList","startActionList","currentActionList","isRunning","relativeRanges","RELATIVE_DATE_RANGES","actionsSortId","flowsSortId","actionsDateFilters","dateType","selectedMonth","selectedWeek","relativeDate","flowsDateFilters","isFiltering","clinicianId","teamId","noOwner","selectedFlows","searchQuery","listType","preinitialize","getStoreKey","getStore","setDateFilters","getType","getDateFilters","isFlowType","getSort","setSort","sortId","formatDateRange","rangeType","startOf","endOf","getEntityDateFilter","prev","unit","relativeRange","subtract","isDoneOnly","getAvailableStates","onlyDoneStates","setDefaultFilterStates","getSelectedStates","availableStateFilterIds","contains","NIL_UUID","getEntityFilter","filtersState","dateFilter","canViewAssignedActions","listName","currentList","newList","searchWords","words","word","ActionTooltipTemplate","ActionEmptyView","showDetailsTooltip","FlowTooltipTemplate","FlowEmptyView","ReadOnlyFlowStateView","readOnlyStateView","toggle","sort","table","title","listHeader","select","userActivityCh","fixWidth","headerWidth","listWidth","contents","listPadding","parseInt","scrollbarWidth","paddingRight","TypeToggleView","buttons","onClickToggleActions","onClickToggleFlows","NoOwnerToggleView","click","worklistIcons","ListTitleView","ownerToggle","tooltip","worklistId","underscored","showOwnerDroplist","tooltipTemplate","orientation","AllFiltersButtonView","TableHeaderView","TableHeaderTemplate","EmptyFindInListView","onListItemRender","searchString","searchList","isAttached","removeFilter","matchers","buildMatchersArray","every","test","SortDroplist","sortDroplist","allFilters","AllFiltersApp","toggleFiltering","allFiltersButtonView","showFiltersSidebar","filterState","stateModel","TypeView","FilterTypeView","DateTemplate","MonthTemplate","WeekTemplate","RelativeTemplate","DefaultTemplate","ControllerView","next","getLabelTemplate","selectedEndWeek","getTooltips","tooltipMessages","getTooltipMessages","prevMessage","nextMessage","_getTooltipDayMessage","_getTooltipMonthMessage","_getTooltipWeekMessage","month","week","ts","prevWeek","nextWeek","ActionsView","component","DateRanges","Picklist","onItemSelect","relativeSets","setRelativeDate","setMonth","setWeek","setDate","incrementBackward","incrementForward","DateFilterPickerComponent","getActionsView","onClickToday","onClickCurrentWeek","onClickCurrentMonth","onSelectToday","regionOptions","dateTypes","showPop","collectionOf","dateTypeState","popView","showRanges","showDateTypes","selectedRange","dateRanges","showDatePicker","datePicker","canSelectMonth","showIn","InputTemplate","SearchView","onClear","onViewClear","onViewWatchChange","getEntityFieldValue","entity","patientField","getField","SortOption","field_key","entities","getComparator","sortType","a","b","aValue","bValue","numSort","SortOptions","getByType","entityType","filtered","option","getInclude","uniq","patientNameComparator","getSortName","updatedAtComparator","createdAtComparator","defaultSortOptions","dueA","dueB","FiltersApp","restartWithParent","bulkEditFlows","BulkEditFlowsApp","onChangeStateSort","setComparator","initListState","isFiltersSidebarOpen","isRestarting","showListTitle","showTypeToggleView","showSortDroplist","showTableHeaders","showDateFilter","shouldShowClinician","shouldShowTeam","showSearchView","startFiltersApp","include","sortOptions","filteredCollection","collectionView","filtersApp","isSidebarOpen","dateFilterComponent","DateFilterComponent","customSort","union","getSortOptions","sortSelect","tableHeadersView","shouldShowOwnerToggle","listTitleView","showOwnerToggle","ownerDroplistView","OwnerDroplist","getOwnerFilterOptions","ownerToggleView","ownerFilterHeadingText","teamsFilterHeadingText","teamsFilterPlaceholderText","typeToggleView","searchComponent","SearchComponent","setSearchState","dateFilters","ScheduleTitleView","DayItemView","isReduced","onClickPatientSidebarButton","DayListView","today","isToday","isSame","ScheduleListView","isEmpty","originalCollection","setVisibleChildren","onChildFilter","debounce","visibleActions","cv","concat","pluck","sortedCollection","getSortedCollection","indexOfSelectedAction","findIndex","sortedArrayOfActions","dueDateA","dueDateB","showScheduleTitle","showScheduleList","changed","groupByDate","scheduleTitleView","FlowApp","PatientApp","ownedBy","WorklistApp","forTeam","newPastDay","pastThree","lastThirty","schedule","ScheduleApp","isList","showPatient","showPatientsWorklist","worklistsById","showSchedule","ReducedScheduleApp","ItemView","ClinicianModal","ClinicianModalTemplate","showNameView","showEmailView","clinicianModal","_getClinician","disabled_at","showClinicianSidebar","onClickAddClinician","showAddModal","clinicianClone","getClinicianModal","values","cliniciansAll","CliniciansAllApp","showCliniciansAll","dashboardId","dashboardsAll","DashboardsAllApp","showDashboardsAll","showDashboard","viewTriggers","showDue","isPublished","AddActionDroplist","programId","actionDroplistMenu","onEditItem","_program","_program_flow","SidebarTemplate","startProgramAction","startFlowSidebar","workflows","WorkflowsApp","emptySidebar","editList","currentWorkflow","sidebarView","onEdit","handle","shouldDisable","updateDisabled","shouldDisabled","sortable","Sortable","onEnd","oldIndex","newIndex","movedModel","splice","onClickProgram","programName","SortableList","last","onDragEnd","updateSequences","onChangeId","maintainFlowActions","showProgramSidebar","programActions","onEditProgram","editAction","sequence","programsAll","ProgramsAllApp","ProgramApp","programflow","ProgramFlowApp","showProgramsAll","showProgram","showProgramFlow","routers","NavApp","SidebarService","updateClinicians","startPatientsMain","DashboardsMainApp","CliniciansMainApp","ProgramsMainApp","initFormsApp","router","ReducedPatientsMainApp","PatientsMainApp","formsApp","FormsApp","toggleNav","Handlebars","module","exports","container","depth0","helpers","partials","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","hooks","helperMissing","nullContext","helper","alias3","alias4","alias5"],"sourceRoot":""}