{"version":3,"file":"20230303-497-9ab10c2de94322d2d98e.js","mappings":"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","sources":["webpack://care-ops-frontend/./src/js/auth.js","webpack://care-ops-frontend/./src/js/base/app.js","webpack://care-ops-frontend/./src/js/base/collection.js","webpack://care-ops-frontend/./src/js/base/component.js","webpack://care-ops-frontend/./src/js/base/control.js","webpack://care-ops-frontend/./src/js/base/entity-service.js","webpack://care-ops-frontend/./src/js/base/fetch.js","webpack://care-ops-frontend/./src/js/base/fontawesome.js","webpack://care-ops-frontend/./src/js/base/jsonapi-mixin.js","webpack://care-ops-frontend/./src/js/base/model.js","webpack://care-ops-frontend/./src/js/base/domapi.js","webpack://care-ops-frontend/./src/js/base/backbone-fetch.js","webpack://care-ops-frontend/./src/js/base/dayjs.js","webpack://care-ops-frontend/./src/js/base/helpers.js","webpack://care-ops-frontend/./src/js/utils/formatting/match-text.js","webpack://care-ops-frontend/./src/js/base/hotkeys.js","webpack://care-ops-frontend/./src/js/base/uuid.js","webpack://care-ops-frontend/./src/js/base/setup.js","webpack://care-ops-frontend/./src/js/behaviors/input-focus.js","webpack://care-ops-frontend/./src/js/behaviors/input-watcher.js","webpack://care-ops-frontend/./src/js/behaviors/key-listener.js","webpack://care-ops-frontend/./src/js/behaviors/picklist-transport.js","webpack://care-ops-frontend/./src/js/components/datepicker/datepicker_views.js","webpack://care-ops-frontend/./src/js/components/datepicker/datepicker_state.js","webpack://care-ops-frontend/./src/js/components/datepicker/index.js","webpack://care-ops-frontend/./src/js/components/dateselect/dateselect_views.js","webpack://care-ops-frontend/./src/js/components/dateselect/index.js","webpack://care-ops-frontend/./src/js/components/droplist/index.js","webpack://care-ops-frontend/./src/js/components/optionlist/index.js","webpack://care-ops-frontend/./src/js/components/picklist/index.js","webpack://care-ops-frontend/./src/js/utils/formatting/has-all-text.js","webpack://care-ops-frontend/./src/js/components/tooltip/index.js","webpack://care-ops-frontend/./src/js/entities-service/entities/forms.js","webpack://care-ops-frontend/./src/js/entities-service/forms.js","webpack://care-ops-frontend/./src/js/regions/preload_region.js","webpack://care-ops-frontend/./src/js/utils/formatting/search-sanitize.js","webpack://care-ops-frontend/./src/js/utils/formatting/build-matcher.js","webpack://care-ops-frontend/./src/js/utils/formatting/collection-of.js","webpack://care-ops-frontend/./src/js/utils/formatting/key-codes.js","webpack://care-ops-frontend/./src/js/utils/formatting/trim.js","webpack://care-ops-frontend/./src/js/utils/formatting/underscored.js","webpack://care-ops-frontend/./src/js/utils/formatting/words.js","webpack://care-ops-frontend/./src/js/views/globals/prelogin/prelogin_views.js","webpack://care-ops-frontend/./src/js/components/dateselect/date-select.hbs","webpack://care-ops-frontend/./src/js/views/globals/prelogin/login-prompt.hbs","webpack://care-ops-frontend/./src/js/views/globals/prelogin/not-setup.hbs","webpack://care-ops-frontend/./src/js/views/globals/prelogin/prelogin.hbs"],"sourcesContent":["import { extend, pick } from 'underscore';\nimport { createAuth0Client } from '@auth0/auth0-spa-js';\nimport Radio from 'backbone.radio';\n\nimport { auth0Config as config } from './config';\n\nimport 'scss/app-root.scss';\n\nimport { LoginPromptView } from 'js/views/globals/prelogin/prelogin_views';\n\nlet auth0;\nconst rwConnection = 'google-oauth2';\nconst RWELL_KEY = 'rw';\nlet token;\n\n// Sets a token when not using auth0;\nfunction setToken(tokenString) {\n  token = tokenString;\n}\n\nfunction getToken() {\n  if (token) return token;\n  if (!auth0 || !navigator.onLine) return;\n\n  return auth0\n    .getTokenSilently()\n    .catch(() => {\n      logout();\n    });\n}\n\n/*\n * authenticate parses the implicit flow hash to determine the token\n * if there is an error it forces a new authorization with a new login\n * If successful, redirects to the initial path and sends the app\n * the token and config org name\n */\nfunction authenticate(success) {\n  return auth0.handleRedirectCallback().then(({ appState }) => {\n    if (appState === '/login') appState = '/';\n\n    if (appState === RWELL_KEY) {\n      appState = '/';\n      localStorage.setItem(RWELL_KEY, 1);\n    }\n\n    window.history.replaceState({}, document.title, appState);\n    success({ name: config.name });\n  });\n}\n\n/*\n * login will occur for any pre-auth flow\n * initially requesting auth0 authorization\n * And authenticating authorization if auth0 redirected to AUTHD_PATH\n */\nfunction login(success) {\n  if (!navigator.onLine) {\n    success({ name: config.name });\n    return;\n  }\n\n  const AUTHD_PATH = '/authenticated';\n  config.redirect_uri = location.origin + AUTHD_PATH;\n  config.audience = 'care-ops-backend';\n\n  if (localStorage.getItem(RWELL_KEY)) {\n    config.connection = rwConnection;\n  }\n\n  const clientConfig = {\n    authorizationParams: config,\n    ...pick(config, 'clientId', 'domain'),\n    cacheLocation: _DEVELOP_ ? 'localstorage' : 'memory',\n  };\n\n  createAuth0Client(clientConfig).then(auth0Client => {\n    auth0 = auth0Client;\n    return auth0.isAuthenticated();\n  }).then(authed => {\n    if (location.pathname === '/logout') {\n      logout();\n      return;\n    }\n\n    // RWell specific login\n    if (location.pathname === `/${ RWELL_KEY }`) {\n      loginWithRedirect({\n        appState: RWELL_KEY,\n        authorizationParams: {\n          connection: rwConnection,\n        },\n      });\n      return;\n    }\n\n    if (location.pathname === AUTHD_PATH) {\n      authenticate(success).catch(() => {\n        forceLogin();\n      });\n      return;\n    }\n\n    if (!authed) {\n      forceLogin(location.pathname);\n      return;\n    }\n\n    if (location.pathname === '/login') {\n      window.history.replaceState({}, document.title, '/');\n    }\n\n    success({ name: config.name });\n  });\n}\n\nfunction logout() {\n  const federated = Radio.request('bootstrap', 'setting', 'federated_logout');\n  localStorage.removeItem(RWELL_KEY);\n  auth0.logout({ logoutParams: { returnTo: location.origin, federated } });\n}\n\nfunction loginWithRedirect(opts) {\n  auth0.loginWithRedirect(extend({ prompt: 'login' }, opts));\n}\n\nfunction forceLogin(appState = '/') {\n  // iframe buster\n  if (top !== self) {\n    top.location = '/login';\n    return;\n  }\n\n  const connection = String(config.connection);\n\n  if (connection === 'Username-Password-Authentication' || connection.includes('-userpass')) {\n    return loginWithRedirect({ appState });\n  }\n\n  window.history.replaceState({}, document.title, '/login');\n\n  const loginPromptView = new LoginPromptView();\n\n  loginPromptView.on('click:login', ()=> {\n    loginWithRedirect({ appState });\n  });\n\n  loginPromptView.render();\n}\n\nexport {\n  setToken,\n  getToken,\n  login,\n  logout,\n};\n","import { bind, isArray, noop, uniqueId } from 'underscore';\nimport { App } from 'marionette.toolkit';\n\nexport default App.extend({\n  triggerStart(options) {\n    this._isLoading = true;\n\n    this._fetchId = uniqueId('fetch');\n    const triggerSyncData = bind(this.triggerMethod, this, 'sync:data', this._fetchId, options);\n    const triggerFail = bind(this.triggerSyncFail, this, this._fetchId, options);\n    const promise = this.beforeStart(options);\n\n    if (!promise) {\n      triggerSyncData();\n      return;\n    }\n\n    Promise.all(isArray(promise) ? promise : [promise])\n      .then(triggerSyncData)\n      .catch(triggerFail);\n  },\n  beforeStart: noop,\n  onSyncData(fetchId, options, args = []) {\n    this._isLoading = false;\n    if (!this.isRunning() || this._fetchId !== fetchId) return;\n\n    this.finallyStart.call(this, options, ...args);\n  },\n  triggerSyncFail(fetchId, options, ...args) {\n    this._isLoading = false;\n    if (!this.isRunning() || this._fetchId !== fetchId) return;\n\n    this.triggerMethod('fail', options, ...args);\n  },\n  isRunning() {\n    return this._isRunning && !this.isLoading();\n  },\n  _isLoading: false,\n  isLoading() {\n    return this._isLoading;\n  },\n});\n\n","import { clone, invoke, extend, map, result } from 'underscore';\nimport Backbone from 'backbone';\n\nimport { getActiveFetcher, registerFetcher } from './control';\nimport JsonApiMixin from './jsonapi-mixin';\n\nexport default Backbone.Collection.extend(extend({\n  fetch(options = {}) {\n    const baseUrl = options.url || result(this, 'url');\n    let fetcher = getActiveFetcher(baseUrl, options);\n\n    /* istanbul ignore if */\n    if (!fetcher) {\n      fetcher = Backbone.Collection.prototype.fetch.call(this, options);\n\n      registerFetcher(baseUrl, fetcher);\n    }\n\n    // Resolve with entity if successful\n    return fetcher.then(response => {\n      return this;\n    });\n  },\n  parse(response) {\n    /* istanbul ignore if */\n    if (!response || !response.data) return response;\n\n    this.cacheIncluded(response.included);\n\n    return map(response.data, this.parseModel, this);\n  },\n  destroy(options) {\n    const models = clone(this.models);\n\n    const destroys = invoke(models, 'destroy', options);\n\n    return Promise.all(destroys);\n  },\n}, JsonApiMixin));\n","import { Component } from 'marionette.toolkit';\n\nexport default Component;\n","const fetchers = [];\n\nfunction registerFetcher(baseUrl, fetcher) {\n  fetchers[baseUrl] = fetcher;\n\n  return fetcher;\n}\n\nfunction getFetcher(baseUrl) {\n  return fetchers[baseUrl];\n}\n\nfunction getActiveFetcher(baseUrl, { abort } = {}) {\n  const fetcher = getFetcher(baseUrl);\n\n  /* istanbul ignore if: async safety */\n  if (fetcher && fetcher.readyState !== 'DONE') {\n    if (abort !== false) {\n      fetcher.abort();\n      return false;\n    }\n\n    return fetcher;\n  }\n\n  return false;\n}\n\nexport {\n  registerFetcher,\n  getFetcher,\n  getActiveFetcher,\n};\n","import { isObject } from 'underscore';\nimport Backbone from 'backbone';\nimport { MnObject } from 'marionette';\nimport { cacheIncluded } from './jsonapi-mixin';\nimport fetcher from 'js/base/fetch';\n\nexport default MnObject.extend({\n  channelName: 'entities',\n\n  Entity: Backbone,\n\n  constructor: function(options) {\n    this.mergeOptions(options, ['Entity']);\n\n    MnObject.apply(this, arguments);\n  },\n  getCollection(models, options = {}) {\n    return new this.Entity.Collection(models, options);\n  },\n  getModel(attrs, options) {\n    if (attrs && !isObject(attrs)) attrs = { id: attrs };\n    return new this.Entity.Model(attrs, options);\n  },\n  fetchCollection(options) {\n    const collection = new this.Entity.Collection();\n\n    return collection.fetch(options);\n  },\n  fetchModel(modelId, options) {\n    const model = new this.Entity.Model({ id: modelId });\n\n    return model.fetch(options);\n  },\n  async fetchBy(url) {\n    const response = await fetcher(url);\n\n    if (!response.ok) return Promise.reject(response);\n\n    const { included, data } = await response.json();\n\n    cacheIncluded(included);\n\n    const model = new this.Entity.Model({ id: data.id });\n    model.set(model.parseModel(data));\n\n    return Promise.resolve(model);\n  },\n});\n\n","//  Similar to https://github.com/akre54/Backbone.Fetch\nimport $ from 'jquery';\nimport { isObject, defaults, extend } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport { getToken } from 'js/auth';\n\n// Makes data object into `/url?param1=value1&param2=value2` string\nfunction getUrl(url, data) {\n  if (!isObject(data)) return url;\n\n  const params = $.param(data);\n  if (!params) return url;\n\n  return `${ url }?${ params }`;\n}\n\nexport function getData(response, dataType) {\n  if (dataType === 'json' && response.status !== 204) return response.json();\n  return response.text();\n}\n\nexport function handleJSON(response) {\n  if (!response.ok) return Promise.reject(response);\n\n  return getData(response, 'json');\n}\n\nexport default async(url, opts) => {\n  const token = await getToken();\n\n  const options = extend({}, opts);\n\n  if (options.method === 'GET') {\n    url = getUrl(url, options.data);\n  } else if (options.data) {\n    options.body = options.data;\n  }\n\n  defaults(options, {\n    dataType: 'json',\n    headers: defaults(options.headers, {\n      'Accept': 'application/vnd.api+json',\n      'Authorization': `Bearer ${ token }`,\n      'Content-Type': 'application/vnd.api+json',\n    }),\n  });\n\n  // Attach preferred workspace to request\n  const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n  if (currentWorkspace) options.headers.Workspace = currentWorkspace.id;\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        if (response.status === 401) {\n          Radio.request('auth', 'logout');\n          return Promise.reject(response);\n        }\n\n        // FIXME: Should be >= 500, but missing Cypress stubs cause wide failures\n        if (response.status === 500) {\n          Radio.trigger('event-router', 'error');\n          return Promise.reject(response);\n        }\n      }\n\n      return response;\n    });\n};\n","import { partial } from 'underscore';\nimport Handlebars from 'handlebars/runtime';\nimport '@fortawesome/fontawesome-svg-core/styles.css';\n\nfunction faHelper(prefix, iconName, { hash = {} }) {\n  const svgId = `${ prefix }-fa-${ iconName }`;\n  const svgClass = `fa-${ iconName }`;\n  const svgClasses = hash.classes || '';\n  const svg = `<svg class=\"icon svg-inline--fa ${ svgClass } ${ svgClasses }\"><use xlink:href=\"#${ svgId }\"></use></svg>`;\n\n  return new Handlebars.SafeString(svg);\n}\n\n// {{far \"acorn\"}} -> <svg ...>\nHandlebars.registerHelper({\n  far: partial(faHelper, 'far'),\n  fas: partial(faHelper, 'fas'),\n  fal: partial(faHelper, 'fal'),\n  fa: faHelper,\n});\n","import { each, isArray, isNull, isObject, isUndefined, map, pick } from 'underscore';\nimport dayjs from 'dayjs';\nimport Store from 'backbone.store';\n\nimport underscored from 'js/utils/formatting/underscored';\n\nexport function cacheIncluded(included) {\n  each(included, data => {\n    const Model = Store.get(data.type);\n    const model = new Model({ id: data.id });\n    model.set(model.parseModel(data));\n  });\n}\n\nexport default {\n  cacheIncluded,\n  // Override to handle specific id parsing\n  parseId(attrs = {}, id) {\n    attrs.id = id;\n\n    return attrs;\n  },\n  // Override to handle specific relationships\n  parseRelationship(relationship) {\n    if (!relationship) return relationship;\n\n    if (!isArray(relationship)) {\n      return relationship.id;\n    }\n\n    return map(relationship, item => {\n      const itemRelationship = { id: item.id };\n\n      if (item.meta) {\n        each(item.meta, (value, key) => {\n          itemRelationship[`_${ underscored(key) }`] = value;\n        });\n      }\n\n      return itemRelationship;\n    });\n  },\n  // Creates model relationship ie: _factors: [{id: '1'}, {id: '2'}]\n  parseRelationships(attrs, relationships) {\n    each(relationships, (relationship, key) => {\n      attrs[`_${ underscored(key) }`] = this.parseRelationship(relationship.data, key);\n    });\n\n    return attrs;\n  },\n  parseModel(data) {\n    const modelData = this.parseId(data.attributes, data.id);\n\n    modelData.__cached_ts = dayjs.utc().format();\n\n    each(data.meta, (value, key) => {\n      modelData[`_${ underscored(key) }`] = value;\n    });\n\n    return this.parseRelationships(modelData, data.relationships);\n  },\n  toRelation(entity, entityType) {\n    if (isUndefined(entity)) return;\n\n    if (isNull(entity)) return { data: null };\n\n    if (entity.models) {\n      return {\n        data: entity.map(({ id, type }) => {\n          return { id, type };\n        }),\n      };\n    }\n\n    if (isArray(entity)) {\n      return {\n        data: map(entity, item => {\n          const id = item.id ? item.id : item;\n          return { id, type: entityType };\n        }),\n      };\n    }\n\n    if (isObject(entity)) {\n      return { data: pick(entity, 'id', 'type') };\n    }\n\n    return {\n      data: {\n        id: entity,\n        type: entityType,\n      },\n    };\n  },\n};\n","import { extend, isEmpty, pick, reduce, result } from 'underscore';\nimport Backbone from 'backbone';\nimport { getActiveFetcher, registerFetcher } from './control';\nimport JsonApiMixin from './jsonapi-mixin';\n\nexport default Backbone.Model.extend(extend({\n  destroy(options) {\n    if (this.isNew()) {\n      Backbone.Model.prototype.destroy.call(this, options);\n      return Promise.resolve(options);\n    }\n\n    return Backbone.Model.prototype.destroy.call(this, options);\n  },\n  fetch(options) {\n    // Model fetches default to aborting.\n    options = extend({ abort: true }, options);\n\n    const baseUrl = options.url || result(this, 'url');\n    let fetcher = getActiveFetcher(baseUrl, options);\n\n    /* istanbul ignore if */\n    if (!fetcher) {\n      fetcher = Backbone.Model.prototype.fetch.call(this, options);\n\n      registerFetcher(baseUrl, fetcher);\n    }\n\n    // Resolve with entity if successful\n    return fetcher.then(response => {\n      return this;\n    });\n  },\n  parse(response) {\n    /* istanbul ignore if */\n    if (!response || !response.data) return response;\n\n    this.cacheIncluded(response.included);\n\n    return this.parseModel(response.data);\n  },\n  parseErrors({ errors }) {\n    if (!errors) return;\n\n    const attrPointer = '/data/attributes/';\n\n    return reduce(errors, (parsedErrors, { source, detail }) => {\n      const key = String(source.pointer).slice(attrPointer.length);\n      parsedErrors[key] = detail;\n      return parsedErrors;\n    }, {});\n  },\n  removeFEOnly(attrs) {\n    // Removes id and frontend _fields for POST/PATCHes\n    return pick(attrs, function(value, key) {\n      return key !== 'id' && /^[^_]/.test(key);\n    });\n  },\n  toJSONApi(attributes = this.attributes) {\n    return {\n      id: this.id,\n      type: this.type,\n      attributes: this.removeFEOnly(attributes),\n    };\n  },\n  save(attrs, data = {}, opts) {\n    // Supports the prototype overloading\n    if (attrs == null) opts = data;\n\n    data = extend(this.toJSONApi(data.attributes || attrs), data);\n\n    if (isEmpty(data.attributes)) delete data.attributes;\n\n    opts = extend({\n      patch: !this.isNew(),\n      data: JSON.stringify({ data }),\n    }, opts);\n\n    return Backbone.Model.prototype.save.call(this, attrs, opts);\n  },\n  isCached() {\n    return this.has('__cached_ts');\n  },\n}, JsonApiMixin));\n","export default {\n  getEl(selector) {\n    return [selector];\n  },\n\n  findEl(el, selector) {\n    return el.querySelectorAll(selector);\n  },\n\n  detachEl(el) {\n    if (el.parentNode) el.parentNode.removeChild(el);\n  },\n\n  hasContents(el) {\n    return el.hasChildNodes();\n  },\n\n  setContents(el, html) {\n    el.innerHTML = html;\n  },\n\n  appendContents(el, contents) {\n    el.appendChild(contents);\n  },\n\n  detachContents(el) {\n    el.textContent = '';\n  },\n};\n","import { extend } from 'underscore';\nimport Backbone from 'backbone';\nimport baseFetch, { getData } from 'js/base/fetch';\n\nBackbone.ajax = options => {\n  let isAborting = false;\n  const controller = new AbortController();\n\n  options = extend({\n    method: options.type,\n    signal: controller.signal,\n  }, options);\n\n  const fetcher = baseFetch(options.url, options)\n    .then(response => {\n      const promise = getData(response, options.dataType);\n\n      if (response.ok) return promise;\n\n      const error = new Error(response.statusText);\n      return promise.then(responseData => {\n        error.response = response;\n        error.responseData = responseData;\n        if (options.error) options.error(error);\n        else throw error;\n        return Promise.reject(error);\n      });\n    })\n    .then(responseData => {\n      fetcher.readyState = 'DONE';\n      if (options.success) options.success(responseData);\n      return responseData;\n    })\n    .catch(error => {\n      if (!isAborting) throw error;\n    });\n\n  // Store and maintain the readyState/abort on the fetch chain\n  fetcher.readyState = 'LOADING';\n  fetcher.abort = () => {\n    isAborting = true;\n    controller.abort();\n  };\n\n  const fetchThen = fetcher.then;\n\n  fetcher.then = function() {\n    const fetched = fetchThen.apply(this, arguments);\n    fetched.abort = fetcher.abort;\n    fetched.readyState = fetcher.readyState;\n    return fetched;\n  };\n\n  return fetcher;\n};\n\n","import { isFunction } from 'underscore';\nimport dayjs from 'dayjs';\nimport utcPlugin from 'dayjs/plugin/utc';\nimport localizedFormatPlugin from 'dayjs/plugin/localizedFormat';\nimport weekdayPlugin from 'dayjs/plugin/weekday';\nimport customParseFormatPlugin from 'dayjs/plugin/customParseFormat';\n\ndayjs.extend(localizedFormatPlugin);\ndayjs.extend(utcPlugin);\ndayjs.extend(weekdayPlugin);\ndayjs.extend(customParseFormatPlugin);\n\nconst formats = {\n  // Jan 15\n  SHORT: 'MMM D',\n  // Jan 15, 2019\n  LONG: 'll',\n  // 01/15/2019\n  SLASHES: 'L',\n  // 10:46 PM\n  TIME: 'LT',\n  // Jan 15, 2019 10:45 PM\n  AT_TIME: 'lll',\n  DATE(date) {\n    /* istanbul ignore else */\n    if (date.isSame(dayjs(), 'year')) {\n      return date.format(formats.SHORT);\n    }\n    /* istanbul ignore next */\n    return date.format(formats.LONG);\n  },\n  TIME_OR_DAY(date) {\n    if (date.isSame(dayjs(), 'day')) {\n      return date.format(formats.TIME);\n    }\n\n    return formats.DATE(date);\n  },\n};\n\nfunction formatDate(date, format) {\n  const dateFormat = formats[format];\n\n  // Custom dayjs format ie: 'MMM-YYYY'\n  if (!dateFormat) return date.format(format);\n\n  if (isFunction(dateFormat)) return dateFormat(date);\n\n  return date.format(dateFormat);\n}\n\nexport {\n  formatDate,\n};\n\n","import Handlebars from 'handlebars/runtime';\nimport dayjs from 'dayjs';\n\nimport { formatDate } from './dayjs';\nimport matchText from 'js/utils/formatting/match-text';\n\nHandlebars.registerHelper({\n  matchText(text, query, { hash = {} }) {\n    if (!query) return text;\n\n    if (!hash.noEscape) text = Handlebars.escapeExpression(text);\n\n    return new Handlebars.SafeString(matchText(text, query));\n  },\n});\n\nHandlebars.registerHelper({\n  formatDateTime(date, format, { hash = {} }) {\n    if (!date) return new Handlebars.SafeString(hash.defaultHtml || '');\n\n    date = hash.utc ? dayjs.utc(date, hash.inputFormat).local() : dayjs(date, hash.inputFormat);\n\n    date = formatDate(date, format);\n\n    /* istanbul ignore if */\n    if (hash.nowrap === false) return date;\n\n    return new Handlebars.SafeString(`<span class=\"u-text--nowrap\">${ date }</span>`);\n  },\n});\n","// finds results from a query string within the text passed\n// and wraps it in the pretag posttag.  Defaulting to <strong></strong>\n\nimport buildMatcher from 'js/utils/formatting/build-matcher';\n\nexport default (text, query, pretag, posttag) => {\n  if (!text) return;\n\n  pretag = pretag || 'strong';\n  posttag = posttag || pretag;\n\n  const matcher = buildMatcher(query);\n\n  return text.replace(matcher, `<${ pretag }>$&</${ posttag }>`);\n};\n","// Adapted from https://github.com/jeresig/jquery.hotkeys\n\nimport $ from 'jquery';\nimport { contains, each, isString } from 'underscore';\n\nconst specialKeys = {\n  8: 'backspace', 9: 'tab', 10: 'return', 13: 'return', 16: 'shift', 17: 'ctrl', 18: 'alt',\n  19: 'pause', 20: 'capslock', 27: 'esc', 32: 'space', 33: 'pageup', 34: 'pagedown', 35: 'end',\n  36: 'home', 37: 'left', 38: 'up', 39: 'right', 40: 'down', 45: 'insert', 46: 'del', 59: ';',\n  61: '=', 96: '0', 97: '1', 98: '2', 99: '3', 100: '4', 101: '5', 102: '6', 103: '7', 104: '8',\n  105: '9', 106: '*', 107: '+', 109: '-', 110: '.', 111: '/', 112: 'f1', 113: 'f2', 114: 'f3',\n  115: 'f4', 116: 'f5', 117: 'f6', 118: 'f7', 119: 'f8', 120: 'f9', 121: 'f10', 122: 'f11', 123: 'f12',\n  144: 'numlock', 145: 'scroll', 173: '-', 186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/',\n  192: '`', 219: '[', 220: '\\\\', 221: ']', 222: '\\'',\n};\n\nconst shiftNums = {\n  '`': '~', '1': '!', '2': '@', '3': '#', '4': '$', '5': '%', '6': '^', '7': '&', '8': '*', '9': '(',\n  '0': ')', '-': '_', '=': '+', ';': ': ', '\\'': '\\'', ',': '<', '.': '>', '/': '?', '\\\\': '|',\n};\n\n// excludes: button, checkbox, file, hidden, image, password, radio, reset, search, submit, url\nconst textAcceptingInputTypes = [\n  'text', 'password', 'number', 'email', 'url', 'range', 'date', 'month', 'week', 'time', 'datetime',\n  'datetime-local', 'search', 'color', 'tel',\n];\n\n// default input types not to bind to unless bound directly\nconst textInputTypes = /textarea|input|select/i;\n\n$.hotkeys = {\n  version: '1.0.0',\n\n  isTargetInput(target) {\n    return textInputTypes.test(target.nodeName)\n    || $(target).attr('contenteditable')\n    || contains(textAcceptingInputTypes, target.type);\n  },\n};\n\nfunction getKeys({ data }) {\n  if (isString(data)) return data.toLowerCase().split(' ');\n  if (data && isString(data.keys)) return data.keys.toLowerCase().split(' ');\n}\n\nfunction getModifier(event, special) {\n  let modif = '';\n\n  each(['alt', 'ctrl', 'shift'], function(specialKey) {\n    if (event[`${ specialKey }Key`] && special !== specialKey) {\n      modif += `${ specialKey }+`;\n    }\n  });\n\n  // metaKey is triggered off ctrlKey erronously\n  if (event.metaKey && !event.ctrlKey && special !== 'meta') {\n    modif += 'meta+';\n  }\n\n  if (event.metaKey && special !== 'meta' && modif.indexOf('alt+ctrl+shift+') > -1) {\n    modif = modif.replace('alt+ctrl+shift+', 'hyper+');\n  }\n\n  return modif;\n}\n\nfunction getPossibleKeys(event, special, character) {\n  const possible = {};\n  const modifier = getModifier(event, special);\n\n  if (special) {\n    possible[modifier + special] = true;\n  } else {\n    possible[modifier + character] = true;\n    possible[modifier + shiftNums[character]] = true;\n\n    // '$' can be triggered as 'Shift+4' or 'Shift+$' or just '$'\n    if (modifier === 'shift+') {\n      possible[shiftNums[character]] = true;\n    }\n  }\n\n  return possible;\n}\n\nfunction keyHandler(handleObj) {\n  const keys = getKeys(handleObj);\n\n  // Only care when a possible input has been specified\n  if (!keys) return;\n\n  const origHandler = handleObj.handler;\n\n  handleObj.handler = function(event) {\n    // Don't fire in text-accepting inputs that we didn't directly bind to\n    if (this !== event.target && $.hotkeys.isTargetInput(event.target)) return;\n\n    const special = event.type !== 'keypress' && specialKeys[event.which];\n    const character = String.fromCharCode(event.which).toLowerCase();\n    const possible = getPossibleKeys(event, special, character);\n\n    for (let i = 0, l = keys.length; i < l; i++) {\n      if (possible[keys[i]]) {\n        return origHandler.apply(this, arguments);\n      }\n    }\n  };\n}\n\neach(['keydown', 'keyup', 'keypress'], event => {\n  $.event.special[event] = {\n    add: keyHandler,\n  };\n});\n\n","import { clone, isString } from 'underscore';\nimport Backbone from 'backbone';\nimport { v4 as uuid } from 'uuid';\n\n// NOTE: Assumes idAttribute is _always_ id\nBackbone.Model.prototype.sync = function(method, model, options) {\n  options = clone(options);\n\n  if (method === 'create') {\n    let data = options.data || options.attrs || model.toJSON(options);\n    if (isString(data)) data = JSON.parse(data);\n    data.data.id = uuid();\n    options.data = JSON.stringify(data);\n  }\n\n  return Backbone.sync(method, model, options);\n};\n","import $ from 'jquery';\nimport _, { extend } from 'underscore';\nimport Backbone from 'backbone';\nimport dayjs from 'dayjs';\nimport Radio from 'backbone.radio';\nimport * as Marionette from 'marionette';\nimport { Component } from 'marionette.toolkit';\nimport DomApi from './domapi';\nimport './backbone-fetch';\nimport './dayjs';\nimport './fontawesome';\nimport './helpers';\nimport './hotkeys';\nimport './uuid';\n\nimport * as Components from 'js/components';\n\nconst { Region, View, CollectionView, setDomApi } = Marionette;\n\nsetDomApi(DomApi);\n\n/* istanbul ignore if */\nif (_DEVELOP_) {\n  Radio.DEBUG = true;\n}\n\n// Expose libraries for the console\nwindow._ = _;\nwindow.$ = $;\nwindow.Backbone = Backbone;\nwindow.Radio = Radio;\nwindow.Marionette = Marionette;\nwindow.dayjs = dayjs;\n\n// Expose components for testing\nwindow.Components = Components;\n\nconst regionShow = Region.prototype.show;\n\n// Allow for components to be shown directly in regions\nRegion.prototype.show = function(view, options) {\n  if (view instanceof Component) {\n    view.showIn(this, null, options);\n\n    return this;\n  }\n\n  return regionShow.call(this, view, options);\n};\n\nconst getBounds = function(ui) {\n  /* istanbul ignore if */\n  if (!this.isAttached()) {\n    return false;\n  }\n\n  // Allow for the user to get the bounds of a different ui elem\n  const $el = ui || this.$el;\n\n  const { left, top } = $el.offset();\n  const outerHeight = $el.outerHeight();\n  const outerWidth = $el.outerWidth();\n\n  return { left, top, outerHeight, outerWidth };\n};\n\nextend(View.prototype, {\n  getBounds,\n});\n\nextend(CollectionView.prototype, {\n  getBounds,\n});\n\nBackbone.Model.prototype.dayjs = function(attr) {\n  const date = this.get(attr);\n\n  // return '', null or undefined explicitly\n  if (!date && date !== 0) {\n    return date;\n  }\n\n  return dayjs(date);\n};\n\n// For use of escaping a string for within a regex\n// http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex#6969486\nRegExp.escape = function(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n};\n","import { Behavior } from 'marionette';\n\nexport default Behavior.extend({\n  selector: 'input',\n\n  ui() {\n    return {\n      input: this.getOption('selector'),\n    };\n  },\n\n  onDomRefresh() {\n    const element = this.ui.input[0];\n    if (!element || !element.style) return;\n    element.style.transform = 'TranslateY(-10000px)';\n    element.focus();\n    setTimeout(function() {\n      /* istanbul ignore next: edge case destroy during timeout */\n      if (!element || !element.style) return;\n      element.style.transform = 'none';\n    }, 30);\n  },\n});\n","import { throttle } from 'underscore';\nimport { Behavior } from 'marionette';\n\nimport keyCodes from 'js/utils/formatting/key-codes';\n\nconst { ENTER_KEY } = keyCodes;\n\nexport default Behavior.extend({\n  events: {\n    'keydown @ui.input': 'watchKeyDown',\n    'keyup @ui.input': 'watchKeyUp',\n    'input @ui.input': 'watchInput',\n  },\n\n  ui: {\n    input: 'input',\n  },\n\n  onDomRefresh() {\n    this._currentText = this.getWatchText();\n  },\n\n  getWatchText() {\n    return this.ui.input.val();\n  },\n\n  watchKeyDown(evt) {\n    this.view.triggerMethod('watch:keydown', evt);\n    this._evt = evt;\n  },\n\n  watchInput() {\n    /* istanbul ignore next */\n    if (!this._evt) return;\n\n    /* istanbul ignore next */\n    if (this._evt.isDefaultPrevented()) return;\n\n    this.watchKeyUp(this._evt);\n  },\n\n  // Both inputInput and inputKeyUp occur for browsers that support both\n  // added throttle here to match contenteditable watchKeyUp implementation\n  // contenteditable doesn't have oninput for contenteditable for IE9+\n  watchKeyUp: throttle(function(evt) {\n    /* istanbul ignore next */\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n\n    this.view.triggerMethod('watch:keyup', evt);\n    this.triggerWatchChange();\n  }, 1),\n\n  triggerWatchChange() {\n    const watchText = this.getWatchText();\n\n    if (watchText === this._currentText) return;\n\n    this._currentText = watchText;\n\n    this.view.triggerMethod('watch:change', watchText);\n  },\n});\n","import { bind, isArray, some } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { Behavior } from 'marionette';\n\nexport default Behavior.extend({\n  initialize() {\n    this.listenTo(Radio.channel('user-activity'), 'document:keydown', this.keydown);\n  },\n\n  keyEvents: {},\n\n  triggerEvent(event, domEvent, keyCode) {\n    if (domEvent.which === keyCode) {\n      this.view.triggerMethod(event, domEvent);\n\n      return true;\n    }\n  },\n\n  keydown(domEvent) {\n    some(this.getOption('keyEvents'), (keyCode, event) => {\n      if (!isArray(keyCode)) {\n        this.triggerEvent(event, domEvent, keyCode);\n        return;\n      }\n\n      return some(keyCode, bind(this.triggerEvent, this, event, domEvent));\n    });\n  },\n});\n","import { Behavior } from 'marionette';\n\nimport keyCodes from 'js/utils/formatting/key-codes';\n\nimport KeyListenerBehavior from './key-listener';\n\nconst { ENTER_KEY, ESCAPE_KEY, DOWN_KEY, TAB_KEY, UP_KEY } = keyCodes;\n\nexport default Behavior.extend({\n  behaviors: [\n    {\n      behaviorClass: KeyListenerBehavior,\n      keyEvents: {\n        'transport:down': DOWN_KEY,\n        'transport:up': UP_KEY,\n        'select': ENTER_KEY,\n        'close': [ESCAPE_KEY, TAB_KEY],\n      },\n    },\n  ],\n\n  options: {\n    items: '.js-picklist-item',\n    scroll: '.js-picklist-scroll',\n  },\n\n  events() {\n    const evts = {};\n\n    // by default 'mouseenter .js-picklist-item'\n    evts[`mouseenter ${ this.getOption('items') }`] = this.onHoverItem;\n\n    return evts;\n  },\n\n  // must be onAttach, so that the width of droplist is already set for scrolling calc\n  onAttach() {\n    const $items = this.getItems();\n    this.scrollTo($items, $items.filter('.is-selected'), 'middle');\n  },\n\n  onHoverItem(evt) {\n    this.updateTransport(this.getItems(), this.view.$(evt.currentTarget));\n  },\n\n  onTransportDown(evt) {\n    evt.preventDefault();\n\n    const $items = this.getItems();\n    const $highlighted = this._getNextHighlighted($items);\n\n    this.updateTransport($items, $highlighted);\n\n    this.scrollTo($items);\n  },\n\n  onTransportUp(evt) {\n    evt.preventDefault();\n\n    const $items = this.getItems();\n    const $highlighted = this._getPrevHighlighted($items);\n\n    this.updateTransport($items, $highlighted);\n\n    this.scrollTo($items);\n  },\n\n  getItems() {\n    return this.view.$(this.getOption('items'));\n  },\n\n  getHighlighted($items) {\n    return $items.filter('.is-highlighted');\n  },\n\n  updateTransport($items, $highlighted) {\n    $items.removeClass('is-highlighted');\n    $highlighted.addClass('is-highlighted');\n  },\n\n  // determines based on what is highlighted (or not)\n  // what the next highlighted item will be when arrow up is pushed\n  _getPrevHighlighted($items) {\n    const $highlighted = this.getHighlighted($items);\n\n    /* istanbul ignore if: complicated generic test, but simple code */\n    if (!$highlighted.length) {\n      return $items.last();\n    }\n\n    const nextIndex = $items.index($highlighted) - 1;\n\n    if (nextIndex < 0) {\n      return $highlighted;\n    }\n\n    return $items.eq(nextIndex);\n  },\n\n  // determines based on what is highlighted (or not)\n  // what the next highlighted item will be when arrow down is pushed\n  _getNextHighlighted($items) {\n    const $highlighted = this.getHighlighted($items);\n\n    /* istanbul ignore if: complicated generic test, but simple code */\n    if (!$highlighted.length) {\n      return $items.first();\n    }\n\n    const nextIndex = $items.index($highlighted) + 1;\n\n    if (nextIndex === $items.length) {\n      return $highlighted;\n    }\n\n    return $items.eq(nextIndex);\n  },\n\n  // looks for the highlighted items position and scrolls the list so that it is shown.\n  // pass 'middle' as the offsetDir to place the highlighted element in the middle\n  // of the scrollable window\n  /* istanbul ignore next: hard to test, but battle tested */\n  scrollTo($items, $scrollItem, offsetDir) {\n    if (!$items.length) return;\n\n    if (!$scrollItem || !$scrollItem.length) {\n      $scrollItem = this.getHighlighted($items);\n    }\n\n    if (!$scrollItem.length) return;\n\n    const $scrollEl = this.view.$(this.getOption('scroll'));\n\n    const picklistScrollTop = $scrollEl.scrollTop();\n    const picklistHeight = $scrollEl.outerHeight();\n    const childViewHeight = $scrollItem.outerHeight();\n    const childViewTop = $scrollItem.position().top;\n    const childViewBottom = childViewTop + childViewHeight - picklistHeight;\n    let offset = 0;\n\n    if (offsetDir === 'middle') {\n      offset = (picklistHeight / 2) - (childViewHeight / 2);\n    }\n\n    if (childViewTop < 0) {\n      $scrollEl.scrollTop(picklistScrollTop + childViewTop + offset);\n    }\n\n    if (childViewBottom > 0) {\n      $scrollEl.scrollTop(picklistScrollTop + childViewBottom + offset);\n    }\n  },\n\n\n  // Keylistener non-transport related events\n  // -----------------------------------------\n\n  // simulates the click trigger on the currently highlighted element\n  onSelect(evt) {\n    evt.preventDefault();\n\n    this.view.$('.is-highlighted').click();\n  },\n});\n","import { times } from 'underscore';\nimport dayjs from 'dayjs';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Region } from 'marionette';\n\nimport './datepicker.scss';\n\nconst LayoutView = View.extend({\n  className: 'datepicker',\n  regionClass: Region.extend({ replaceElement: true }),\n  regions: {\n    calendar: '[data-calendar-region]',\n    monthPicker: '[data-month-picker-region]',\n    actions: '[data-actions-region]',\n  },\n  template: hbs`\n    <div data-month-picker-region></div>\n    <div class=\"datepicker__body\">\n      {{#each dayOfWeek}}<div class=\"datepicker__day\">{{formatDateTime this \"dd\"}}</div>{{/each}}\n      <div data-calendar-region></div>\n    </div>\n    <div data-actions-region></div>\n  `,\n  templateContext() {\n    const dayOfWeek = times(7, index => {\n      return dayjs().weekday(index);\n    });\n\n    return { dayOfWeek };\n  },\n});\n\nconst ActionsView = View.extend({\n  template: hbs`\n    <button class=\"datepicker__button js-today\">{{ @intl.components.datepicker.today }}</button>{{~ remove_whitespace ~}}\n    <button class=\"datepicker__button js-tomorrow\">{{ @intl.components.datepicker.tomorrow }}</button>{{~ remove_whitespace ~}}\n    <button class=\"datepicker__button js-clear\">{{ @intl.components.datepicker.clear }}</button>\n  `,\n  triggers: {\n    'click .js-today': 'click:today',\n    'click .js-tomorrow': 'click:tomorrow',\n    'click .js-clear': 'click:clear',\n  },\n});\n\nconst MonthPickerView = View.extend({\n  className: 'datepicker__header',\n  triggers: {\n    'click .js-next': 'click:nextMonth',\n    'click .js-prev': 'click:prevMonth',\n    'click .js-month': 'click:month',\n  },\n  template: hbs`\n    <div class=\"datepicker__nav flex\">\n      <button class=\"js-prev\">{{fas \"caret-left\"}} {{formatDateTime prevMonth \"MMM\"}}</button>\n      <span {{#if canSelectMonth}}class=\"datepicker__month js-month\"{{/if}}>{{formatDateTime currentMonth \"MMM YYYY\"}}</span>\n      <button class=\"js-next\">{{formatDateTime nextMonth \"MMM\"}} {{fas \"caret-right\"}}</button>\n    </div>\n  `,\n  templateContext() {\n    return {\n      nextMonth: this.model.getNextMonth(),\n      prevMonth: this.model.getPrevMonth(),\n      canSelectMonth: this.getOption('canSelectMonth'),\n    };\n  },\n});\n\nconst CellView = View.extend({\n  className() {\n    if (this.model.get('isOtherMonth')) {\n      return 'is-other-month';\n    }\n    if (this.model.get('isDisabled')) {\n      return 'is-disabled';\n    }\n  },\n  tagName: 'li',\n  getTemplate() {\n    if (this.model.get('isOtherMonth') || this.model.get('isDisabled')) {\n      return hbs`{{ date }}`;\n    }\n\n    return hbs`<a class=\"{{#if isSelected}}is-selected{{/if}}{{#if isToday}} is-today{{/if}}\">{{ date }}</a>`;\n  },\n  triggers: {\n    'click a': 'select',\n  },\n});\n\nconst CalendarView = CollectionView.extend({\n  className: 'datepicker__days',\n  tagName: 'ul',\n  childView: CellView,\n  childViewTriggers: {\n    'select': 'select:date',\n  },\n});\n\nexport {\n  ActionsView,\n  LayoutView,\n  MonthPickerView,\n  CalendarView,\n};\n","import { flatten, map, range } from 'underscore';\nimport Backbone from 'backbone';\nimport dayjs from 'dayjs';\n\nexport default Backbone.Model.extend({\n  initialize({ currentMonth, selectedDate, selectedMonth }) {\n    this.setCurrentMonth(currentMonth);\n    this.setSelectedDate(selectedDate);\n    this.setSelectedMonth(selectedMonth);\n  },\n  setCurrentMonth(date) {\n    // If date === null dayjs(date) will fail\n    const currentMonth = date ? dayjs(date) : dayjs();\n\n    this.set('currentMonth', currentMonth.startOf('month'));\n  },\n  setSelectedDate(date) {\n    if (!date) {\n      this.set({\n        selectedDate: null,\n      });\n      return;\n    }\n\n    date = dayjs(date);\n\n    this.set({\n      selectedDate: date.startOf('day'),\n      currentMonth: date.startOf('month'),\n      selectedMonth: null,\n    });\n  },\n  setSelectedMonth(date) {\n    if (!date) {\n      this.set({\n        selectedMonth: null,\n      });\n      return;\n    }\n\n    const selectedMonth = dayjs(date).startOf('month');\n\n    this.set({\n      selectedMonth,\n      currentMonth: selectedMonth,\n      selectedDate: null,\n    });\n  },\n  getCurrentMonth() {\n    return this.dayjs('currentMonth');\n  },\n  getNextMonth() {\n    return this.dayjs('currentMonth').add(1, 'months');\n  },\n  getPrevMonth() {\n    return this.dayjs('currentMonth').subtract(1, 'months');\n  },\n  getCalendar() {\n    const dates = flatten([\n      this._getPreDates(),\n      this._getDates(),\n      this._getPostDates(),\n    ]);\n\n    return new Backbone.Collection(dates);\n  },\n  _getPreDates() {\n    const startDay = this.getCurrentMonth().weekday();\n\n    // Bail if Sunday (0)\n    if (!startDay) return [];\n\n    const daysInPrev = this.getPrevMonth().daysInMonth();\n\n    return map(range(daysInPrev - (startDay - 1), daysInPrev + 1), day => ({\n      date: String(day),\n      isOtherMonth: true,\n    }));\n  },\n  _getPostDates() {\n    const endDay = this.getCurrentMonth().endOf('month').weekday();\n\n    // Bail if end\n    if (endDay === 6) return [];\n\n    return map(range(1, 7 - endDay), day => ({\n      date: String(day),\n      isOtherMonth: true,\n    }));\n  },\n  _getDates() {\n    const currentMonth = this.getCurrentMonth();\n    const todaysDate = currentMonth.isSame(dayjs(), 'month') && dayjs().date();\n\n    return map(range(1, currentMonth.daysInMonth() + 1), day => {\n      const isDisabled = this._isBeforeBeginDate(day) || this._isAfterEndDate(day);\n\n      return {\n        date: String(day),\n        isDisabled,\n        isSelected: !isDisabled && this._isSelectedDate(day),\n        isToday: todaysDate === day,\n      };\n    });\n  },\n  _isBeforeBeginDate(dateNum) {\n    const beginDate = this.dayjs('beginDate');\n\n    if (!beginDate) return false;\n\n    const date = this.getCurrentMonth().date(dateNum);\n\n    return date.isBefore(beginDate, 'day');\n  },\n  _isAfterEndDate(dateNum) {\n    const endDate = this.dayjs('endDate');\n\n    if (!endDate) return false;\n\n    const date = this.getCurrentMonth().date(dateNum);\n\n    return date.isAfter(endDate, 'day');\n  },\n  _isSelectedDate(dateNum) {\n    const selectedDate = this.dayjs('selectedDate');\n\n    if (!selectedDate || !this.getCurrentMonth().isSame(selectedDate, 'month')) return false;\n\n    return selectedDate.date() === dateNum;\n  },\n});\n","/*\n    Datepicker Component init API\n\n    uiView:                    // required - the view ui $('.selector') is in\n    ui: $('.selector')         // if not defined uiView will be used\n    position: {                // set by default to uiView.getBounds(ui)\n        top: 1,\n        left: 1,\n    }\n\n    state: {\n        beginDate dayjs(),    // No dates selectable before this date\n        endDate: dayjs(),     // No dates selectable after this date\n        currentMonth: dayjs(),\n        selectedDate: dayjs()\n    }\n*/\n\nimport { extend, result } from 'underscore';\n\nimport dayjs from 'dayjs';\n\nimport Component from 'js/base/component';\n\nimport { ActionsView, LayoutView, MonthPickerView, CalendarView } from './datepicker_views';\n\nimport StateModel from './datepicker_state.js';\n\nconst CLASS_OPTIONS = [\n  'position',\n  'uiView',\n  'ui',\n];\n\nexport default Component.extend({\n  StateModel,\n  stateEvents: {\n    'change': 'show',\n    'change:selectedDate': 'onChangeStateSelectedDate',\n    'change:selectedMonth': 'onChangeStateSelectedMonth',\n  },\n  onChangeStateSelectedDate(state, selectedDate) {\n    this.triggerMethod('change:selectedDate', selectedDate);\n  },\n  onChangeStateSelectedMonth(state, selectedMonth) {\n    this.triggerMethod('change:selectedMonth', selectedMonth);\n  },\n  constructor: function(options) {\n    this.mergeOptions(options, CLASS_OPTIONS);\n\n    this.listenTo(this.uiView, 'render destroy', this.destroy);\n\n    Component.apply(this, arguments);\n  },\n  ViewClass: LayoutView,\n  onSelectToday() {\n    const state = this.getState();\n    state.setSelectedDate(dayjs());\n  },\n  onSelectTomorrow() {\n    const state = this.getState();\n    state.setSelectedDate(dayjs().add(1, 'days'));\n  },\n  onSelectClear() {\n    const state = this.getState();\n    state.setSelectedDate(null);\n    state.setSelectedMonth(null);\n  },\n  onBeforeShow(datepicker, view) {\n    view.showChildView('monthPicker', this.getMonthPickerView());\n    view.showChildView('actions', this.getActionsView());\n    view.showChildView('calendar', this.getCalendarView());\n  },\n  getMonthPickerView() {\n    const model = this.getState();\n\n    const monthPickerView = new MonthPickerView({\n      model,\n      canSelectMonth: this.getOption('canSelectMonth'),\n    });\n\n    this.listenTo(monthPickerView, {\n      'click:nextMonth': this.onSelectNextMonth,\n      'click:prevMonth': this.onSelectPrevMonth,\n      'click:month': this.onSelectMonth,\n    });\n\n    return monthPickerView;\n  },\n  getActionsView() {\n    const actionsView = new ActionsView();\n\n    this.listenTo(actionsView, {\n      'click:today': this.onSelectToday,\n      'click:tomorrow': this.onSelectTomorrow,\n      'click:clear': this.onSelectClear,\n    });\n\n    return actionsView;\n  },\n  onSelectNextMonth() {\n    const state = this.getState();\n    state.setCurrentMonth(state.getNextMonth());\n  },\n  onSelectPrevMonth() {\n    const state = this.getState();\n    state.setCurrentMonth(state.getPrevMonth());\n  },\n  onSelectMonth() {\n    const state = this.getState();\n    state.setSelectedMonth(state.getCurrentMonth());\n  },\n  onSelectDate({ model }) {\n    const state = this.getState();\n    const date = model.get('date');\n    const currentMonth = this.getState().getCurrentMonth();\n\n    state.setSelectedDate(currentMonth.date(date));\n  },\n  getCalendarView() {\n    const model = this.getState();\n\n    const calView = new CalendarView({\n      model,\n      collection: model.getCalendar(),\n    });\n\n    this.listenTo(calView, {\n      'select:date': this.onSelectDate,\n    });\n\n    return calView;\n  },\n  position() {\n    return this.uiView.getBounds(this.ui);\n  },\n  regionOptions() {\n    return extend({ popWidth: 256 }, result(this, 'position'));\n  },\n});\n","import { View } from 'marionette';\nimport { isNull } from 'underscore';\nimport dayjs from 'dayjs';\n\nimport DateSelectTemplate from './date-select.hbs';\n\nconst LayoutView = View.extend({\n  template: DateSelectTemplate,\n  regions: {\n    selectRegion: {\n      el: '[data-select-region]',\n      replaceElement: true,\n    },\n  },\n  ui: {\n    cancel: '.js-cancel',\n  },\n  triggers: {\n    'click @ui.cancel': 'click:cancel',\n  },\n  formatDate() {\n    const state = this.getOption('state');\n\n    if (state.selectedDate) {\n      const date = dayjs(state.selectedDate);\n      return date.format('MMM DD, YYYY');\n    }\n\n    if (!isNull(state.month)) {\n      const date = dayjs().month(state.month).year(state.year);\n      return date.format('MMM YYYY');\n    }\n\n    return state.year;\n  },\n  templateContext() {\n    const state = this.getOption('state');\n\n    return {\n      date: this.formatDate(),\n      hasError: state.hasError,\n      isDisabled: state.isDisabled,\n    };\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import { isNull, map, range, times } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\nimport dayjs from 'dayjs';\n\nimport intl from 'js/i18n';\n\nimport Component from 'js/base/component';\nimport Droplist from 'js/components/droplist';\n\nimport { LayoutView } from './dateselect_views';\n\nimport './date-select.scss';\n\nconst i18n = intl.components.dateSelect;\n\nconst monthsCollection = new Backbone.Collection(times(12, idx => {\n  const month = dayjs().month(idx);\n\n  return {\n    value: idx,\n    text: `${ month.format('MMMM') } (${ (idx + 1) })`,\n  };\n}));\n\n// Possible years someone is still alive in\nconst thisYear = dayjs().year();\nconst yearRange = range(thisYear, (thisYear - 120), -1);\n\nconst yearsObj = map(yearRange, function(year) {\n  return { value: year, text: String(year) };\n});\n\nconst SelectList = Droplist.extend({\n  picklistOptions: {\n    isSelectlist: true,\n  },\n  template: hbs`{{ buttonText }}`,\n  viewOptions() {\n    const buttonText = this.getOption('buttonText');\n\n    return {\n      className: 'button-secondary date-select__button',\n      template: this.getOption('template'),\n      templateContext: {\n        buttonText,\n      },\n    };\n  },\n});\n\nconst StateModel = Backbone.Model.extend({\n  defaults: {\n    year: null,\n    month: null,\n    day: null,\n    selectedDate: null,\n    hasError: false,\n    isDisabled: false,\n  },\n  reset() {\n    this.set(this.defaults);\n  },\n});\n\nexport default Component.extend({\n  ViewClass: LayoutView,\n  StateModel,\n  stateEvents: {\n    'change': 'onChangeState',\n    'change:selectedDate': 'onChangeSelectedDate',\n    'change:hasError': 'show',\n  },\n  viewTriggers: {\n    'click:cancel': 'click:cancel',\n  },\n  onChangeState() {\n    if (this.getState('day') && !this.getState('selectedDate')) {\n      const date = dayjs().year(this.getState('year')).month(this.getState('month')).date(this.getState('day'));\n      this.setState({ selectedDate: date });\n      return;\n    }\n\n    this.show();\n  },\n  onChangeSelectedDate(state, selectedDate) {\n    this.triggerMethod('change:date', state, selectedDate);\n  },\n  onClickCancel() {\n    this.getState().reset();\n  },\n  onShow(dateSelect, view) {\n    if (this.getState('selectedDate')) return;\n\n    if (!this.getState('year')) {\n      this.showSelectList(this.getYearSelect(), {\n        field: 'year',\n        view,\n      });\n      return;\n    }\n\n    if (isNull(this.getState('month'))) {\n      this.showSelectList(this.getMonthSelect(), {\n        field: 'month',\n        view,\n      });\n      return;\n    }\n\n    this.showSelectList(this.getDaySelect(), {\n      field: 'day',\n      view,\n    });\n  },\n  getYearSelect() {\n    return new SelectList({\n      collection: new Backbone.Collection(yearsObj),\n      buttonText: i18n.yearPlaceholderText,\n      template: hbs`{{far \"calendar-days\"}}<span>{{ buttonText }}</span>`,\n    });\n  },\n  getMonthSelect() {\n    return new SelectList({\n      collection: monthsCollection,\n      buttonText: i18n.monthPlaceholderText,\n      state: { isActive: true },\n    });\n  },\n  getDaySelect() {\n    return new SelectList({\n      collection: this.getDayOpts(),\n      buttonText: i18n.dayPlaceholderText,\n      state: { isActive: true },\n    });\n  },\n  showSelectList(component, { field, view }) {\n    this.listenTo(component, 'change:selected', model => {\n      this.setState(field, model.get('value'));\n    });\n\n    view.showChildView('selectRegion', component);\n  },\n  getDayOpts() {\n    const date = dayjs().year(this.getState('year')).month(this.getState('month'));\n\n    const daysInMonth = date.daysInMonth();\n    const daysRange = range(1, daysInMonth + 1);\n\n    const daysObj = map(daysRange, function(day) {\n      return { value: day, text: String(day) };\n    });\n\n    return new Backbone.Collection(daysObj);\n  },\n});\n","import { extend, result } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\nimport Component from 'js/base/component';\n\nimport Picklist from 'js/components/picklist';\n\n// NOTE: Use this if you intend to keep the selected state\n\nconst CLASS_OPTIONS = [\n  'align',\n  'collection',\n  'lists',\n  'picklistEvents',\n  'picklistOptions',\n  'popRegion',\n  'popWidth',\n  'position',\n  'viewOptions',\n];\n\nconst picklistOptions = {\n  attr: 'text',\n  canClear: false,\n  headingText: null,\n  infoText: null,\n  isSelectlist: false,\n  placeholderText: null,\n};\n\nconst popWidth = null;\n\nconst viewOptions = {\n  className: 'button-secondary',\n  template: hbs`\n    {{~#if icon}}{{fa icon.type icon.icon classes=icon.classes}}{{/if}}\n    {{~#if (lookup this attr)}}<span>{{lookup this attr}}</span>{{else}}\n      {{~#if defaultText}}<span>{{ defaultText }}</span>{{/if~}}\n    {{/if}}`,\n  templateContext() {\n    return {\n      attr: 'text',\n      defaultText: intl.components.droplist.defaultText,\n    };\n  },\n};\n\nconst StateModel = Backbone.Model.extend({\n  defaults: {\n    isDisabled: false,\n    isActive: false,\n    selected: null,\n  },\n});\n\n\nconst ViewClass = View.extend({\n  initialize({ state }) {\n    this.model = state.selected;\n  },\n  attributes() {\n    return {\n      disabled: this.getOption('state').isDisabled,\n    };\n  },\n  tagName: 'button',\n  triggers: {\n    'click': 'click',\n    'focus': 'focus',\n  },\n});\n\nexport default Component.extend({\n  picklistOptions,\n  popWidth,\n  StateModel,\n  ViewClass,\n  constructor: function(options) {\n    this.mergeOptions(options, CLASS_OPTIONS);\n\n    this.once('show', () => {\n      if (!this.getState('isActive')) return;\n\n      this.showPicklist();\n    });\n\n    Component.apply(this, arguments);\n  },\n  mixinViewOptions(options) {\n    return extend({ state: this.getState().attributes }, viewOptions, result(this, 'viewOptions'), options);\n  },\n  viewEvents: {\n    'click': 'onClick',\n  },\n  onClick() {\n    this.toggleState('isActive');\n  },\n  stateEvents: {\n    'change:isDisabled': 'onChangeIsDisabled',\n    'change:isActive': 'onChangeIsActive',\n    'change:selected': 'onChangeStateSelected',\n  },\n  onChangeIsDisabled() {\n    this.show();\n  },\n  onChangeIsActive(state, isActive) {\n    const view = this.getView();\n    view.$el.toggleClass('is-active', isActive);\n\n    if (!isActive) return;\n\n    // blur off the button so enter won't trigger select repeatedly\n    view.$el.blur();\n\n    this.showPicklist();\n  },\n  onChangeStateSelected(state, selected) {\n    this.show();\n    this.triggerMethod('change:selected', selected);\n  },\n  showPicklist() {\n    const picklist = new Picklist(extend({\n      lists: this.lists || [{ collection: this.collection }],\n      state: { selected: this.getState('selected') },\n    }, result(this, 'picklistOptions')));\n\n    this.popRegion.show(picklist, this.popRegionOptions());\n\n    this.bindEvents(picklist.getView(), this._picklistEvents);\n    this.bindEvents(picklist.getView(), result(this, 'picklistEvents'));\n  },\n  position() {\n    return this.getView().getBounds();\n  },\n  popRegionOptions() {\n    return extend({\n      ignoreEl: this.getView().el,\n      popWidth: result(this, 'popWidth'),\n      align: this.align,\n    }, result(this, 'position'));\n  },\n  _picklistEvents: {\n    'close': 'onPicklistClose',\n    'picklist:item:select': 'onPicklistSelect',\n    'destroy': 'onPicklistDestroy',\n  },\n  onPicklistClose() {\n    this.popRegion.empty();\n  },\n  onPicklistSelect({ model }) {\n    this.popRegion.empty();\n    this.setState('selected', model);\n  },\n  onPicklistDestroy() {\n    this.toggleState('isActive', false);\n  },\n}, {\n  setPopRegion(region) {\n    this.prototype.popRegion = region;\n  },\n});\n","import { extend, result } from 'underscore';\n\nimport Picklist from 'js/components/picklist';\n\n// NOTE: Use this if you do not intend to keep the selected state\n\nconst CLASS_OPTIONS = [\n  'align',\n  'ignoreEl',\n  'popWidth',\n  'position',\n  'uiView',\n  'ui',\n];\n\nconst attr = 'text';\nconst align = 'left';\nconst popWidth = null;\n\nexport default Picklist.extend({\n  attr,\n  align,\n  popWidth,\n  constructor: function(options) {\n    this.mergeOptions(options, CLASS_OPTIONS);\n\n    this.listenTo(this.uiView, 'render destroy', this.destroy);\n\n    Picklist.apply(this, arguments);\n  },\n  viewTriggers: {\n    'close': 'close',\n    'picklist:item:select': 'select',\n  },\n  position() {\n    return this.uiView.getBounds(this.ui);\n  },\n  regionOptions() {\n    return extend({\n      ignoreEl: this.ignoreEl || this.ui[0],\n      popWidth: this.popWidth,\n      align: this.align,\n    }, result(this, 'position'));\n  },\n  onClose() {\n    this.destroy();\n  },\n  onSelect({ model }) {\n    if (model.get('isDisabled')) return;\n\n    const onSelect = model.get('onSelect');\n    onSelect.call(this, model);\n\n    this.destroy();\n  },\n});\n","import { debounce, each, extend, noop, pick, result, size } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport 'scss/modules/forms.scss';\n\nimport intl from 'js/i18n';\nimport hasAllText from 'js/utils/formatting/has-all-text';\n\nimport Component from 'js/base/component';\n\nimport './picklist.scss';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport PicklistBehavior from 'js/behaviors/picklist-transport';\n\nconst CLASS_OPTIONS = [\n  'attr',\n  'canClear',\n  'childView',\n  'childViewEventPrefix',\n  'className',\n  'clearText',\n  'emptyView',\n  'emptyViewOptions',\n  'headingText',\n  'infoText',\n  'isSelectlist',\n  'lists',\n  'noResultsText',\n  'placeholderText',\n  'template',\n];\n\nconst CLASS_OPTIONS_ITEM = [\n  'attr',\n  'getItemSearchText',\n  'isCheckable',\n  'itemClassName',\n  'itemTemplate',\n  'itemTemplateContext',\n];\n\nconst attr = 'text';\nconst canClear = false;\nconst isSelectList = false;\n\nconst PicklistEmpty = View.extend({\n  tagName: 'li',\n  className: 'picklist--no-results',\n  template: hbs`{{ noResultsText }}`,\n  serializeData() {\n    return this.options;\n  },\n});\n\nconst PicklistItem = View.extend({\n  tagName: 'li',\n  itemTemplate: hbs`\n    <div class=\"flex-grow\">{{#if icon}}{{fa icon.type icon.icon classes=icon.classes}}{{/if}}<span>{{matchText text query}}</span></div>\n    {{#if isChecked}}{{fas \"check\" classes=\"u-icon--12 u-margin--l-16\"}}{{/if}}\n  `,\n  itemClassName() {\n    const classNames = [];\n\n    if (this.model.get('isDisabled')) classNames.push('is-disabled');\n    if (this.model.get('hasDivider')) classNames.push('has-divider');\n\n    return classNames.join(' ');\n  },\n  className() {\n    const classNames = ['picklist__item', 'js-picklist-item', result(this, 'itemClassName', '')];\n\n    if (this.model === this.state.get('selected')) classNames.push('is-selected');\n\n    return classNames.join(' ');\n  },\n  triggers: {\n    'click': 'select',\n  },\n  preinitialize(options) {\n    this.mergeOptions(options, ['state', ...CLASS_OPTIONS_ITEM]);\n  },\n  onRender() {\n    this.searchText = this.getItemSearchText(this.model);\n  },\n  getItemSearchText(item) {\n    return this.$el.text();\n  },\n  itemTemplateContext: noop,\n  templateContext() {\n    const isCheckable = this.getOption('isCheckable');\n    const isSelected = this.model === this.state.get('selected');\n    return extend({\n      text: this.model.get(this.attr),\n      query: this.state.get('query'),\n      isChecked: isCheckable && isSelected,\n    }, result(this, 'itemTemplateContext'));\n  },\n  getTemplate() {\n    return this.itemTemplate;\n  },\n});\n\nconst Picklist = CollectionView.extend({\n  className: 'picklist__group',\n  tagName: 'li',\n  template: hbs`\n    {{#if headingText}}<div class=\"picklist__heading\">{{ headingText }}</div>{{/if}}\n    <ul></ul>\n    {{#if infoText}}<div class=\"picklist__info\">{{fas \"circle-info\"}}{{ infoText }}</div>{{/if}}\n  `,\n  serializeCollection: noop,\n  childViewContainer: 'ul',\n  childViewEventPrefix: 'item',\n  modelEvents: {\n    'change:query': 'filter',\n  },\n  viewFilter(view) {\n    view.render();\n    const query = this.model.get('query');\n    return !query || !view.searchText || hasAllText(view.searchText, query);\n  },\n  initialize(options) {\n    this.mergeOptions(options, CLASS_OPTIONS_ITEM);\n  },\n  childViewOptions() {\n    const opts = pick(this, ...CLASS_OPTIONS_ITEM);\n    return extend({ state: this.model }, opts);\n  },\n  templateContext() {\n    return {\n      headingText: this.getOption('headingText'),\n      infoText: this.getOption('infoText'),\n    };\n  },\n});\n\nconst Picklists = CollectionView.extend({\n  behaviors: [\n    {\n      behaviorClass: InputFocusBehavior,\n      selector: '.js-input',\n    },\n    InputWatcherBehavior,\n    PicklistBehavior,\n  ],\n  template: hbs`\n    <div>\n      {{#if headingText}}<div class=\"picklist__heading u-margin--b-8\">{{ headingText }}</div>{{/if}}\n      {{#if isSelectlist}}<input type=\"text\" class=\"js-input picklist__input input-primary--small\" placeholder=\"{{ placeholderText }}\" value=\"{{ query }}\">{{/if}}\n      {{#if canClear}}<div><a class=\"picklist__item js-picklist-item js-clear\">{{ clearText }}</a></div>{{/if}}\n    </div>\n    <ul class=\"flex-region picklist__scroll js-picklist-scroll\"></ul>\n    {{#if infoText}}<div class=\"picklist__info \">{{fas \"circle-info\"}}{{ infoText }}</div>{{/if}}\n  `,\n  triggers: {\n    'focus @ui.input': 'focus',\n    'click @ui.clear': 'clear',\n  },\n  ui: {\n    input: '.js-input',\n    clear: '.js-clear',\n  },\n  onClear() {\n    this.triggerMethod('picklist:item:select', { model: null });\n  },\n  serializeCollection: noop,\n  childViewContainer: 'ul',\n  emptyView: PicklistEmpty,\n  initialize(options) {\n    this.mergeOptions(options, CLASS_OPTIONS);\n    this.mergeOptions(options, CLASS_OPTIONS_ITEM);\n\n    this.debouncedFilter = debounce(this.filter, 1);\n\n    each(this.lists, this.addList, this);\n  },\n  addList(list) {\n    const options = extend({\n      model: this.model,\n      childView: this.childView,\n    }, pick(this, ...CLASS_OPTIONS_ITEM), list);\n\n    const picklist = new Picklist(options);\n\n    picklist.render();\n\n    this.addChildView(picklist);\n  },\n  viewFilter(childView) {\n    return !!size(childView.children) || childView.shouldShow;\n  },\n  childViewEvents: {\n    'before:render:children'() {\n      return this.debouncedFilter();\n    },\n  },\n  onRenderChildren() {\n    this.$('.js-picklist-item').removeClass('is-highlighted');\n\n    if (!this.model.get('query')) return;\n\n    this.$('.js-picklist-item').first().addClass('is-highlighted');\n  },\n  emptyViewOptions() {\n    return { noResultsText: this.noResultsText };\n  },\n  templateContext() {\n    return {\n      canClear: this.canClear,\n      clearText: this.clearText,\n      headingText: this.headingText,\n      infoText: this.infoText,\n      placeholderText: this.placeholderText,\n      isSelectlist: this.isSelectlist,\n    };\n  },\n});\n\nexport default Component.extend({\n  attr,\n  canClear,\n  isSelectList,\n  childView: PicklistItem,\n  className: 'picklist',\n  childViewEventPrefix: 'picklist',\n  clearText: intl.components.picklist.clearText,\n  headingText: '',\n  infoText: '',\n  noResultsText: intl.components.picklist.noResultsText,\n  constructor: function(options) {\n    this.mergeOptions(options, CLASS_OPTIONS);\n    this.mergeOptions(options, CLASS_OPTIONS_ITEM);\n\n    Component.apply(this, arguments);\n  },\n  viewOptions() {\n    const opts = pick(this, ...CLASS_OPTIONS, ...CLASS_OPTIONS_ITEM);\n    return extend({ model: this.getState() }, opts);\n  },\n  ViewClass: Picklists,\n  viewEvents: {\n    'watch:change': 'onWatchChange',\n  },\n  onWatchChange(query) {\n    this.setState('query', query);\n  },\n});\n","import { every } from 'underscore';\n\nimport buildMatcher from 'js/utils/formatting/build-matcher';\nimport words from 'js/utils/formatting/words';\n\nexport default (text, query) => {\n  if (!text) return false;\n\n  return every(words(query), queryWord => {\n    const matcher = buildMatcher(queryWord);\n\n    return !!String(text).match(matcher);\n  });\n};\n","import { bind, delay as _delay, extend, result } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport anime from 'animejs';\nimport { View } from 'marionette';\n\nimport Component from 'js/base/component';\n\nimport './tooltip.scss';\n\nconst CLASS_OPTIONS = [\n  'className',\n  'delay',\n  'ignoreEl',\n  'message',\n  'messageHtml',\n  'orientation',\n  'position',\n  'uiView',\n  'ui',\n];\n\nconst TooltipView = View.extend({\n  template: hbs`{{ message }}{{{ messageHtml }}}`,\n  templateContext() {\n    return {\n      message: this.getOption('message'),\n      messageHtml: this.getOption('messageHtml'),\n    };\n  },\n});\n\nexport default Component.extend({\n  ViewClass: TooltipView,\n  className: 'tooltip',\n  delay: 0,\n  constructor: function(options) {\n    this.mergeOptions(options, CLASS_OPTIONS);\n\n    this.setListeners();\n\n    this.listenTo(this.uiView, 'render destroy', this.destroy);\n\n    Component.apply(this, arguments);\n  },\n  setListeners() {\n    if (!this.ui) return;\n\n    this.ui.on('pointerenter.tooltip', bind(this.showTooltip, this));\n\n    this.ui.on('mouseleave.tooltip', bind(this.hideTooltip, this));\n\n    this.ui.on('pointerdown.tooltip', bind(this.showTooltip, this));\n  },\n  showTooltip() {\n    clearTimeout(this.delayTimeout);\n\n    const delay = result(this, 'delay');\n\n    this.delayTimeout = _delay(bind(this.show, this), delay);\n  },\n  hideTooltip() {\n    clearTimeout(this.delayTimeout);\n\n    this.empty();\n  },\n  onBeforeDestroy() {\n    clearTimeout(this.delayTimeout);\n  },\n  onShow() {\n    anime({\n      targets: this.getView().el,\n      duration: 1500,\n      opacity: [0, 1],\n    });\n  },\n  viewOptions() {\n    return {\n      className: result(this, 'className'),\n      message: result(this, 'message'),\n      messageHtml: result(this, 'messageHtml'),\n    };\n  },\n  position() {\n    return this.uiView.getBounds(this.ui);\n  },\n  regionOptions() {\n    const orientation = result(this, 'orientation');\n    const ignoreEl = result(this, 'ignoreEl');\n    return extend({ orientation, ignoreEl }, result(this, 'position'));\n  },\n});\n","import { get } from 'underscore';\nimport Radio from 'backbone.radio';\nimport Store from 'backbone.store';\nimport BaseCollection from 'js/base/collection';\nimport BaseModel from 'js/base/model';\nimport collectionOf from 'js/utils/formatting/collection-of';\n\nconst TYPE = 'forms';\n\nconst defaultReducer = `\n  const subm = _.extend({ patient: {} }, formSubmission,  formData);\n\n  subm.patient.fields = _.extend({}, _.get(formSubmission, 'patient.fields'), _.get(formData, 'patient.fields'));\n\n  return subm;\n`;\n\nconst defaultBeforeSubmit = 'return formSubmission;';\n\nconst _Model = BaseModel.extend({\n  type: TYPE,\n  urlRoot: '/api/forms',\n  isReadOnly() {\n    return get(this.get('options'), 'read_only');\n  },\n  getReducers() {\n    return get(this.get('options'), 'reducers', [defaultReducer]);\n  },\n  getContext() {\n    return {\n      contextScripts: this.getContextScripts(),\n      reducers: this.getReducers(),\n      changeReducers: this.getChangeReducers(),\n      beforeSubmit: this.getBeforeSubmit(),\n    };\n  },\n  getChangeReducers() {\n    return get(this.get('options'), 'changeReducers', []);\n  },\n  getContextScripts() {\n    return get(this.get('options'), 'context', []);\n  },\n  getBeforeSubmit() {\n    return get(this.get('options'), 'beforeSubmit', defaultBeforeSubmit);\n  },\n  getWidgets() {\n    const formWidgets = get(this.get('options'), 'widgets');\n\n    return Radio.request('entities', 'widgets:collection', collectionOf(get(formWidgets, 'widgets'), 'id'));\n  },\n  getWidgetFields() {\n    const formWidgets = get(this.get('options'), 'widgets');\n\n    return get(formWidgets, 'fields');\n  },\n  getPrefillFormId() {\n    const prefillFormId = get(this.get('options'), 'prefill_form_id');\n\n    if (!prefillFormId) return this.id;\n\n    return prefillFormId;\n  },\n});\n\nconst Model = Store(_Model, TYPE);\nconst Collection = BaseCollection.extend({\n  url: '/api/forms',\n  model: Model,\n  comparator: 'name',\n});\n\nexport {\n  _Model,\n  Model,\n  Collection,\n};\n","import BaseEntity from 'js/base/entity-service';\nimport fetcher, { handleJSON } from 'js/base/fetch';\nimport { _Model, Model, Collection } from './entities/forms';\n\nconst Entity = BaseEntity.extend({\n  Entity: { _Model, Model, Collection },\n  radioRequests: {\n    'forms:model': 'getModel',\n    'forms:collection': 'getCollection',\n    'fetch:forms:model': 'fetchModel',\n    'fetch:forms:collection': 'fetchCollection',\n    'fetch:forms:definition': 'fetchDefinition',\n    'fetch:forms:fields': 'fetchFields',\n    'fetch:forms:byAction': 'fetchByAction',\n    'fetch:forms:definition:byAction': 'fetchDefinitionByAction',\n  },\n  fetchDefinition(formId) {\n    return fetcher(`/api/forms/${ formId }/definition`).then(handleJSON);\n  },\n  fetchFields(actionId, patientId, formId) {\n    if (actionId) {\n      return fetcher(`/api/actions/${ actionId }/form/fields`).then(handleJSON);\n    }\n    return fetcher(`/api/forms/${ formId }/fields?filter[patient]=${ patientId }`).then(handleJSON);\n  },\n  fetchByAction(actionId) {\n    return this.fetchBy(`/api/actions/${ actionId }/form`);\n  },\n  fetchDefinitionByAction(actionId) {\n    return fetcher(`/api/actions/${ actionId }/form/definition`).then(handleJSON);\n  },\n});\n\nexport default new Entity();\n","import anime from 'animejs';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport { Region, View } from 'marionette';\n\nimport 'scss/modules/loader.scss';\n\nconst LoadingTemplate = hbs`\n  <div class=\"loader__bar js-progress-bar\">\n    <div class=\"loader__bar-progress--loop\"></div>\n  </div>\n  <div class=\"loader__text js-loading\">{{ @intl.regions.preload.loading }}</div>\n`;\n\nconst LoadingView = View.extend({\n  className: 'loader',\n  template: LoadingTemplate,\n  ui: {\n    progressBar: '.js-progress-bar',\n    loading: '.js-loading',\n  },\n  onRender() {\n    const timeout = this.getOption('timeout');\n\n    if (!timeout) {\n      this.showLoader(0, 300);\n      return;\n    }\n\n    this.showLoader(timeout / 2, timeout / 2 + 200);\n  },\n  showLoader(delay, duration) {\n    const anim = anime.timeline({\n      easing: 'easeInQuad',\n      delay,\n    });\n\n    anim\n      .add({\n        opacity: [0, 1],\n        targets: this.ui.progressBar[0],\n        duration,\n      })\n      .add({\n        opacity: [0, 1],\n        targets: this.ui.loading[0],\n        duration: duration - 100,\n      }, 100);\n  },\n});\n\nexport default Region.extend({\n  timeout: 500,\n  startPreloader() {\n    this.show(new LoadingView({ timeout: this.getOption('timeout') }));\n  },\n});\n","import trim from 'js/utils/formatting/trim';\n\nexport default str => {\n  str = String(str);\n\n  // dashes to spaces\n  str = str.replace(/\\-/g, ' ');\n\n  // all non alphanumeric characters are removed\n  str = str.replace(/[^\\w\\s]/g, '');\n\n  return trim(str).toLowerCase();\n};\n","// takes a search string and builds a search for each word without the match tag\nimport { map, memoize } from 'underscore';\n\nimport words from 'js/utils/formatting/words';\nimport searchSanitize from 'js/utils/formatting/search-sanitize';\n\nexport default memoize(function(query) {\n  const searchWords = map(words(searchSanitize(query)), RegExp.escape);\n\n  return new RegExp(`\\\\b${ searchWords.join('|') }`, 'gi');\n});\n","// Takes an array and converts each value to the value of the set property\n// collectionOf([1,2,3],'id') => [{'id':1}, {'id': 2}, {'id': 3}]\n\nimport { map, object } from 'underscore';\n\nexport default (list, property) => {\n  return map(list, function(item) {\n    return object([property], [item]);\n  });\n};\n","export default {\n  BACKSPACE_KEY: 8,\n  TAB_KEY: 9,\n  ENTER_KEY: 13,\n  SHIFT_KEY: 16,\n  ESCAPE_KEY: 27,\n  LEFT_KEY: 37,\n  UP_KEY: 38,\n  RIGHT_KEY: 39,\n  DOWN_KEY: 40,\n  AT_KEY_SHIFT: 50,\n};\n","export default (str = '', characters) => {\n  str = String(str);\n  if (!characters) return str.trim();\n  return str.replace(new RegExp(`^${ characters }+|${ characters }+$`, 'g'), '');\n};\n","import trim from 'js/utils/formatting/trim';\n\nexport default str => {\n  if (!str) return str;\n\n  return trim(str).replace(/([a-z\\d])([A-Z]+)/g, '$1_$2').replace(/[-\\s]+/g, '_').toLowerCase();\n};\n","import { isEmpty } from 'underscore';\n\nimport trim from 'js/utils/formatting/trim';\n\nexport default (str, delimiter) => {\n  if (isEmpty(str)) {\n    return [];\n  }\n\n  return trim(str, delimiter).split(delimiter || /\\s+/);\n};\n","import { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport 'scss/modules/fill-window.scss';\n\nimport PreloginTemplate from './prelogin.hbs';\nimport LoginPromptTemplate from './login-prompt.hbs';\nimport NotSetupTemplate from './not-setup.hbs';\n\nimport './prelogin.scss';\n\nconst LoginView = View.extend({\n  triggers: {\n    'click .js-login': 'click:login',\n  },\n  template: LoginPromptTemplate,\n  templateContext: {\n    url: location.host,\n  },\n});\n\nconst LoginPromptView = View.extend({\n  el: '#root',\n  /* istanbul ignore next: unable to test auth views in cypress */\n  onRender() {\n    this.showChildView('content', new LoginView());\n  },\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  template: PreloginTemplate,\n  childViewTriggers: {\n    'click:login': 'click:login',\n  },\n});\n\nconst NotSetupView = View.extend({\n  className: 'prelogin__message',\n  template: NotSetupTemplate,\n});\n\nconst PreloaderView = View.extend({\n  className: 'fill-window',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  template: PreloginTemplate,\n  onRender() {\n    if (this.getOption('notSetup')) {\n      this.showChildView('content', new NotSetupView());\n      return;\n    }\n\n    this.getRegion('content').startPreloader();\n  },\n});\n\nexport {\n  PreloaderView,\n  LoginPromptView,\n};\n","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<button class=\\\"button-secondary  date-select__date\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDisabled\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":50},\"end\":{\"line\":3,\"column\":97}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasError\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":97},\"end\":{\"line\":3,\"column\":130}}})) != null ? stack1 : \"\")\n    + \"\\\" tabindex=\\\"-1\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDisabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":146},\"end\":{\"line\":3,\"column\":179}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"calendar-days\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":180},\"end\":{\"line\":3,\"column\":203}}}))\n    + \"<span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"date\") || (depth0 != null ? lookupProperty(depth0,\"date\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":209},\"end\":{\"line\":3,\"column\":217}}}) : helper)))\n    + \"</span></button>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":233},\"end\":{\"line\":3,\"column\":258}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDisabled\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":0},\"end\":{\"line\":4,\"column\":130}}})) != null ? stack1 : \"\")\n    + \"\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" button__group\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \" has-error\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"disabled\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<button class=\\\"button-secondary--compact button__group js-cancel\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-xmark\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":88},\"end\":{\"line\":4,\"column\":110}}}))\n    + \"</button>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div data-select-region></div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"date\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":5,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"prelogin__header\\\">Sign in to your organization</h1>\\n\\n<h2 class=\\\"prelogin__host\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":27},\"end\":{\"line\":3,\"column\":36}}}) : helper)))\n    + \"</h2>\\n\\n<button class=\\\"prelogin__continue-button button--green js-login\\\">\\n  Continue to sign in\\n  <svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" data-prefix=\\\"fas\\\" data-icon=\\\"right-to-bracket\\\" role=\\\"img\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 512 512\\\" class=\\\"svg-inline--fa fa-right-to-bracket\\\">\\n    <path fill=\\\"currentColor\\\" d=\\\"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z\\\"></path>\\n  </svg>\\n</button>\\n\\n<p class=\\\"prelogin__contact-info\\\">Having trouble signing in? <a href=\\\"https://roundingwell.com/contact/\\\">Contact Us</a></p>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"prelogin__message-header\\\">\\n  \"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-exclamation\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":2,\"column\":30}}}))\n    + \"\\n</div>\\n<div>\\nHold up, your account is not\\nset up yet. Please notify your manager\\nor administrator to correct this issue.\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"prelogin\\\">\\n  <div class=\\\"prelogin__roundingwell-logo\\\">\\n    <svg class=\\\"svg roundingwell-logo\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"174\\\" height=\\\"30\\\" viewBox=\\\"0 0 185 32\\\">\\n      <g></g>\\n      <path d=\\\"M40.975 11.456c-1.339 0.082-2.624 0.683-3.499 1.995v8.501c0 0.547-0.465 1.011-1.039 1.011h-0.027c-0.547-0.027-0.984-0.465-0.984-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.312c0.793-1.039 2.105-2.351 3.635-2.351 0.492 0 0.929 0.41 0.929 0.957 0 0.602-0.465 1.093-1.066 1.121z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M49.53 23.128c-4.018 0-6.533-3.116-6.533-6.943 0-3.827 2.515-6.916 6.533-6.916s6.533 3.089 6.533 6.916c0 3.826-2.514 6.943-6.533 6.943zM49.53 11.101c-2.815 0-4.401 2.406-4.401 5.084 0 2.706 1.585 5.111 4.401 5.111 2.815 0 4.373-2.406 4.373-5.111 0-2.679-1.558-5.084-4.373-5.084z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M68.636 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.011c-1.011 1.148-2.733 2.187-4.701 2.187-2.761 0-4.209-1.34-4.209-4.21v-8.501c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v7.872c0 2.323 1.175 3.007 2.952 3.007 1.613 0 3.143-0.929 3.909-1.995v-8.883c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v11.535c0 0.546-0.465 1.011-1.039 1.011z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M83.013 22.964c-0.547 0-1.011-0.465-1.011-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.465 1.011-1.039 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.093c0.929-1.093 2.733-2.242 4.701-2.242 2.761 0 4.21 1.394 4.21 4.264v8.419c-0 0.547-0.465 1.012-1.039 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M98.046 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.121c-0.984 1.34-2.597 2.296-4.455 2.296-3.444 0-5.877-2.624-5.877-6.915 0-4.21 2.405-6.943 5.877-6.943 1.777 0 3.389 0.875 4.455 2.324v-6.205c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v16.564c0 0.547-0.464 1.012-1.038 1.012zM97.035 13.233c-0.738-1.148-2.324-2.132-3.964-2.132-2.651 0-4.237 2.187-4.237 5.112 0 2.924 1.585 5.084 4.237 5.084 1.64 0 3.226-0.929 3.964-2.077v-5.986z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M103.512 22.964c-0.546 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.535c0 0.547-0.465 1.012-1.039 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M117.89 22.964c-0.547 0-1.012-0.465-1.012-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.464 1.011-1.038 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v1.093c0.93-1.093 2.734-2.242 4.702-2.242 2.76 0 4.209 1.394 4.209 4.264v8.419c0 0.547-0.464 1.012-1.038 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M127.647 28.157c-1.941 0-3.499-0.355-4.947-1.585-0.191-0.164-0.301-0.41-0.301-0.684 0-0.465 0.41-0.875 0.902-0.875 0.218 0 0.41 0.055 0.574 0.191 1.039 0.929 2.214 1.257 3.772 1.257 2.187 0 4.237-1.066 4.237-3.964v-1.886c-0.957 1.34-2.57 2.351-4.428 2.351-3.444 0-5.876-2.569-5.876-6.833 0-4.237 2.405-6.861 5.876-6.861 1.777 0 3.362 0.875 4.428 2.324v-1.175c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.999c0 4.373-3.061 5.74-6.286 5.74zM131.884 13.233c-0.711-1.148-2.296-2.132-3.936-2.132-2.652 0-4.237 2.105-4.237 5.030 0 2.897 1.585 5.029 4.237 5.029 1.64 0 3.225-1.011 3.936-2.16v-5.767z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M155.309 11.237l-3.198 10.332c-0.246 0.82-1.039 1.394-1.886 1.394h-0.055c-0.875 0-1.64-0.574-1.886-1.394l-2.652-8.391-2.651 8.391c-0.246 0.82-1.039 1.394-1.913 1.394h-0.055c-0.848 0-1.613-0.574-1.859-1.394l-3.225-10.332c-0.027-0.137-0.055-0.273-0.055-0.41 0-0.684 0.574-1.394 1.449-1.394 0.629 0 1.23 0.41 1.394 1.011l2.515 8.665 2.788-8.528c0.219-0.683 0.848-1.148 1.64-1.148 0.711 0 1.34 0.465 1.585 1.148l2.788 8.528 2.514-8.665c0.164-0.601 0.766-1.011 1.395-1.011 0.847 0 1.449 0.656 1.449 1.394-0.001 0.137-0.028 0.273-0.083 0.41z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M168.073 17.141h-8.692c0.191 1.968 1.695 3.635 4.155 3.635 0.956 0 2.049-0.3 2.952-0.875 0.191-0.109 0.41-0.164 0.601-0.164 0.602 0 1.23 0.492 1.23 1.202 0 1.503-3.389 2.187-5.084 2.187-3.964 0-6.915-2.761-6.915-6.943 0-3.827 2.788-6.916 6.697-6.916 3.089 0 5.33 1.859 6.15 4.701 0.164 0.547 0.328 1.175 0.328 1.749 0 0.765-0.629 1.421-1.421 1.421zM163.017 11.62c-2.406 0-3.526 1.913-3.663 3.499h7.326c-0.055-1.53-1.094-3.499-3.663-3.499z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M173.129 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M179.060 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M28.781 14.834c-0.117-1.519-0.498-3.012-1.117-4.385-0.618-1.374-1.471-2.627-2.501-3.694-1.030-1.068-2.235-1.949-3.546-2.598-1.311-0.651-2.727-1.067-4.16-1.23-1.432-0.164-2.878-0.081-4.264 0.24-1.385 0.321-2.702 0.883-3.877 1.644-1.175 0.761-2.208 1.719-3.046 2.814-0.838 1.094-1.481 2.325-1.893 3.618-0.414 1.293-0.596 2.648-0.55 3.983l0.263 0.003c0.076-1.305 0.375-2.585 0.879-3.768 0.503-1.183 1.208-2.268 2.067-3.196 0.858-0.929 1.87-1.701 2.971-2.277 1.102-0.576 2.294-0.955 3.505-1.118 1.209-0.164 2.442-0.116 3.617 0.132 1.176 0.247 2.296 0.697 3.299 1.318 1.004 0.62 1.89 1.411 2.614 2.318 0.724 0.907 1.283 1.93 1.649 3.006 0.367 1.076 0.54 2.204 0.521 3.323-0.020 1.122-0.23 2.224-0.617 3.247-0.386 1.024-0.949 1.969-1.648 2.787-0.699 0.818-1.534 1.507-2.449 2.031-0.915 0.525-1.91 0.883-2.925 1.061-1.014 0.178-2.057 0.177-3.060 0.007-1.001-0.169-1.954-0.509-2.815-0.996-0.295-0.167-0.578-0.352-0.85-0.551l4.686-7.132-0.102-0.083-10.27 10.316 0.106 0.099c0.083 0.076 0.156 0.142 0.236 0.211 0.157 0.137 0.318 0.271 0.48 0.401 0.326 0.261 0.662 0.506 1.008 0.737 0.201 0.134 0.405 0.263 0.613 0.386 0.506 0.302 1.029 0.573 1.566 0.81 1.513 0.669 3.135 1.066 4.76 1.18 0.813 0.057 1.622 0.045 2.428-0.035 0.805-0.080 1.603-0.229 2.379-0.445 1.554-0.431 3.020-1.132 4.315-2.052 1.296-0.918 2.423-2.054 3.321-3.338 0.9-1.283 1.572-2.715 1.978-4.21 0.408-1.495 0.548-3.048 0.429-4.565z\\\" fill=\\\"#ffffff\\\" />\\n    </svg>\\n  </div>\\n  <div class=\\\"prelogin__content\\\" data-content-region></div>\\n</div>\\n\";\n},\"useData\":true});"],"names":["auth0","rwConnection","RWELL_KEY","token","setToken","tokenString","getToken","navigator","onLine","getTokenSilently","catch","logout","login","success","name","config","AUTHD_PATH","location","origin","localStorage","getItem","clientConfig","authorizationParams","pick","cacheLocation","createAuth0Client","then","auth0Client","isAuthenticated","authed","pathname","window","history","replaceState","document","title","forceLogin","handleRedirectCallback","appState","setItem","authenticate","loginWithRedirect","connection","federated","Radio","removeItem","logoutParams","returnTo","opts","extend","prompt","top","self","String","includes","loginPromptView","LoginPromptView","on","render","App","triggerStart","options","this","_isLoading","_fetchId","uniqueId","triggerSyncData","bind","triggerMethod","triggerFail","triggerSyncFail","promise","beforeStart","Promise","all","isArray","noop","onSyncData","fetchId","args","isRunning","finallyStart","call","_isRunning","isLoading","Backbone","fetch","baseUrl","url","result","fetcher","getActiveFetcher","registerFetcher","response","parse","data","cacheIncluded","included","map","parseModel","destroy","models","clone","destroys","invoke","JsonApiMixin","fetchers","getFetcher","abort","readyState","MnObject","channelName","Entity","constructor","mergeOptions","arguments","getCollection","Collection","getModel","attrs","isObject","id","Model","fetchCollection","fetchModel","modelId","async","ok","reject","json","model","set","resolve","getData","dataType","status","text","handleJSON","method","params","$","getUrl","body","defaults","headers","currentWorkspace","Workspace","faHelper","prefix","iconName","hash","svgId","svg","classes","Handlebars","far","partial","fas","fal","fa","each","Store","type","parseId","parseRelationship","relationship","item","itemRelationship","meta","value","key","underscored","parseRelationships","relationships","modelData","attributes","__cached_ts","dayjs","format","toRelation","entity","entityType","isUndefined","isNull","isNew","parseErrors","errors","reduce","parsedErrors","source","detail","pointer","slice","length","removeFEOnly","test","toJSONApi","save","isEmpty","patch","JSON","stringify","isCached","has","getEl","selector","findEl","el","querySelectorAll","detachEl","parentNode","removeChild","hasContents","hasChildNodes","setContents","html","innerHTML","appendContents","contents","appendChild","detachContents","textContent","isAborting","controller","AbortController","signal","baseFetch","error","Error","statusText","responseData","fetchThen","fetched","apply","localizedFormatPlugin","utcPlugin","weekdayPlugin","customParseFormatPlugin","formats","SHORT","LONG","SLASHES","TIME","AT_TIME","DATE","date","isSame","TIME_OR_DAY","matchText","query","noEscape","pretag","posttag","matcher","buildMatcher","replace","formatDateTime","dateFormat","isFunction","formatDate","utc","inputFormat","local","nowrap","defaultHtml","specialKeys","shiftNums","textAcceptingInputTypes","textInputTypes","getPossibleKeys","event","special","character","possible","modifier","modif","specialKey","metaKey","ctrlKey","indexOf","getModifier","keyHandler","handleObj","keys","isString","toLowerCase","split","getKeys","origHandler","handler","target","which","fromCharCode","i","l","version","isTargetInput","nodeName","attr","contains","add","toJSON","uuid","Region","View","CollectionView","setDomApi","Marionette","DomApi","_","Components","regionShow","prototype","show","view","Component","showIn","getBounds","ui","isAttached","$el","left","offset","outerHeight","outerWidth","get","RegExp","escape","str","Behavior","input","getOption","onDomRefresh","element","style","transform","focus","setTimeout","ENTER_KEY","keyCodes","events","_currentText","getWatchText","val","watchKeyDown","evt","_evt","watchInput","isDefaultPrevented","watchKeyUp","throttle","triggerWatchChange","preventDefault","watchText","initialize","listenTo","keydown","keyEvents","triggerEvent","domEvent","keyCode","some","ESCAPE_KEY","DOWN_KEY","TAB_KEY","UP_KEY","behaviors","behaviorClass","KeyListenerBehavior","items","scroll","evts","onHoverItem","onAttach","$items","getItems","scrollTo","filter","updateTransport","currentTarget","onTransportDown","$highlighted","_getNextHighlighted","onTransportUp","_getPrevHighlighted","getHighlighted","removeClass","addClass","last","nextIndex","index","eq","first","$scrollItem","offsetDir","$scrollEl","picklistScrollTop","scrollTop","picklistHeight","childViewHeight","childViewTop","position","childViewBottom","onSelect","click","LayoutView","className","regionClass","replaceElement","regions","calendar","monthPicker","actions","template","templateContext","dayOfWeek","times","weekday","ActionsView","triggers","MonthPickerView","nextMonth","getNextMonth","prevMonth","getPrevMonth","canSelectMonth","CellView","tagName","getTemplate","CalendarView","childView","childViewTriggers","currentMonth","selectedDate","selectedMonth","setCurrentMonth","setSelectedDate","setSelectedMonth","startOf","getCurrentMonth","subtract","getCalendar","dates","flatten","_getPreDates","_getDates","_getPostDates","startDay","daysInPrev","daysInMonth","range","day","isOtherMonth","endDay","endOf","todaysDate","isDisabled","_isBeforeBeginDate","_isAfterEndDate","isSelected","_isSelectedDate","isToday","dateNum","beginDate","isBefore","endDate","isAfter","CLASS_OPTIONS","StateModel","stateEvents","onChangeStateSelectedDate","state","onChangeStateSelectedMonth","uiView","ViewClass","onSelectToday","getState","onSelectTomorrow","onSelectClear","onBeforeShow","datepicker","showChildView","getMonthPickerView","getActionsView","getCalendarView","monthPickerView","onSelectNextMonth","onSelectPrevMonth","onSelectMonth","actionsView","onSelectDate","calView","collection","regionOptions","popWidth","DateSelectTemplate","selectRegion","cancel","month","year","hasError","i18n","intl","monthsCollection","idx","thisYear","yearRange","yearsObj","SelectList","Droplist","picklistOptions","isSelectlist","viewOptions","buttonText","reset","viewTriggers","onChangeState","setState","onChangeSelectedDate","onClickCancel","onShow","dateSelect","showSelectList","getMonthSelect","field","getDaySelect","getYearSelect","yearPlaceholderText","monthPlaceholderText","isActive","getDayOpts","dayPlaceholderText","component","daysRange","daysObj","defaultText","selected","disabled","canClear","headingText","infoText","placeholderText","once","showPicklist","mixinViewOptions","viewEvents","onClick","toggleState","onChangeIsDisabled","onChangeIsActive","getView","toggleClass","blur","onChangeStateSelected","picklist","Picklist","lists","popRegion","popRegionOptions","bindEvents","_picklistEvents","ignoreEl","align","onPicklistClose","empty","onPicklistSelect","onPicklistDestroy","setPopRegion","region","onClose","CLASS_OPTIONS_ITEM","PicklistEmpty","serializeData","PicklistItem","itemTemplate","itemClassName","classNames","push","join","preinitialize","onRender","searchText","getItemSearchText","itemTemplateContext","isCheckable","isChecked","serializeCollection","childViewContainer","childViewEventPrefix","modelEvents","viewFilter","every","words","queryWord","match","hasAllText","childViewOptions","Picklists","InputFocusBehavior","InputWatcherBehavior","PicklistBehavior","clear","onClear","emptyView","debouncedFilter","debounce","addList","list","addChildView","size","children","shouldShow","childViewEvents","onRenderChildren","emptyViewOptions","noResultsText","clearText","isSelectList","onWatchChange","TooltipView","message","messageHtml","delay","setListeners","showTooltip","hideTooltip","clearTimeout","delayTimeout","_delay","onBeforeDestroy","anime","targets","duration","opacity","orientation","TYPE","_Model","BaseModel","urlRoot","isReadOnly","getReducers","getContext","contextScripts","getContextScripts","reducers","changeReducers","getChangeReducers","beforeSubmit","getBeforeSubmit","getWidgets","formWidgets","collectionOf","getWidgetFields","getPrefillFormId","BaseCollection","comparator","BaseEntity","radioRequests","fetchDefinition","formId","fetchFields","actionId","patientId","fetchByAction","fetchBy","fetchDefinitionByAction","LoadingTemplate","LoadingView","progressBar","loading","timeout","showLoader","easing","startPreloader","memoize","searchWords","trim","property","object","BACKSPACE_KEY","SHIFT_KEY","LEFT_KEY","RIGHT_KEY","AT_KEY_SHIFT","characters","delimiter","LoginView","LoginPromptTemplate","host","content","PreloadRegion","PreloginTemplate","NotSetupView","NotSetupTemplate","PreloaderView","getRegion","module","exports","container","depth0","helpers","partials","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","escapeExpression","alias4","lookupProperty","parent","propertyName","Object","hasOwnProperty","program"],"sourceRoot":""}