(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"Datepicker",(function(){return $})),n.d(i,"Droplist",(function(){return mt})),n.d(i,"Picklist",(function(){return ct})),n.d(i,"Optionlist",(function(){return wt})),n.d(i,"Tooltip",(function(){return Ct}));n(57);var a=n(60),s=n.n(a),o=n(0),r=n.n(o),l=n(56),c=n.n(l),u=n(146),h=n.n(u),d=n(36),p=n.n(d),m=n(144),f=n(159),g=(n(59),n(145)),v=n.n(g),w=n(70);n(200);function b(t,e,n){var i=n.hash,a=void 0===i?{}:i,s=Object(w.findIconDefinition)({prefix:t,iconName:e}),o=Object(w.icon)(s,a);if(!o||!o.html)throw new Error("".concat(t,":").concat(e," fontawesome icon not loaded"));return new v.a.SafeString(o.html)}w.config.autoAddCss=!1,w.config.replacementClass="svg-inline--fa icon",v.a.registerHelper({far:r.a.partial(b,"far"),fas:r.a.partial(b,"fas"),fal:r.a.partial(b,"fal")});n(64),n(65),n(61);function y(t,e){var n=M(t,e);return this.asMilliseconds()>n.asMilliseconds()}function x(t,e){var n=M(t,e);return this.asMilliseconds()<n.asMilliseconds()}function _(t){return t?h.a.duration(this).get(t):this._data}function C(){var t=[this.hours(),this.minutes(),this.seconds()];return r.a.map(t,(function(t){return t<10?"0".concat(t):t})).join(":")}var M=function(t,e){r.a.isNumber(t)&&!e&&(e="s");var n=h.a.duration(t,e);return r.a.extend(n,{greaterThan:y,lessThan:x,get:_,formatTime:C}),n},T=M,E={SHORT:"MMM D",LONG:"ll",SLASHES:"L",TIME:"LT",AT_TIME:"lll",DATE:function(t){return t.isSame(h()(),"year")?t.format(E.SHORT):t.format(E.LONG)},TIME_OR_DAY:function(t){return t.isSame(h()(),"day")?t.format(E.TIME):E.DATE(t)}};v.a.registerHelper({formatMoment:function(t,e,n){var i=n.hash,a=void 0===i?{}:i;return t?(t=function(t,e){var n=E[e];return n?r.a.isFunction(n)?n(t):t.format(n):t.format(e)}(t=h()(t,a.inputFormat),e),!1===a.nowrap?t:new v.a.SafeString('<span class="u-text--nowrap">'.concat(t,"</span>"))):new v.a.SafeString(a.defaultHtml||"")}}),v.a.registerHelper({matchText:function(t,e,n){var i=n.hash;return e?((void 0===i?{}:i).noEscape||(t=v.a.escapeExpression(t)),new v.a.SafeString(r.a.matchText(t,e))):t}}),v.a.registerHelper({formatDuration:function(t,e,n){var i=n.hash,a=void 0===i?{}:i;return t?T(t,a.inputKey).get(e):new v.a.SafeString(a.defaultHtml||"")}});n(147),n(58),n(87),n(88),n(148);var S={8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},V={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":"'",",":"<",".":">","/":"?","\\":"|"},D=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],k=/textarea|input|select/i;function A(t,e,n){var i={},a=function(t,e){var n="";return r.a.each(["alt","ctrl","shift"],(function(i){t["".concat(i,"Key")]&&e!==i&&(n+="".concat(i,"+"))})),t.metaKey&&!t.ctrlKey&&"meta"!==e&&(n+="meta+"),t.metaKey&&"meta"!==e&&n.indexOf("alt+ctrl+shift+")>-1&&(n=n.replace("alt+ctrl+shift+","hyper+")),n}(t,e);return e?i[a+e]=!0:(i[a+n]=!0,i[a+V[n]]=!0,"shift+"===a&&(i[V[n]]=!0)),i}function R(t){var e,n=(e=t.data,r.a.isString(e)?e.toLowerCase().split(" "):e&&r.a.isString(e.keys)?e.keys.toLowerCase().split(" "):void 0);if(n){var i=t.handler;t.handler=function(t){if(this===t.target||!s.a.hotkeys.isTargetInput(t.target))for(var e="keypress"!==t.type&&S[t.which],a=String.fromCharCode(t.which).toLowerCase(),o=A(t,e,a),r=0,l=n.length;r<l;r++)if(o[n[r]])return i.apply(this,arguments)}}}s.a.hotkeys={version:"1.0.0",isTargetInput:function(t){return k.test(t.nodeName)||s()(t).attr("contenteditable")||r.a.contains(D,t.type)}},r.a.each(["keydown","keyup","keypress"],(function(t){s.a.event.special[t]={add:R}}));n(205);var I=n(206),N=n.n(I);c.a.Model.prototype.sync=function(t,e,n){if(n=r.a.clone(n),"create"===t){var i=n.data||n.attrs||e.toJSON(n);r.a.isString(i)&&(i=JSON.parse(i)),i.data.id=N()(),n.data=JSON.stringify(i)}return c.a.sync(t,e,n)};var O=f.b;n(152),n(153),n(154),n(155),n(210);function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var H,j=m.View.extend({className:"datepicker",regionClass:m.Region.extend({replaceElement:!0}),regions:{header:"[data-header-region]",calendar:"[data-calendar-region]"},template:v.a.template({1:function(t,e,n,i,a){t.propertyIsEnumerable;return'<div class="datepicker__day">'+t.escapeExpression((n.formatMoment||e&&e.formatMoment||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},e,"dd",{name:"formatMoment",hash:{},data:a}))+"</div>"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.lambda,c=t.escapeExpression,u=t.hooks.helperMissing;return'\n    <div data-header-region></div>\n    <div class="datepicker__body">\n      '+(null!=(s=n.each.call(r,null!=e?e.dayOfWeek:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'\n      <div data-calendar-region></div>\n    </div>\n    <button class="datepicker__button js-today">'+c(l((s=(s=(s=a&&a.intl)&&s.components)&&s.datepicker)&&s.today,e))+"</button>"+c("function"===L(o=null!=(o=n.remove_whitespace||(null!=e?e.remove_whitespace:e))?o:u)?o.call(r,{name:"remove_whitespace",hash:{},data:a}):o)+'<button class="datepicker__button js-tomorrow">'+c(l((s=(s=(s=a&&a.intl)&&s.components)&&s.datepicker)&&s.tomorrow,e))+"</button>"+c("function"===L(o=null!=(o=n.remove_whitespace||(null!=e?e.remove_whitespace:e))?o:u)?o.call(r,{name:"remove_whitespace",hash:{},data:a}):o)+'<button class="datepicker__button js-clear">'+c(l((s=(s=(s=a&&a.intl)&&s.components)&&s.datepicker)&&s.clear,e))+"</button>\n  "},useData:!0}),triggers:{"click .js-today":"click:today","click .js-tomorrow":"click:tomorrow","click .js-clear":"click:clear"},templateContext:function(){return{dayOfWeek:r.a.times(7,(function(t){return h()().weekday(t)}))}}}),P=m.View.extend({className:"datepicker__header",triggers:{"click .js-next":"click:nextMonth","click .js-prev":"click:prevMonth"},template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n    "+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.currentMonth:e,"MMM YYYY",{name:"formatMoment",hash:{},data:a}))+'\n    <span class="datepicker__nav">\n      <button class="js-prev">'+r((n.fas||e&&e.fas||o).call(s,"caret-left",{name:"fas",hash:{},data:a}))+" "+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.prevMonth:e,"MMM",{name:"formatMoment",hash:{},data:a}))+'</button>\n      <button class="js-next">'+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.nextMonth:e,"MMM",{name:"formatMoment",hash:{},data:a}))+" "+r((n.fas||e&&e.fas||o).call(s,"caret-right",{name:"fas",hash:{},data:a}))+"</button>\n    </span>\n  "},useData:!0}),templateContext:function(){return{nextMonth:this.model.getNextMonth(),prevMonth:this.model.getPrevMonth()}}}),q=m.View.extend({className:function(){return this.model.get("isOtherMonth")?"is-other-month":this.model.get("isDisabled")?"is-disabled":void 0},tagName:"li",getTemplate:function(){return this.model.get("isOtherMonth")||this.model.get("isDisabled")?v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return t.escapeExpression("function"==typeof(s=null!=(s=n.date||(null!=e?e.date:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"date",hash:{},data:a}):s)},useData:!0}):v.a.template({1:function(t,e,n,i,a){return"is-selected"},3:function(t,e,n,i,a){return" is-today"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{};return'<a class="'+(null!=(s=n.if.call(r,null!=e?e.isSelected:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+(null!=(s=n.if.call(r,null!=e?e.isToday:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+'">'+t.escapeExpression("function"==typeof(o=null!=(o=n.date||(null!=e?e.date:e))?o:t.hooks.helperMissing)?o.call(r,{name:"date",hash:{},data:a}):o)+"</a>"},useData:!0})},triggers:{"click a":"select"}}),B=m.CollectionView.extend({className:"datepicker__days",tagName:"ul",childView:q,childViewTriggers:{select:"select:date"}}),z=c.a.Model.extend({initialize:function(){this.set("selectedDate",this.moment("selectedDate")),this.setCurrentMonth(this.moment("currentMonth")),this.on({"change:selectedDate":this.onChangeSelectedDate,"change:currentMonth":this.onChangeCurrentMonth})},onChangeCurrentMonth:function(t,e){h.a.isMoment(e)||this.set("currentMonth",h()(e))},onChangeSelectedDate:function(t,e){!e||h.a.isMoment(e)?this.setCurrentMonth(e):this.set("selectedDate",h()(e))},setCurrentMonth:function(t){var e=t?h()(t):h()();this.set("currentMonth",e.startOf("month"))},getCurrentMonth:function(){return this.moment("currentMonth")},getNextMonth:function(){return this.moment("currentMonth").add(1,"months")},getPrevMonth:function(){return this.moment("currentMonth").subtract(1,"months")},getCalendar:function(){var t=r.a.flatten([this._getPreDates(),this._getDates(),this._getPostDates()]);return new c.a.Collection(t)},_getPreDates:function(){var t=this.getCurrentMonth().weekday();if(!t)return[];var e=this.getPrevMonth().daysInMonth();return r.a.map(r.a.range(e-(t-1),e+1),(function(t){return{date:String(t),isOtherMonth:!0}}))},_getPostDates:function(){var t=this.getCurrentMonth().endOf("month").weekday();return 6===t?[]:r.a.map(r.a.range(1,7-t),(function(t){return{date:String(t),isOtherMonth:!0}}))},_getDates:function(){var t=this,e=this.getCurrentMonth(),n=e.isSame(h()(),"month")&&h()().date();return r.a.map(r.a.range(1,e.daysInMonth()+1),(function(e){var i=t._isBeforeBeginDate(e)||t._isAfterEndDate(e);return{date:String(e),isDisabled:i,isSelected:!i&&t._isSelectedDate(e),isToday:n===e}}))},_isBeforeBeginDate:function(t){var e=this.moment("beginDate");return!!e&&this.getCurrentMonth().date(t).isBefore(e,"day")},_isAfterEndDate:function(t){var e=this.moment("endDate");return!!e&&this.getCurrentMonth().date(t).isAfter(e,"day")},_isSelectedDate:function(t){var e=this.moment("selectedDate");return!(!e||!this.getCurrentMonth().isSame(e,"month"))&&e.date()===t}}),G=["position","uiView","ui"],$=O.extend({StateModel:z,stateEvents:{change:"show","change:selectedDate":"onChangeStateSelectedDate"},onChangeStateSelectedDate:function(t,e){this.triggerMethod("change:selectedDate",e)},constructor:function(t){this.mergeOptions(t,G),this.listenTo(this.uiView,"render destroy",this.destroy),O.apply(this,arguments)},ViewClass:j,viewEvents:{"click:today":"onSelectToday","click:tomorrow":"onSelectTomorrow","click:clear":"onSelectClear"},onSelectToday:function(){this.selectDate(h()())},onSelectTomorrow:function(){this.selectDate(h()().add(1,"days"))},onSelectClear:function(){this.selectDate(null)},onBeforeShow:function(t,e){e.showChildView("header",this.getHeaderView()),e.showChildView("calendar",this.getCalendarView())},getHeaderView:function(){var t=this.getState(),e=new P({model:t});return this.listenTo(e,{"click:nextMonth":this.onSelectNextMonth,"click:prevMonth":this.onSelectPrevMonth}),e},onSelectNextMonth:function(){var t=this.getState();t.setCurrentMonth(t.getNextMonth())},onSelectPrevMonth:function(){var t=this.getState();t.setCurrentMonth(t.getPrevMonth())},getCalendarView:function(){var t=this.getState(),e=new B({model:t,collection:t.getCalendar()});return this.listenTo(e,{"select:date":this.onSelectDate}),e},onSelectDate:function(t){var e=t.model.get("date"),n=this.getState().getCurrentMonth();this.selectDate(n.date(e))},position:function(){return this.uiView.getBounds(this.ui)},regionOptions:function(){return r.a.extend({popWidth:256},r.a.result(this,"position"))},selectDate:function(t){t&&(t=h()(t).startOf("day")),this.setState("selectedDate",t)}}),U=(n(156),n(161),n(176),n(211)),F=n.n(U),W=n(234),Y=n.n(W),K="careOptsFrontend",J={"en-US":Y.a},Q={};function X(t,e){return t(e,{data:{intl:Q}})}!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US";H=t,r.a.extend(Q,Y.a[K],J[H][K]),h.a.locale(H),window.PHRASEAPP_CONFIG&&r.a.extend(Q,function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;return r.a.reduce(r.a.keys(e),(function(i,a){if("locales"===a)return i;var s=e[a],o="".concat(n,".").concat(a);return r.a.isString(s)?(i[a]="[[__phrase_".concat(o,"__]]"),i):(i[a]=t(s,o),i)}),{})}(Q))}(),F.a.registerWith(v.a),Object(m.setRenderer)(X);var Z=Q,tt=(n(235),m.Behavior.extend({events:{"keydown @ui.input":"watchKeyDown","keyup @ui.input":"watchKeyUp","input @ui.input":"watchInput"},ui:{input:"input"},onDomRefresh:function(){this._currentText=this.getWatchText()},getWatchText:function(){return this.ui.input.val()},watchKeyDown:function(t){this.view.triggerMethod("watch:keydown",t),this._evt=t},watchInput:function(){this._evt&&(this._evt.isDefaultPrevented()||this.watchKeyUp(this._evt))},watchKeyUp:r.a.throttle((function(t){t.which!==r.a.ENTER_KEY?(this.view.triggerMethod("watch:keyup",t),this.triggerWatchChange()):t.preventDefault()}),1),triggerWatchChange:function(){var t=this.getWatchText();t!==this._currentText&&(this._currentText=t,this.view.triggerMethod("watch:change",t))}})),et=m.Behavior.extend({initialize:function(){this.listenTo(p.a.channel("user-activity"),"document:keydown",this.keydown)},keyEvents:{},triggerEvent:function(t,e,n){if(e.which===n)return this.view.triggerMethod(t,e),!0},keydown:function(t){var e=this;r.a.some(this.getOption("keyEvents"),(function(n,i){if(r.a.isArray(n))return r.a.some(n,r.a.bind(e.triggerEvent,e,i,t));e.triggerEvent(i,t,n)}))}}),nt=m.Behavior.extend({behaviors:[{behaviorClass:et,keyEvents:{"transport:down":r.a.DOWN_KEY,"transport:up":r.a.UP_KEY,select:r.a.ENTER_KEY,close:[r.a.ESCAPE_KEY,r.a.TAB_KEY]}}],options:{items:".js-picklist-item"},events:function(){var t={};return t["mouseenter ".concat(this.getOption("items"))]=this.onHoverItem,t},onAttach:function(){var t=this.getItems();this.scrollTo(t,"middle")},onHoverItem:function(t){this.updateTransport(this.getItems(),this.view.$(t.currentTarget))},onTransportDown:function(t){t.preventDefault();var e=this.getItems(),n=this._getNextHighlighted(e);this.updateTransport(e,n),this.scrollTo(e)},onTransportUp:function(t){t.preventDefault();var e=this.getItems(),n=this._getPrevHighlighted(e);this.updateTransport(e,n),this.scrollTo(e)},getItems:function(){return this.view.$(this.getOption("items"))},getHighlighted:function(t){return t.filter(".is-highlighted")},updateTransport:function(t,e){t.removeClass("is-highlighted"),e.addClass("is-highlighted")},_getPrevHighlighted:function(t){var e=this.getHighlighted(t);if(!e.length)return t.last();var n=t.index(e)-1;return n<0?e:t.eq(n)},_getNextHighlighted:function(t){var e=this.getHighlighted(t);if(!e.length)return t.first();var n=t.index(e)+1;return n===t.length?e:t.eq(n)},scrollTo:function(t,e){var n=this.getHighlighted(t);if(n.length&&t.length){var i=this.view.$el.scrollTop(),a=this.view.$el.outerHeight(),s=n.outerHeight(),o=n.position().top,r=o+s-a,l=0;"middle"===e&&(l=a/2-s/2),o<0&&this.view.$el.scrollTop(i+o+l),r>0&&this.view.$el.scrollTop(i+r+l)}},onSelect:function(t){t.preventDefault(),this.view.$(".is-highlighted").click()}}),it=["attr","childViewEventPrefix","className","headingText","isSelectlist","lists","noResultsText","PicklistItem","placeholderText"],at=["attr","getItemFormat","getItemSearchText","itemTemplate","itemTemplateContext"],st=m.View.extend({tagName:"li",className:"picklist--no-results",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return t.escapeExpression("function"==typeof(s=null!=(s=n.noResultsText||(null!=e?e.noResultsText:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"noResultsText",hash:{},data:a}):s)},useData:!0}),serializeData:function(){return this.options}}),ot=m.View.extend({tagName:"li",className:"picklist__item js-picklist-item",itemTemplate:v.a.template({1:function(t,e,n,i,a){return' class="is-selected"'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{};return"<a"+(null!=(s=n.if.call(o,null!=e?e.isSelected:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+">"+t.escapeExpression((n.matchText||e&&e.matchText||t.hooks.helperMissing).call(o,null!=e?e.text:e,null!=e?e.query:e,{name:"matchText",hash:{},data:a}))+"</a>"},useData:!0}),triggers:{click:"select"},initialize:function(t){this.mergeOptions(t,["state"].concat(at))},onRender:function(){this.searchText=this.getItemSearchText(this.model)},itemTemplateContext:r.a.noop,templateContext:function(){return r.a.extend({text:this.getItemFormat(this.model),query:this.state.get("query"),isSelected:this.model===this.state.get("selected")},this.itemTemplateContext())},getItemFormat:function(t){return t.get(this.attr)},getItemSearchText:function(t){return this.getItemFormat(t)},getTemplate:function(){return this.itemTemplate}}),rt=m.CollectionView.extend({tagName:"li",template:v.a.template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'<div class="picklist__heading">'+t.escapeExpression("function"==typeof(s=null!=(s=n.headingText||(null!=e?e.headingText:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"headingText",hash:{},data:a}):s)+"</div>"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return"\n    "+(null!=(s=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.headingText:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"\n    <ul></ul>\n  "},useData:!0}),serializeCollection:r.a.noop,childViewContainer:"ul",childViewEventPrefix:"item",modelEvents:{"change:query":"filter"},viewFilter:function(t){t.render();var e=this.model.get("query");return!e||!t.searchText||r.a.hasAllText(t.searchText,e)},initialize:function(t){this.mergeOptions(t,at)},childViewOptions:function(){var t=r.a.pick.apply(r.a,[this].concat(at));return r.a.extend({state:this.model},t)},templateContext:function(){return{headingText:this.getOption("headingText")}}}),lt=m.CollectionView.extend({behaviors:[tt,nt],template:v.a.template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'<div class="picklist__heading u-margin--b-8">'+t.escapeExpression("function"==typeof(s=null!=(s=n.headingText||(null!=e?e.headingText:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"headingText",hash:{},data:a}):s)+"</div>"},3:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'<input type="text" class="js-input picklist__input input-primary--small" placeholder="'+t.escapeExpression("function"==typeof(s=null!=(s=n.placeholderText||(null!=e?e.placeholderText:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"placeholderText",hash:{},data:a}):s)+'">'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{};return"\n    "+(null!=(s=n.if.call(o,null!=e?e.headingText:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"\n    "+(null!=(s=n.if.call(o,null!=e?e.isSelectlist:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+"\n    <ul></ul>\n  "},useData:!0}),triggers:{"focus @ui.input":"focus"},ui:{input:".js-input"},onDomRefresh:function(){this.ui.input.focus()},serializeCollection:r.a.noop,childViewContainer:"ul",emptyView:st,initialize:function(t){this.mergeOptions(t,it),this.mergeOptions(t,at),this.debouncedFilter=r.a.debounce(this.filter,1),r.a.each(this.lists,this.addList,this)},addList:function(t){var e=r.a.extend({model:this.model,childView:this.PicklistItem},r.a.pick.apply(r.a,[this].concat(at)),t),n=new rt(e);n.render(),this.addChildView(n)},viewFilter:function(t){return!!t.children.length},childViewEvents:{filter:function(){return this.debouncedFilter()}},onRenderChildren:function(){this.$(".js-picklist-item").removeClass("is-highlighted"),this.model.get("query")&&this.$(".js-picklist-item").first().addClass("is-highlighted")},emptyViewOptions:function(){return{noResultsText:this.noResultsText}},templateContext:function(){return{headingText:this.headingText,placeholderText:this.placeholderText,isSelectlist:this.isSelectlist}}}),ct=O.extend({attr:"text",PicklistItem:ot,className:"picklist",childViewEventPrefix:"picklist",headingText:"",noResultsText:Z.components.picklist.noResultsText,constructor:function(t){this.mergeOptions(t,it),this.mergeOptions(t,at),O.apply(this,arguments)},viewOptions:function(){var t=r.a.pick.apply(r.a,[this].concat(it,at));return r.a.extend({model:this.getState()},t)},ViewClass:lt,viewEvents:{"watch:change":"onWatchChange"},onWatchChange:function(t){this.setState("query",t)}}),ut=["collection","lists","picklistEvents","picklistOptions","popRegion","popWidth","position"],ht={className:"button-secondary",template:v.a.template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return t.escapeExpression(t.lambda((s=(s=(s=a&&a.intl)&&s.components)&&s.droplist)&&s.defaultText,e))},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{};return t.escapeExpression("function"==typeof(o=null!=(o=n.text||(null!=e?e.text:e))?o:t.hooks.helperMissing)?o.call(r,{name:"text",hash:{},data:a}):o)+(null!=(s=n.unless.call(r,null!=e?e.text:e,{name:"unless",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")},useData:!0})},dt=c.a.Model.extend({defaults:{isDisabled:!1,isActive:!1,selected:null}}),pt=m.View.extend({initialize:function(t){var e=t.state;this.model=e.selected},attributes:function(){return{disabled:this.getOption("state").isDisabled}},tagName:"button",triggers:{click:"click",focus:"focus"}}),mt=O.extend({picklistOptions:{attr:"text",headingText:null,isSelectlist:!1,placeholderText:null},popWidth:null,viewOptions:ht,StateModel:dt,ViewClass:pt,constructor:function(t){this.mergeOptions(t,ut),O.apply(this,arguments)},viewEvents:{click:"onClick"},onClick:function(){this.toggleState("isActive")},stateEvents:{"change:isDisabled":"onChangeIsDisabled","change:isActive":"onChangeIsActive","change:selected":"onChangeStateSelected"},onChangeIsDisabled:function(){this.show()},onChangeIsActive:function(t,e){var n=this.getView();n.$el.toggleClass("is-active",e),e&&(n.$el.blur(),this.showPicklist())},onChangeStateSelected:function(t,e){this.show(),this.triggerMethod("change:selected",e)},showPicklist:function(){var t=new ct(r.a.extend({lists:this.lists||[{collection:this.collection}],state:{selected:this.getState("selected")}},r.a.result(this,"picklistOptions")));this.popRegion.show(t,this.popRegionOptions()),this.bindEvents(t.getView(),this._picklistEvents),this.bindEvents(t.getView(),r.a.result(this,"picklistEvents"))},position:function(){return this.getView().getBounds()},popRegionOptions:function(){return r.a.extend({ignoreEl:this.getView().el,popWidth:r.a.result(this,"popWidth")},r.a.result(this,"position"))},_picklistEvents:{close:"onPicklistClose","picklist:item:select":"onPicklistSelect",destroy:"onPicklistDestroy"},onPicklistClose:function(){this.popRegion.empty()},onPicklistSelect:function(t){var e=t.model;this.setState("selected",e),this.popRegion.empty()},onPicklistDestroy:function(){this.toggleState("isActive",!1)}},{setPopRegion:function(t){this.prototype.popRegion=t}}),ft=["ignoreEl","popWidth","position","uiView","ui"],gt=["attr","getItemFormat","itemTemplate"],vt=m.View.extend({tagName:"li",itemTemplate:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return"<a>"+t.escapeExpression("function"==typeof(s=null!=(s=n.text||(null!=e?e.text:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"text",hash:{},data:a}):s)+"</a>"},useData:!0}),className:function(){var t=["picklist__item","js-picklist-item"];return this.model.get("isDisabled")&&t.push("is-disabled"),this.model.get("hasDivider")&&t.push("has-divider"),t.join(" ")},triggers:{click:"select"},initialize:function(t){this.mergeOptions(t,["state"].concat(gt))},templateContext:function(){return{text:this.getItemFormat(this.model)}},getItemFormat:function(t){return t.get(this.attr)},getTemplate:function(){return this.itemTemplate}}),wt=ct.extend({attr:"text",popWidth:null,PicklistItem:vt,constructor:function(t){this.mergeOptions(t,ft),this.listenTo(this.uiView,"render destroy",this.destroy),ct.apply(this,arguments)},viewTriggers:{close:"close","picklist:item:select":"select"},position:function(){return this.uiView.getBounds(this.ui)},regionOptions:function(){return r.a.extend({ignoreEl:this.ignoreEl||this.ui[0],popWidth:this.popWidth},r.a.result(this,"position"))},onClose:function(){this.destroy()},onSelect:function(t){var e=t.model;if(!e.get("isDisabled")){var n=e.get("onSelect");n.call(this,e),this.destroy()}}}),bt=n(157);n(236);function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var xt=["className","delay","ignoreEl","message","messageHtml","orientation","position","uiView","ui"],_t=m.View.extend({template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing;return t.escapeExpression("function"===yt(o=null!=(o=n.message||(null!=e?e.message:e))?o:l)?o.call(r,{name:"message",hash:{},data:a}):o)+(null!=(s="function"===yt(o=null!=(o=n.messageHtml||(null!=e?e.messageHtml:e))?o:l)?o.call(r,{name:"messageHtml",hash:{},data:a}):o)?s:"")},useData:!0}),templateContext:function(){return{message:this.getOption("message"),messageHtml:this.getOption("messageHtml")}}}),Ct=O.extend({ViewClass:_t,className:"tooltip",delay:0,constructor:function(t){this.mergeOptions(t,xt),this.setListeners(),this.listenTo(this.uiView,"render destroy",this.destroy),O.apply(this,arguments)},setListeners:function(){this.ui&&(this.ui.on("mouseenter.tooltip",r.a.bind(this.showTooltip,this)),this.ui.on("mouseleave.tooltip",r.a.bind(this.hideTooltip,this)))},showTooltip:function(){clearTimeout(this.delayTimeout);var t=r.a.result(this,"delay");this.delayTimeout=r.a.delay(r.a.bind(this.show,this),t)},hideTooltip:function(){clearTimeout(this.delayTimeout),this.empty()},onBeforeDestroy:function(){clearTimeout(this.delayTimeout)},onShow:function(){Object(bt.a)({targets:this.getView().el,duration:1500,opacity:[0,1]})},viewOptions:function(){return{className:r.a.result(this,"className"),message:r.a.result(this,"message"),messageHtml:r.a.result(this,"messageHtml")}},position:function(){return this.uiView.getBounds(this.ui)},regionOptions:function(){var t=r.a.result(this,"orientation"),e=r.a.result(this,"ignoreEl");return r.a.extend({orientation:t,ignoreEl:e},r.a.result(this,"position"))}}),Mt=m.Region,Tt=m.View,Et=m.CollectionView;(0,m.setDomApi)({getEl:function(t){return[t]},findEl:function(t,e){return t.querySelectorAll(e)},detachEl:function(t){t.parentNode&&t.parentNode.removeChild(t)},hasContents:function(t){return t.hasChildNodes()},setContents:function(t,e){t.innerHTML=e},appendContents:function(t,e){t.appendChild(e)},detachContents:function(t){t.textContent=""}});var St=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;s.a.Deferred.exceptionHook=function(t,e){t&&St.test(t.name)&&console.error(t.message,t.stack,e)},window._=r.a,window.$=s.a,window.Backbone=c.a,window.Radio=p.a,window.Marionette=m,window.moment=h.a,window.Components=i;var Vt=Mt.prototype.show;Mt.prototype.show=function(t,e){return t instanceof f.b?(t.showIn(this,null,e),this):Vt.call(this,t,e)};var Dt=function(t){if(!this.isAttached())return!1;var e=t||this.$el,n=e.offset();return{left:n.left,top:n.top,outerHeight:e.outerHeight(),outerWidth:e.outerWidth()}};r.a.extend(Tt.prototype,{getBounds:Dt}),r.a.extend(Et.prototype,{getBounds:Dt}),c.a.Model.prototype.moment=function(t){var e=this.get(t);return e||0===e?h()(e):e};n(237);var kt=f.a.extend({triggerStart:function(t){this._isLoading=!0,this._fetchId=r.a.uniqueId("fetch");var e=r.a.bind(this.triggerMethod,this,"sync:data",this._fetchId,t),n=r.a.bind(this.triggerMethod,this,"fail",t);s.a.when(this.beforeStart(t)).fail(n).done(e)},beforeStart:r.a.noop,onSyncData:function(t){this._isLoading=!1,this.isRunning()&&this._fetchId===t&&this.finallyStart.apply(this,r.a.rest(arguments))},isRunning:function(){return this._isRunning&&!this.isLoading()},_isLoading:!1,isLoading:function(){return this._isLoading}}),At=m.MnObject.extend({channelName:"entities",Entity:c.a,constructor:function(t){this.mergeOptions(t,["Entity"]),m.MnObject.apply(this,arguments)},getCollection:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this.Entity.Collection(t,e)},getModel:function(t,e){return t&&!r.a.isObject(t)&&(t={id:t}),new this.Entity.Model(t,e)},fetchCollection:function(t){var e=s.a.Deferred();return(new this.Entity.Collection).fetch(r.a.extend({success:function(){e.resolve.apply(e,arguments)},error:function(){e.reject.apply(e,arguments)}},t)),e},fetchCachedModel:function(t,e){var n=new this.Entity.Model({id:t});if(n.isCached()){var i=s.a.Deferred();return n.fetch(),i.resolve(n),i}return this.fetchModel(t,e)},fetchModel:function(t,e){var n=s.a.Deferred();return new this.Entity.Model({id:t}).fetch(r.a.extend({success:function(){n.resolve.apply(n,arguments)},error:function(){n.reject.apply(n,arguments)}},e)),n}}),Rt=n(149),It=[];function Nt(t,e){return It[t]=e,e}function Ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t){return It[t]}(t);return!(!n||4===n.readyState||e.async)&&(e.abort||e.success&&!1!==e.abort?(n.abort(),!1):n)}var Lt={cacheIncluded:function(t){r.a.each(t,(function(t){var e=new(Rt.a.get(t.type))({id:t.id});e.set(e.parseModel(t))}))},parseId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return t.id=e,t},parseRelationship:function(t){return t?r.a.isArray(t)?r.a.map(t,(function(t){var e={id:t.id};return t.meta&&(e._meta=t.meta),e})):t.id:t},parseRelationships:function(t,e){var n=this;return r.a.each(e,(function(e,i){t["_".concat(r.a.underscored(i))]=n.parseRelationship(e.data,i)})),t},parseModel:function(t){var e=this.parseId(t.attributes,t.id);return e.__cached_ts=h.a.utc().format(),this.parseRelationships(e,t.relationships)},toRelation:function(t,e){if(!r.a.isUndefined(t))return r.a.isNull(t)?{data:null}:t.models?{data:t.map((function(t){return{id:t.id,type:t.type}}))}:r.a.isObject(t)?{data:r.a.pick(t,"id","type")}:{data:{id:t,type:e}}}},Ht=c.a.Collection.extend(r.a.extend({fetch:function(t){var e=r.a.result(this,"url"),n=Ot(e,t);return n||Nt(e,n=c.a.Collection.prototype.fetch.call(this,t)),n},parse:function(t){return t&&t.data?(this.cacheIncluded(t.included),r.a.map(t.data,this.parseModel,this)):t}},Lt)),jt=(n(82),c.a.Model.extend(r.a.extend({fetch:function(t){t=r.a.extend({abort:!0},t);var e=r.a.result(this,"url"),n=Ot(e,t);return n||Nt(e,n=c.a.Model.prototype.fetch.call(this,t)),n},parse:function(t){return t&&t.data?(this.cacheIncluded(t.included),this.parseModel(t.data)):t},removeFEOnly:function(t){return r.a.pick(t,(function(t,e){return"id"!==e&&!r.a.startsWith(e,"_")}))},toJSONApi:function(t,e){return{id:this.id,type:this.type,attributes:this.removeFEOnly(t)}},save:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e=r.a.extend(this.toJSONApi(e.attributes||t),e),r.a.isEmpty(e.attributes)&&delete e.attributes,n=r.a.extend({patch:!this.isNew(),data:JSON.stringify({data:e})},n),c.a.Model.prototype.save.call(this,t,n)},isCached:function(){return this.has("__cached_ts")}},Lt))),Pt="patient-actions",qt=jt.extend({urlRoot:function(){return this.isNew()?"/api/patients/".concat(this.get("_patient"),"/relationships/actions"):"/api/actions"},type:Pt,validate:function(t){if(!t.name)return"Action name required"},getClinician:function(){var t=this.get("_clinician");if(t)return p.a.request("entities","clinicians:model",t)},getPatient:function(){return p.a.request("entities","patients:model",this.get("_patient"))},getRole:function(){var t=this.get("_role");if(t)return p.a.request("entities","roles:model",t)},getOwner:function(){return this.getClinician()||this.getRole()},isDone:function(){return"done"===p.a.request("entities","states:model",this.get("_state")).get("status")},saveDue:function(t){return t?this.save({due_date:t.format("YYYY-MM-DD")}):this.save({due_date:null})},saveState:function(t){return this.save({_state:t.id},{relationships:{state:this.toRelation(t)}})},saveClinician:function(t){return this.save({_clinician:t.id},{relationships:{clinician:this.toRelation(t)}})},saveRole:function(t){return this.save({_role:t.id},{relationships:{role:this.toRelation(t)}})},saveOwner:function(t){return"clinicians"===t.type?(this.set({_role:null}),this.saveClinician(t)):(this.set({_clinician:null}),this.saveRole(t))},saveAll:function(t){var e={role:this.toRelation(t._role,"roles"),clinician:this.toRelation(t._clinician,"clinicians"),state:this.toRelation(t._state,"states")};return this.save(t,{relationships:e},{wait:!0})}}),Bt=Object(Rt.a)(qt,Pt),zt=Ht.extend({url:"/api/actions",model:Bt}),Gt=(new(At.extend({Entity:{_Model:qt,Model:Bt,Collection:zt},radioRequests:{"actions:model":"getModel","actions:collection":"getCollection","fetch:actions:model":"fetchCachedModel","fetch:actions:collection":"fetchActions","fetch:patientActions:collection":"fetchPatientActions"},fetchActions:function(t){var e={include:"patient",filter:t.filter};return this.fetchCollection({data:e})},fetchPatientActions:function(t){var e=t.patient,n={filter:t.filter},i="".concat(e.url(),"/relationships/actions");return this.fetchCollection({url:i,data:n})}})),jt.extend({type:"clinicians",urlRoot:"/api/clinicians",getGroups:function(){return p.a.request("entities","groups:collection",this.get("_groups"))},getRole:function(){return this.get("_role")?p.a.request("entities","roles:model",this.get("_role")):p.a.request("entities","roles:model",{name:Z.patients.sidebar.action.activityViews.systemRole})}})),$t=Object(Rt.a)(Gt,"clinicians"),Ut=Ht.extend({url:"/api/clinicians",model:$t}),Ft=(new(At.extend({Entity:{_Model:Gt,Model:$t,Collection:Ut},radioRequests:{"clinicians:model":"getModel","clinicians:collection":"getCollection","fetch:clinicians:collection":"fetchCollection","fetch:clinicians:current":"fetchCurrentClinician"},fetchCurrentClinician:function(){var t=s.a.Deferred(),e=new $t;return e.fetch({url:"/api/clinicians/me"}).then((function(){t.resolve(e)})),t}})),jt.extend({type:"events",getClinician:function(){return p.a.request("entities","clinicians:model",this.get("_clinician"))},getEditor:function(){return this.get("_editor")?p.a.request("entities","clinicians:model",this.get("_editor")):p.a.request("entities","clinicians:model",{first_name:"RoundingWell",last_name:""})},getRole:function(){return p.a.request("entities","roles:model",this.get("_role"))},getState:function(){return p.a.request("entities","states:model",this.get("_state"))}})),Wt=Object(Rt.a)(Ft,"events"),Yt=Ht.extend({model:Wt}),Kt=(new(At.extend({Entity:{_Model:Ft,Model:Wt,Collection:Yt},radioRequests:{"events:model":"getModel","events:collection":"getCollection","fetch:actionEvents:collection":"fetchActionEvents"},fetchActionEvents:function(t){return this.fetchCollection({url:"/api/actions/".concat(t,"/activity")})}})),jt.extend({type:"groups",urlRoot:"/api/groups",getClinicians:function(){return p.a.request("entities","clinicians:collection",this.get("_clinicians"))}})),Jt=Object(Rt.a)(Kt,"groups"),Qt=Ht.extend({url:"/api/groups",model:Jt}),Xt=(new(At.extend({Entity:{_Model:Kt,Model:Jt,Collection:Qt},radioRequests:{"groups:model":"getModel","groups:collection":"getCollection","fetch:groups:collection":"fetchGroups"},fetchGroups:function(){return this.fetchCollection({data:{include:"clinicians"}})}})),jt.extend({getStates:function(){return this.get("states").clone()},getRoles:function(){return this.get("roles").clone()},type:"organizations"})),Zt=Object(Rt.a)(Xt,"organizations"),te=(new(At.extend({Entity:{_Model:Xt,Model:Zt},radioRequests:{"organizations:model":"getModel"}})),jt.extend({type:"patient-fields"})),ee=Object(Rt.a)(te,"patient-fields"),ne=Ht.extend({model:ee}),ie=(new(At.extend({Entity:{_Model:te,Model:ee,Collection:ne},radioRequests:{"patientFields:model":"getModel","patientFields:collection":"getCollection"}})),jt.extend({type:"patients",urlRoot:"/api/patients",getGroups:function(){return p.a.request("entities","groups:collection",this.get("_groups"))},getFields:function(){return p.a.request("entities","patientFields:collection",this.get("_patient_fields"))}})),ae=Object(Rt.a)(ie,"patients"),se=Ht.extend({url:"/api/patients",model:ae}),oe=(new(At.extend({Entity:{_Model:ie,Model:ae,Collection:se},radioRequests:{"patients:model":"getModel","patients:collection":"getCollection","fetch:patients:model":"fetchPatient","fetch:patients:collection":"fetchPatients"},fetchPatient:function(t){return this.fetchModel(t,{data:{include:"patient-fields"}})},fetchPatients:function(t){var e={group:t.groupId};return this.fetchCollection({data:{filter:e}})}})),jt.extend({type:"roles",urlRoot:"/api/roles"})),re=Object(Rt.a)(oe,"roles"),le=Ht.extend({url:"/api/roles",model:re}),ce=(new(At.extend({Entity:{_Model:oe,Model:re,Collection:le},radioRequests:{"roles:model":"getModel","roles:collection":"getCollection","fetch:roles:collection":"fetchCollection"}})),jt.extend({type:"states"})),ue=Object(Rt.a)(ce,"states"),he=Ht.extend({url:"/api/states",model:ue}),de=(new(At.extend({Entity:{_Model:ce,Model:ue,Collection:he},radioRequests:{"states:model":"getModel","states:collection":"getCollection","fetch:states:collection":"fetchCollection"}})),n(238)),pe=n.n(de),me=(n(239),["type","text","html","hasUndo"]),fe={success:"check-circle",info:"info-circle",error:"times-circle"},ge=m.View.extend({className:"alert-box",type:"info",template:pe.a,triggers:{"click .js-dismiss":"click:dismiss","click .js-undo":"click:undo"},initialize:function(t){this.mergeOptions(t,me)},onAttach:function(){Object(bt.a)({targets:this.el,duration:900,translateY:[-10,0],opacity:[0,1],easing:"easeInOutQuad"})},onDestroy:function(){this.isDismissed||this.triggerMethod("dismiss",this)},onClickDismiss:function(){this.dismiss()},onClickUndo:function(){this._dismiss(),this.triggerMethod("undo",this)},_dismiss:function(){this.isDismissed=!0,Object(bt.a)({targets:this.el,opacity:[1,0],duration:800,easing:"easeInSine",complete:r.a.bind(this.destroy,this)})},dismiss:function(){this.isDismissed||this.isDestroyed()||(this._dismiss(),this.triggerMethod("dismiss",this))},templateContext:function(){return{type:this.type,text:this.text,html:this.html,hasUndo:this.hasUndo,iconType:fe[this.type]}}}),ve=kt.extend({channelName:"alert",radioRequests:{show:"showAlert","show:success":"showSuccess","show:info":"showInfo","show:error":"showError","show:undo":"showUndo"},showAlert:function(t){var e=new ge(t);return r.a.delay((function(){e.dismiss()}),4e3),this.showView(e)},showSuccess:function(t){this.showAlert({text:t,type:"success"})},showInfo:function(t){this.showAlert({text:t,type:"info"})},showError:function(t){this.showAlert({text:t,type:"error"})},showUndo:function(t){t=r.a.extend({hasUndo:!0},t);var e=this.showAlert(r.a.omit(t,"onUndo","onComplete"));this.listenTo(e,{undo:t.onUndo,dismiss:t.onComplete})}}),we=kt.extend({channelName:"bootstrap",radioRequests:{currentUser:"getCurrentUser",currentOrg:"getCurrentOrg",fetch:"fetchBootstrap"},initialize:function(t){var e=t.name;this.currentOrg=p.a.request("entities","organizations:model",{name:e})},getCurrentUser:function(){return this.currentUser},getCurrentOrg:function(){return this.currentOrg},fetchBootstrap:function(){var t=this,e=s.a.Deferred(),n=p.a.request("entities","fetch:clinicians:current"),i=p.a.request("entities","fetch:groups:collection"),a=p.a.request("entities","fetch:roles:collection"),o=p.a.request("entities","fetch:states:collection");return s.a.when(n,a,o,i).done((function(n,i,a){t.currentUser=n,t.currentOrg.set({states:a[0],roles:i[0]}),e.resolve(n)})),e.promise()}}),be=kt.extend({channelName:"history",radioRequests:{"go:back":"goBack","route:current":"getCurrentRoute","route:previous":"getPrevHistory"},initialize:function(){this.history=c.a.history,this.setCurrent(),this.listenTo(this.history,"current",this.setCurrent)},setCurrent:function(){r.a.defer(r.a.bind(this._setCurrent,this))},_setCurrent:function(){var t=this.getCurrentRoute();t!==this._currHistory&&(this._prevHistory=this._currHistory,this._currHistory=t,this.getChannel().trigger("change:route",t))},getPrevHistory:function(){return this._prevHistory},getCurrentRoute:function(){return this.history.getFragment()},goBack:function(){this.getPrevHistory()?this.history.history.back():(this._currHistory=void 0,this.history.navigate("",{trigger:!0}))}});n(179),n(69);function ye(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var xe=kt.extend({channelName:"history",radioRequests:{"set:latestList":"setLatestList","has:latestList":"hasLatestList","go:latestList":"goLatestList"},setLatestList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._latestList=t,this._latestListArgs=e},hasLatestList:function(){return!!this._latestList},goLatestList:function(){this.hasLatestList()&&p.a.trigger.apply(p.a,["event-router",this._latestList].concat(ye(this._latestListArgs)))}}),_e=(n(241),n(242),v.a.template({1:function(t,e,n,i,a){return'<div class="spinner-child"></div>'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'\n  <div class="spinner-circle js-spinner" style="opacity:0">\n  '+(null!=(s=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.dots:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'\n  </div>\n  <p class="spinner-text js-loading" style="opacity:0">'+t.escapeExpression(t.lambda((s=(s=(s=a&&a.intl)&&s.regions)&&s.preload)&&s.loading,e))+"</p>\n"},useData:!0})),Ce=m.View.extend({className:"spinner",template:_e,ui:{spinner:".js-spinner",loading:".js-loading"},onRender:function(){var t=this.getOption("timeout");t?this.showLoader(t/2,t/2+200):this.showLoader(0,300)},showLoader:function(t,e){bt.a.timeline({easing:"easeInQuad",delay:t}).add({opacity:[0,1],targets:this.ui.spinner[0],duration:e}).add({opacity:[0,1],targets:this.ui.loading[0],duration:e-100},100)},templateContext:{dots:r.a.range(12)}}),Me=m.Region.extend({timeout:500,startPreloader:function(){this.show(new Ce({timeout:this.getOption("timeout")}))}}),Te=n(243),Ee=n.n(Te),Se=Z.globals.modal.modalViews,Ve=m.Region.extend({replaceElement:!0,timeout:0}),De=m.View.extend({className:"modal-footer--empty",template:!1}),ke=m.View.extend({className:"modal",buttonClass:"button--blue",bodyClass:"modal-content",cancelText:Se.modalView.cancelText,submitText:Se.modalView.submitText,regionClass:Ve,regions:{header:"[data-header-region]",body:{el:"[data-body-region]",regionClass:Me.extend({timeout:0})},footer:"[data-footer-region]"},childViewTriggers:{cancel:"cancel",submit:"submit"},triggers:{"click @ui.close":"cancel","click @ui.submit":"submit"},ui:{close:".js-close",submit:".js-submit"},serializeData:function(){return this},template:Ee.a,initialize:function(t){this.mergeOptions(t,["headerView","bodyView","footerView"]),this.headerView&&this.showChildView("header",this.headerView),this.bodyView&&this.showChildView("body",this.bodyView),this.footerView&&this.showChildView("footer",this.footerView),!1===this.footerView&&this.showChildView("footer",new De)},onSubmit:function(){this.destroy()},onCancel:function(){this.destroy()},disableSubmit:function(t){this.ui.submit.prop("disabled",t)},startPreloader:function(){this.getRegion("body").startPreloader()}}),Ae=kt.extend({channelName:"modal",radioRequests:{show:"showModal","show:small":"showSmall","show:tall":"showTall"},initialize:function(t){var e=t.modalRegion,n=t.modalSmallRegion;this.modalRegion=e,this.modalSmallRegion=n},showModal:function(t){var e=new(ke.extend(t));return this.modalRegion.show(e),e},showSmall:function(t){var e=r.a.extend({className:"modal--small",bodyClass:"modal-content"},t),n=new(ke.extend(e));return this.modalSmallRegion.show(n),n},showTall:function(t){return this.showModal(r.a.extend({className:"modal--tall",bodyClass:"modal-content--tall"},t))}});n(163),n(67),n(244),n(164),n(245),n(246);function Re(t){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ie=Z.patients.actions.actionsViews,Ne={queued:"exclamation-circle",started:"dot-circle",done:"check-circle"},Oe=v.a.template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return t.escapeExpression("function"==typeof(s=null!=(s=n.name||(null!=e?e.name:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"name",hash:{},data:a}):s)},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return'<span class="action--'+c("function"==typeof(o=null!=(o=n.statusClass||(null!=e?e.statusClass:e))?o:l)?o.call(r,{name:"statusClass",hash:{},data:a}):o)+'">'+c((n.fas||e&&e.fas||l).call(r,null!=e?e.statusIcon:e,{name:"fas",hash:{},data:a}))+(null!=(s=n.unless.call(r,null!=e?e.isCompact:e,{name:"unless",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"</span>"},useData:!0}),Le=mt.extend({isCompact:!1,initialize:function(t){var e=t.model,n=p.a.request("bootstrap","currentOrg");this.collection=n.getStates(),this.setState({selected:this.collection.get(e.get("_state"))})},onChangeSelected:function(t){this.triggerMethod("change:state",t)},popWidth:function(){return this.getOption("isCompact")?null:this.getView().$el.outerWidth()},viewOptions:function(){var t=this.getOption("isCompact");return{className:t?"button-secondary--compact is-icon-only":"button-secondary w-100",template:Oe,templateContext:function(){var e=this.model.get("status");return{isDisabled:this.getOption("isDisabled"),statusClass:r.a.dasherize(e),statusIcon:Ne[e],isCompact:t}}}},picklistOptions:{headingText:Ie.stateComponent.headingText,getItemFormat:function(t){var e=t.get("status");return new v.a.SafeString(Oe({statusClass:r.a.dasherize(e),statusIcon:Ne[e],name:t.get("name")}))}}}),He=v.a.template({1:function(t,e,n,i,a){return' class="is-selected"'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return"<a"+(null!=(s=n.if.call(o,null!=e?e.isSelected:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+">"+l((n.matchText||e&&e.matchText||r).call(o,null!=e?e.name:e,null!=e?e.query:e,{name:"matchText",hash:{},data:a}))+' <span class="actions__role">'+l((n.matchText||e&&e.matchText||r).call(o,null!=e?e.short:e,null!=e?e.query:e,{name:"matchText",hash:{},data:a}))+"</span></a>"},useData:!0}),je=mt.extend({isCompact:!1,popWidth:function(){return this.getOption("isCompact")?null:this.getView().$el.outerWidth()},picklistOptions:r.a.extend({isSelectlist:!0},Ie.ownerComponent),viewOptions:function(){return this.getOption("isCompact")?{className:"actions__owner button-secondary--compact w-100",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return l((n.far||e&&e.far||r).call(o,"user-circle",{name:"far",hash:{},data:a}))+l("function"===Re(s=null!=(s=n.short||(null!=e?e.short:e))?s:r)?s.call(o,{name:"short",hash:{},data:a}):s)+l("function"===Re(s=null!=(s=n.first_name||(null!=e?e.first_name:e))?s:r)?s.call(o,{name:"first_name",hash:{},data:a}):s)+" "+l("function"===Re(s=null!=(s=n.lastInitial||(null!=e?e.lastInitial:e))?s:r)?s.call(o,{name:"lastInitial",hash:{},data:a}):s)},useData:!0}),templateContext:function(){return{lastInitial:function(){return this.last_name&&"".concat(this.last_name[0],".")}}}}:{modelEvents:{"change:_role change:_clinician":"render"},className:"button-secondary w-100",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return l((n.far||e&&e.far||r).call(o,"user-circle",{name:"far",hash:{},data:a}))+l("function"===Re(s=null!=(s=n.name||(null!=e?e.name:e))?s:r)?s.call(o,{name:"name",hash:{},data:a}):s)+l("function"===Re(s=null!=(s=n.first_name||(null!=e?e.first_name:e))?s:r)?s.call(o,{name:"first_name",hash:{},data:a}):s)+" "+l("function"===Re(s=null!=(s=n.last_name||(null!=e?e.last_name:e))?s:r)?s.call(o,{name:"last_name",hash:{},data:a}):s)},useData:!0})}},initialize:function(t){var e=t.model,n=p.a.request("bootstrap","currentOrg").getRoles(),i=p.a.request("bootstrap","currentUser").getGroups();this.lists=i.map((function(t){return{collection:t.getClinicians(),headingText:t.get("name"),itemTemplate:He,itemTemplateContext:function(){return{name:"".concat(this.model.get("first_name")," ").concat(this.model.get("last_name")),short:this.model.getRole().get("short")}},getItemSearchText:function(){return this.$el.text()}}})),this.lists.push({collection:n,itemTemplate:He,headingText:Ie.ownerComponent.rolesHeadingText,getItemSearchText:function(){return this.$el.text()}}),this.setState({selected:e.getOwner()})},onChangeSelected:function(t){this.triggerMethod("change:owner",t)}}),Pe=f.b.extend({isCompact:!1,viewOptions:function(){var t=this.getOption("isCompact");return{model:this.model,tagName:"button",attributes:function(){return{disabled:this.getOption("state").isDisabled}},className:function(){var e=this.model.get("due_date");return t&&e?"button-secondary--compact actions__due":t&&!e?"button-secondary--compact actions__due is-icon-only":"button-secondary w-100 actions__due"},triggers:{click:"click"},template:v.a.template({1:function(t,e,n,i,a){return' class="is-overdue"'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return"\n        <span"+(null!=(s=n.if.call(o,null!=e?e.isOverdue:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+">\n          "+l((n.far||e&&e.far||r).call(o,"calendar-alt",{name:"far",hash:{},data:a}))+l((n.formatMoment||e&&e.formatMoment||r).call(o,null!=e?e.due_date:e,null!=e?e.dateFormat:e,{name:"formatMoment",hash:{defaultHtml:null!=e?e.defaultText:e,inputFormat:"YYYY-MM-DD"},data:a}))+"\n        </span>\n      "},useData:!0}),templateContext:{defaultText:t?"":Ie.dueComponent.defaultText,dateFormat:t?"SHORT":"LONG",isOverdue:function(){if(this.due_date)return h()(this.due_date).isBefore(h()(),"day")}}}},viewEvents:{click:"onClick"},initialize:function(t){var e=this,n=t.model;this.model=n,this.listenTo(n,"change:due_date",(function(){e.show()}))},onClick:function(){var t=this;this.getView().$el.blur();var e=new $({uiView:this.getView(),state:{selectedDate:this.model.get("due_date")}});this.listenTo(e,"change:selectedDate",(function(n){t.triggerMethod("change:due",n),e.destroy()})),e.show()}}),qe=r.a.map(r.a.range(100),(function(t){return{duration:t}})),Be=mt.extend({getTemplate:function(){return this.getState("selected").get("duration")?v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return c((n.far||e&&e.far||l).call(r,"stopwatch",{name:"far",hash:{},data:a}))+c("function"==typeof(o=null!=(o=n.duration||(null!=e?e.duration:e))?o:l)?o.call(r,{name:"duration",hash:{},data:a}):o)+" "+c(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.actions)&&s.actionsViews)&&s.durationComponent)&&s.unitLabel,e))},useData:!0}):v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.escapeExpression;return o((n.far||e&&e.far||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"stopwatch",{name:"far",hash:{},data:a}))+o(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.actions)&&s.actionsViews)&&s.durationComponent)&&s.defaultText,e))},useData:!0})},viewOptions:function(){return{className:"button-secondary w-100",template:this.getTemplate()}},picklistOptions:{headingText:Ie.durationComponent.headingText,placeholderText:Ie.durationComponent.placeholderText,isSelectlist:!0,getItemFormat:function(t){return t.get("duration")?"".concat(t.get("duration")," ").concat(Ie.durationComponent.unitLabel):Ie.durationComponent.clear}},initialize:function(t){var e=t.model;this.collection=new c.a.Collection(qe);var n=this.collection.find({duration:e.get("duration")});this.setState({selected:n})},popWidth:function(){return this.getView().$el.outerWidth()},onChangeSelected:function(t){this.triggerMethod("change:duration",t.get("duration"))}}),ze=n(247),Ge=n.n(ze),$e=n(248),Ue=n.n($e),Fe=n(249),We=n.n(Fe),Ye=(n(180),m.View.extend({className:"u-margin--t-8 u-text-align--right",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'<button class="button--green" disabled>'+t.escapeExpression(t.lambda((s=(s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarViews)&&s.disabledSaveView)&&s.saveBtn,e))+"</button>"},useData:!0})})),Ke=m.View.extend({className:"u-margin--t-8 u-text-align--right",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.lambda,r=t.escapeExpression;return'\n    <button class="button--text u-margin--r-4 js-cancel">'+r(o((s=(s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarViews)&&s.saveView)&&s.cancelBtn,e))+'</button>\n    <button class="button--green js-save">'+r(o((s=(s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarViews)&&s.saveView)&&s.saveBtn,e))+"</button>\n  "},useData:!0}),triggers:{"click .js-cancel":"cancel","click .js-save":"save"}}),Je=m.View.extend({className:"pos--relative",template:Ue.a,behaviors:[tt],ui:{input:".js-input",spacer:".js-spacer"},onWatchKeydown:function(t){t.which!==r.a.ENTER_KEY||t.preventDefault()},onWatchChange:function(t){var e=r.a.removeNewline(t);this.ui.input.val(e),this.ui.spacer.text(e||" "),this.model.set("name",e)},templateContext:function(){return{isNew:this.model.isNew(),isDone:this.model.isDone()}},onDomRefresh:function(){this.model.isNew()&&this.ui.input.focus()}}),Qe=m.View.extend({className:"pos--relative",template:We.a,behaviors:[tt],ui:{input:".js-input",spacer:".js-spacer"},onWatchChange:function(t){this.ui.input.val(t),this.ui.spacer.text(t||" "),this.model.set("details",r.a.trim(t))},templateContext:function(){return{isDone:this.model.isDone()}}}),Xe=m.View.extend({childViewTriggers:{save:"save",cancel:"cancel"},className:"action-sidebar flex-region",template:Ge.a,regions:{name:"[data-name-region]",details:"[data-details-region]",state:"[data-state-region]",owner:"[data-owner-region]",due:"[data-due-region]",duration:"[data-duration-region]",save:"[data-save-region]",activity:{el:"[data-activity-region]",regionClass:Me},timestamps:"[data-timestamps-region]"},triggers:{"click .js-close":"close","click @ui.menu":"click:menu"},ui:{menu:".js-menu"},onClickMenu:function(){var t=new c.a.Collection([{onSelect:r.a.bind(this.triggerMethod,this,"delete")}]);new wt({ui:this.ui.menu,uiView:this,headingText:Z.patients.sidebar.action.layoutView.menuOptions.headingText,itemTemplate:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.escapeExpression;return'<span class="action-sidebar__delete-icon">'+o((n.far||e&&e.far||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"trash-alt",{name:"far",hash:{},data:a}))+"</span>"+o(t.lambda((s=(s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.layoutView)&&s.menuOptions)&&s.delete,e))},useData:!0}),lists:[{collection:t}]}).show()},templateContext:function(){return{isNew:this.model.isNew()}},initialize:function(t){var e=t.action;this.action=e,this.model=this.action.clone(),this.listenTo(this.action,{"change:_state":this.onChangeActionState,"change:_role change:_clinician":this.onChangeOwner,"change:due_date":this.onChangeDueDate})},_isDone:function(t){return"done"===p.a.request("entities","states:model",t).get("status")},onChangeActionState:function(){(this._isDone(this.action.get("_state"))||this._isDone(this.action.previous("_state")))&&this.showAction()},onChangeOwner:function(){this.showOwner()},onChangeDueDate:function(){this.showDue()},onAttach:function(){Object(bt.a)({targets:this.el,translateX:[{value:20,duration:0},{value:0,duration:200}],opacity:[{value:0,duration:0},{value:1,duration:300}],easing:"easeInOutQuad"})},onRender:function(){this.showAction()},showAction:function(){this.showForm(),this.showState(),this.showOwner(),this.showDue(),this.showDuration()},showForm:function(){this.stopListening(this.model),this.model=this.action.clone(),this.listenTo(this.model,"change:name change:details",this.showSave),this.model.isNew()?this.showDisabledSave():this.getRegion("save").empty(),this.showName(),this.showDetails()},showName:function(){this.showChildView("name",new Je({model:this.model,action:this.action}))},showDetails:function(){this.showChildView("details",new Qe({model:this.model,action:this.action}))},showState:function(){var t=this,e=this.action.isNew(),n=new Le({model:this.action,state:{isDisabled:e}});this.listenTo(n,"change:state",(function(e){t.action.saveState(e)})),this.showChildView("state",n)},showOwner:function(){var t=this,e=this.action.isNew()||this.action.isDone(),n=new je({model:this.action,state:{isDisabled:e}});this.listenTo(n,"change:owner",(function(e){t.action.saveOwner(e)})),this.showChildView("owner",n)},showDue:function(){var t=this,e=this.action.isNew()||this.action.isDone(),n=new Pe({model:this.action,state:{isDisabled:e}});this.listenTo(n,"change:due",(function(e){t.action.saveDue(e)})),this.showChildView("due",n)},showDuration:function(){var t=this,e=this.action.isNew()||this.action.isDone(),n=new Be({model:this.action,state:{isDisabled:e}});this.listenTo(n,"change:duration",(function(e){t.action.save({duration:e})})),this.showChildView("duration",n)},showSave:function(){if(!this.model.isValid())return this.showDisabledSave();this.showChildView("save",new Ke({model:this.model}))},showDisabledSave:function(){this.showChildView("save",new Ye)},onSave:function(){this.getRegion("save").empty()},onCancel:function(){this.model.isNew()?this.triggerMethod("close",this):this.showForm()}}),Ze=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.created",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),tn=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.clinicianAssigned",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{to_name:null!=e?e.to_clinician:e,role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),en=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.detailsUpdated",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),nn=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.dueDateUpdated",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{date:(n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.value:e,"LONG",{name:"formatMoment",hash:{},data:a}),role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),an=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.durationUpdated",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{duration:null!=e?e.value:e,role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),sn=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.nameUpdated",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{from_name:null!=e?e.previous:e,to_name:null!=e?e.value:e,role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),on=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.roleAssigned",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{to_role:null!=e?e.to_role:e,role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),rn=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,r=t.escapeExpression;return"\n  "+r((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.sidebar.action.activityViews.stateUpdated",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{to_state:null!=e?e.to_state:e,role:null!=e?e.role:e,name:null!=e?e.name:e},data:a}))+"\n  <div>"+r((n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.date:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n"},useData:!0}),ln=m.View.extend({className:"u-margin--b-8",getTemplate:function(){return{ActionCreated:Ze,ActionClinicianAssigned:tn,ActionDetailsUpdated:en,ActionDueDateUpdated:nn,ActionDurationUpdated:an,ActionNameUpdated:sn,ActionRoleAssigned:on,ActionStateUpdated:rn}[this.model.get("type")]},templateContext:function(){var t=this.model.getEditor(),e=this.model.getClinician(),n=r.a.trim("".concat(e.get("first_name")," ").concat(e.get("last_name"))),i=t.getRole().get("name");return{name:r.a.trim("".concat(t.get("first_name")," ").concat(t.get("last_name"))),role:i,to_clinician:n,to_role:this.model.getRole().get("name"),to_state:this.model.getState().get("name")}}}),cn=m.CollectionView.extend({childView:ln}),un=m.View.extend({className:"action-sidebar__timestamps",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.lambda,r=t.escapeExpression,l=null!=e?e:t.nullContext||{},c=t.hooks.helperMissing;return'\n    <div><h4 class="action-sidebar__label">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.activityViews)&&s.createdAt,e))+"</h4>"+r((n.formatMoment||e&&e.formatMoment||c).call(l,null!=e?e.createdAt:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+'</div>\n    <div><h4 class="action-sidebar__label">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.activityViews)&&s.updatedAt,e))+"</h4>"+r((n.formatMoment||e&&e.formatMoment||c).call(l,null!=e?e.updated_at:e,"AT_TIME",{name:"formatMoment",hash:{},data:a}))+"</div>\n  "},useData:!0}),templateContext:function(){return{createdAt:this.getOption("createdEvent").get("date")}}}),hn=kt.extend({onBeforeStart:function(t){var e=t.action;this.action=e,this.showView(new Xe({action:this.action})),this.action.isNew()||this.getRegion("activity").startPreloader()},beforeStart:function(){if(!this.action.isNew())return p.a.request("entities","fetch:actionEvents:collection",this.action.id)},onStart:function(t,e){this.activity=e,this.showActivity()},showActivity:function(){if(!this.action.isNew()){this.showChildView("activity",new cn({collection:this.activity}));var t=this.activity.find({type:"ActionCreated"});this.showChildView("timestamps",new un({model:this.action,createdEvent:t}))}},viewEvents:{save:"onSave",close:"stop",delete:"onDelete"},onSave:function(t){var e=this,n=t.model,i=n.isNew();this.action.saveAll(n.attributes).done((function(){i&&p.a.trigger("event-router","patient:action",e.action.get("_patient"),e.action.id)}))},onDelete:function(){this.action.destroy(),this.stop()},onStop:function(){this.action.trigger("editing",!1),this.action&&this.action.isNew()&&this.action.destroy(),p.a.request("sidebar","close")}}),dn=kt.extend({channelName:"sidebar",radioRequests:{close:"closeSidebar",start:"startSidebarApp"},childApps:{action:hn},startSidebarApp:function(t,e){if(!this.isStarting){this.isStarting=!0,this.stopSidebarApp();var n=r.a.extend({region:this.getRegion()},e);return this.currentApp=this.startChildApp(t,n),this.isStarting=!1,this.getChannel().trigger("show",this.currentApp),this.currentApp}},closeSidebar:function(){var t=this.currentApp;this.stopSidebarApp(),this.getRegion().empty(),this.getChannel().trigger("close",t)},stopSidebarApp:function(){this.currentApp&&(this.currentApp.stop(),delete this.currentApp)}}),pn=n(250),mn=n.n(pn),fn=kt.extend({routerAppName:"",constructor:function(){this.initRouter(),this.listenTo(this.router,"noMatch",this.onNoMatch),this.on("before:stop",this.stopCurrent),kt.apply(this,arguments)},initRouter:function(){this._routes=r.a.result(this,"eventRoutes");var t=this.getRouteTriggers();this.router=new mn.a({routeTriggers:t}),this.bindRouteEvents()},onNoMatch:function(){this.stop(),this._currentRoute=null},getRouteTriggers:function(){return r.a.reduce(this._routes,(function(t,e,n){var i=e.route;return t[n]=i,t}),{})},getEventActions:function(t,e){return r.a.reduce(t,(function(t,n,i){var a=n.action;return t[i]=r.a.partial(e,i,a),t}),{})},bindRouteEvents:function(){var t=this.getEventActions(this._routes,this.routeAction);this.listenTo(this.router.getChannel(),t)},routeAction:function(t,e){var n;this.isRunning()||this.start();for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];this.triggerMethod.apply(this,["before:appRoute",t].concat(a)),p.a.request("sidebar","close"),p.a.request("nav","select",this.routerAppName,t,a),this.setLatestList(t,a),this._currentRoute={event:t,eventArgs:a},r.a.isFunction(e)||(e=this[e]),e.apply(this,a),(n=c.a.history).trigger.apply(n,["current",t].concat(a)),this.triggerMethod.apply(this,["appRoute",t].concat(a))},setLatestList:function(t,e){this._routes[t].isList?p.a.request("history","set:latestList",t,e):this._routes[t].clearLatestList&&p.a.request("history","set:latestList",!1)},startCurrent:function(t,e){this.stopCurrent(),e=r.a.extend({currentRoute:this._currentRoute},e);var n=this.startChildApp(t,e);return this._current=n,n},getCurrent:function(){return this._current},getCurrentRoute:function(){return this._currentRoute},stopCurrent:function(){this._current&&(this._current.stop(),this._current=null)},translateEvent:function(t){var e=this.router.getDefaultRoute(t);return this.router.translateRoute(e,r.a.rest(arguments))},replaceRoute:function(){var t=this.translateEvent.apply(this,arguments);c.a.history.navigate(t,{trigger:!1,replace:!0})}});n(251);function gn(t){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var vn=m.View.extend({template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return'\n      <div class="form__context-trail">\n        <a class="js-back form__context-link">\n          '+c((n.fas||e&&e.fas||l).call(r,"chevron-left",{name:"fas",hash:{},data:a}))+c(t.lambda((s=(s=(s=(s=a&&a.intl)&&s.forms)&&s.form)&&s.formViews)&&s.contextBackBtn,e))+"\n        </a>\n      </div>\n      <h1>"+c("function"===gn(o=null!=(o=n.name||(null!=e?e.name:e))?o:l)?o.call(r,{name:"name",hash:{},data:a}):o)+'</h1>\n      <iframe src="/formapp/'+c("function"===gn(o=null!=(o=n.id||(null!=e?e.id:e))?o:l)?o.call(r,{name:"id",hash:{},data:a}):o)+'" class="form__frame"></iframe>\n  '},useData:!0}),triggers:{"click .js-back":"click:back"},onClickBack:function(){p.a.request("history","go:back")}}),wn=kt.extend({onBeforeStart:function(){this.getRegion().startPreloader()},onStart:function(t,e){var n=new c.a.Model({id:"678sfd",name:"Foo"});this.showView(new vn({model:n}))}}),bn=fn.extend({routerAppName:"FormsApp",childApps:{form:wn},eventRoutes:{"form:patientAction":{action:"showFormAction",route:"form/:id"}},showFormAction:function(t){this.startCurrent("form",{formId:t})}}),yn=kt.extend({constructor:function(){this._current=null,this.initRouter(),this.on("before:stop",this.stopCurrent),kt.apply(this,arguments)},initRouter:function(){var t=r.a.result(this,"eventRoutes",{});this._eventRoutes=Object(m.normalizeMethods)(this,t)},startRoute:function(t){var e=t.event,n=t.eventArgs;this._eventRoutes[e].apply(this,n)},mixinOptions:function(t){var e=r.a.result(this,"currentAppOptions");return r.a.extend({},e,t)},startCurrent:function(t,e){this.stopCurrent();var n=this.startChildApp(t,this.mixinOptions(e));return this._current=n,n},getCurrent:function(){return this._current},stopCurrent:function(){this._current&&(this._current.stop(),this._current=null)}}),xn=n(252),_n=n.n(xn),Cn=n(253),Mn=n.n(Cn),Tn=(n(165),m.View.extend({tagName:"tr",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'\n    <td class="patient__empty-list">\n      <h2>'+t.escapeExpression(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dataEvents)&&s.dataEventsViews)&&s.emptyView,e))+"</h2>\n    </td>\n  "},useData:!0})})),En=m.View.extend({modelEvents:{editing:"onEditing",change:"render","change:_state":"onChangeState"},className:function(){return this.model.isNew()?"table-list__item is-selected":"table-list__item"},tagName:"tr",template:_n.a,regions:{state:"[data-state-region]",owner:"[data-owner-region]",due:"[data-due-region]"},triggers:{click:"click"},onClick:function(){p.a.trigger("event-router","patient:action",this.model.get("_patient"),this.model.id)},onEditing:function(t){this.$el.toggleClass("is-selected",t)},onRender:function(){this.showState(),this.showOwner(),this.showDue()},showState:function(){var t=this,e=this.model.isNew(),n=new Le({model:this.model,isCompact:!0,state:{isDisabled:e}});this.listenTo(n,"change:state",(function(e){t.model.saveState(e)})),this.showChildView("state",n)},showOwner:function(){var t=this,e=this.model.isNew(),n=new je({model:this.model,isCompact:!0,state:{isDisabled:e}});this.listenTo(n,"change:owner",(function(e){t.model.saveOwner(e)})),this.showChildView("owner",n)},showDue:function(){var t=this,e=this.model.isNew(),n=new Pe({model:this.model,isCompact:!0,state:{isDisabled:e}});this.listenTo(n,"change:due",(function(e){t.model.saveDue(e)})),this.showChildView("due",n)},onChangeState:function(){var t=this;this.model.isDone()?Object(bt.a)({targets:this.el,delay:300,duration:500,opacity:[1,0],easing:"easeOutQuad",complete:function(){t.triggerMethod("change:visible")}}):this.$el.css("opacity")&&(this.$el.css({opacity:1}),this.triggerMethod("change:visible"))}}),Sn=m.CollectionView.extend({childViewEvents:{"change:visible":"filter"},className:"table-list patient__list",tagName:"table",childView:En,emptyView:Tn,viewComparator:function(t){var e=t.model;return-h()(e.get("updated_at")).format("X")},viewFilter:function(t){return!t.model.isDone()}}),Vn=m.View.extend({className:"flex-region patient__content",regions:{content:{el:"[data-content-region]",regionClass:Me,replaceElement:!0}},template:Mn.a,triggers:{"click .js-data-events":"click:dataEvents","click .js-add":"click:add"},onClickDataEvents:function(){p.a.trigger("event-router","patient:dataEvents",this.model.id)}}),Dn=kt.extend({viewTriggers:{"click:add":"click:add"},onBeforeStart:function(t){var e=t.patient;this.patient=e,this.showView(new Vn({model:e})),this.getRegion("content").startPreloader()},beforeStart:function(t){var e=t.patient;return p.a.request("entities","fetch:patientActions:collection",{patient:e,filter:{status:"queued,started"}})},onStart:function(t,e){t.patient;this.actions=e,this.showChildView("content",new Sn({collection:e}))},onClickAdd:function(){p.a.trigger("event-router","patient:action:new",this.patient.id)},onEditAction:function(t){t.isNew()?this.actions.unshift(t):t.trigger("editing",!0)}}),kn=m.View.extend({tagName:"tr",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'\n    <td class="patient__empty-list">\n      <h2>'+t.escapeExpression(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dataEvents)&&s.dataEventsViews)&&s.emptyView,e))+"</h2>\n    </td>\n  "},useData:!0})}),An=m.View.extend({modelEvents:{editing:"onEditing",change:"render","change:_state":"onChangeState"},className:"table-list__item",tagName:"tr",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return'\n    <td class="table-list__cell w-40"><span class="patient__action-icon">'+l((n.far||e&&e.far||r).call(o,"file-alt",{name:"far",hash:{},data:a}))+"</span>"+l("function"==typeof(s=null!=(s=n.name||(null!=e?e.name:e))?s:r)?s.call(o,{name:"name",hash:{},data:a}):s)+'</td>\n    <td class="table-list__cell w-60">\n      <span class="table-list__meta" data-state-region></span><span class="table-list__meta" data-owner-region></span><span class="table-list__meta" data-due-region></span>\n      <span class="patient__action-ts">'+l((n.formatMoment||e&&e.formatMoment||r).call(o,null!=e?e.updated_at:e,"TIME_OR_DAY",{name:"formatMoment",hash:{},data:a}))+"</span>\n    </td>\n  "},useData:!0}),regions:{state:"[data-state-region]",owner:"[data-owner-region]",due:"[data-due-region]"},triggers:{click:"click"},onClick:function(){p.a.trigger("event-router","patient:action",this.model.get("_patient"),this.model.id)},onEditing:function(t){this.$el.toggleClass("is-selected",t)},onRender:function(){this.showState(),this.showOwner(),this.showDue()},showState:function(){var t=this,e=new Le({model:this.model,isCompact:!0});this.listenTo(e,"change:state",(function(e){t.model.saveState(e)})),this.showChildView("state",e)},showOwner:function(){var t=new je({model:this.model,isCompact:!0,state:{isDisabled:!0}});this.showChildView("owner",t)},showDue:function(){var t=new Pe({model:this.model,isCompact:!0,state:{isDisabled:!0}});this.showChildView("due",t)},onChangeState:function(){var t=this;this.model.isDone()?this.$el.css("opacity")&&(this.$el.css({opacity:1}),this.triggerMethod("change:visible")):Object(bt.a)({targets:this.el,delay:300,duration:500,opacity:[1,0],easing:"easeOutQuad",complete:function(){t.triggerMethod("change:visible")}})}}),Rn=m.CollectionView.extend({childViewEvents:{"change:visible":"filter"},className:"table-list patient__list",tagName:"table",childView:An,emptyView:kn,viewComparator:function(t){return-t.model.moment("updated_at").format("X")},viewFilter:function(t){return t.model.isDone()}}),In=m.View.extend({className:"flex-region patient__content",regions:{content:{el:"[data-content-region]",regionClass:Me,replaceElement:!0}},template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.lambda,r=t.escapeExpression;return'\n    <div>\n      <button class="patient__tab js-dashboard">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dataEvents)&&s.dataEventsViews)&&s.dashboardBtn,e))+'</button>\n      <span class="patient__tab--selected">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dataEvents)&&s.dataEventsViews)&&s.dataEventsBtn,e))+"</span>\n    </div>\n    <div data-content-region></div>\n  "},useData:!0}),triggers:{"click .js-dashboard":"click:dashboard"},onClickDashboard:function(){p.a.trigger("event-router","patient:dashboard",this.model.id)}}),Nn=kt.extend({onBeforeStart:function(t){var e=t.patient;this.showView(new In({model:e})),this.getRegion("content").startPreloader()},beforeStart:function(t){var e=t.patient;return p.a.request("entities","fetch:patientActions:collection",{patient:e,filter:{status:"done"}})},onStart:function(t,e){t.patient;this.showChildView("content",new Rn({collection:e}))},onEditAction:function(t){t.trigger("editing",!0)}}),On=kt.extend({beforeStart:function(t){var e=t.actionId,n=t.patientId;if(!e){var i=p.a.request("bootstrap","currentUser"),a=p.a.request("bootstrap","currentOrg").getStates();return p.a.request("entities","actions:model",{_patient:n,_state:a.at(0).id,_clinician:i.id,_role:null,duration:0,due_date:null})}return p.a.request("entities","fetch:actions:model",e)},onFail:function(){p.a.request("alert","show:error",Z.patients.patient.action.notFound),this.stop()},onStart:function(t,e){this.action=e;var n=p.a.request("sidebar","start","action",{action:e});this.listenTo(n,"stop",this.stop)}});function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Hn=m.View.extend({className:"patient__context-trail",template:v.a.template({1:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return'      <a class="js-back patient__context-link">\n        '+l((n.fas||e&&e.fas||r).call(o,"chevron-left",{name:"fas",hash:{},data:a}))+l(t.lambda((s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.patientViews)&&s.contextBackBtn,e))+"\n      </a>\n      "+l((n.fas||e&&e.fas||r).call(o,"chevron-right",{name:"fas",hash:{},data:a}))+"\n    "},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return"\n"+(null!=(s=n.if.call(r,null!=e?e.hasLatestList:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+c("function"===Ln(o=null!=(o=n.first_name||(null!=e?e.first_name:e))?o:l)?o.call(r,{name:"first_name",hash:{},data:a}):o)+" "+c("function"===Ln(o=null!=(o=n.last_name||(null!=e?e.last_name:e))?o:l)?o.call(r,{name:"last_name",hash:{},data:a}):o)+"\n  "},useData:!0}),triggers:{"click .js-back":"click:back"},onClickBack:function(){p.a.request("history","go:latestList")},templateContext:function(){return{hasLatestList:p.a.request("history","has:latestList")}}}),jn=m.View.extend({className:"patient__frame",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){return'\n    <div class="patient__layout">\n        <div data-context-trail-region></div>\n        <div data-content-region></div>\n    </div>\n    <div class="patient__sidebar" data-sidebar-region></div>\n  '},useData:!0}),regions:{contextTrail:{el:"[data-context-trail-region]",replaceElement:!0},sidebar:"[data-sidebar-region]",content:{el:"[data-content-region]",regionClass:Me,replaceElement:!0}},onRender:function(){this.showChildView("contextTrail",new Hn({model:this.model}))}}),Pn=m.Behavior.extend({modelEvents:{change:function(t){if(!this.view.isDestroyed()){var e=this.options.changeAttributes;if(!e)throw new Error("changeAttributes must be defined.");var n=r.a.keys(t.changed);r.a.intersection(n,e).length&&this.view.render()}}}}),qn=n(254),Bn=n.n(qn),zn=n(255),Gn=n.n(zn),$n=(n(256),Z.patients.patient.sidebar.sidebarViews),Un=[{heading:$n.dobLabel,template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing;return t.escapeExpression((n.formatHTMLMessage||e&&e.formatHTMLMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.patient.sidebar.sidebarViews.dob",{name:"intlGet",hash:{},data:a}),{name:"formatHTMLMessage",hash:{age:null!=e?e.age:e,dob:(n.formatMoment||e&&e.formatMoment||o).call(s,null!=e?e.dob:e,"LONG",{name:"formatMoment",hash:{inputFormat:"YYYY-MM-DD"},data:a})},data:a}))},useData:!0}),data:function(t){var e=t.get("birth_date");return{dob:e,age:h()().diff(h()(e,"YYYY-MM-DD"),"years")}}},{heading:$n.sexLabel,template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing;return t.escapeExpression((n.formatMessage||e&&e.formatMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.patient.sidebar.sidebarViews.sex",{name:"intlGet",hash:{},data:a}),{name:"formatMessage",hash:{sex:null!=e?e.sex:e},data:a}))},useData:!0})},{heading:$n.mrnLabel,template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return t.escapeExpression("function"==typeof(s=null!=(s=n.mrn||(null!=e?e.mrn:e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"mrn",hash:{},data:a}):s)},useData:!0})}],Fn=m.CollectionView.extend({className:"patient-sidebar__section",showView:function(t,e){e||(e="");var n=new m.View({className:"patient-sidebar__".concat(t),template:r.a.constant(r.a.trim(e))});this.addChildView(n)},onRender:function(){r.a.each(Un,this.showItem,this),this.showPatientFields()},showItem:function(t){var e=t.heading,n=t.data,i=void 0===n?r.a.constant(this.model.attributes):n,a=t.template;this.showView("heading",e),this.showView("item",X(a,i(this.model)))},showPatientFields:function(){var t=this;this.model.getFields().each((function(e){t.showView("heading",e.get("name")),t.showView("item",e.get("value"))}))}}),Wn=m.View.extend({behaviors:[{behaviorClass:Pn,changeAttributes:["_groups"]}],className:"patient-sidebar__section",template:Gn.a,templateContext:function(){return{groups:r.a.map(this.model.getGroups().models,"attributes")}}}),Yn=m.View.extend({className:"patient-sidebar",template:Bn.a,regionClass:m.Region.extend({replaceElement:!0}),regions:{info:"[data-info-region]",groups:"[data-groups-region]"},onRender:function(){var t=this.model;this.showChildView("info",new Fn({model:t})),this.showChildView("groups",new Wn({model:t}))}}),Kn=yn.extend({eventRoutes:function(){return{"patient:dashboard":r.a.partial(this.startCurrent,"dashboard"),"patient:dataEvents":r.a.partial(this.startCurrent,"dataEvents"),"patient:action":this.startPatientAction,"patient:action:new":this.startPatientAction}},childApps:{dashboard:Dn,dataEvents:Nn,action:On},currentAppOptions:function(){return{region:this.getRegion("content"),patient:this.getOption("patient")}},onBeforeStart:function(){this.getRegion().startPreloader()},beforeStart:function(t){var e=t.patientId;return p.a.request("entities","fetch:patients:model",e)},onStart:function(t,e){var n=t.currentRoute;this.patient=e,this.setView(new jn({model:e})),this.showSidebar(),this.listenTo(p.a.channel("sidebar"),{show:this.emptySidebar,close:this.showSidebar}),this.startRoute(n),this.showView()},startPatientAction:function(t,e){var n=this.getChildApp("action");this.listenToOnce(n,{start:function(){this.editActionList(n.action,t)},fail:function(){this.startCurrent("dashboard",{patientId:t})}}),this.startChildApp("action",{actionId:e,patientId:t})},startActionList:function(t,e){return t.isDone()?this.startCurrent("dataEvents",{patientId:e}):this.startCurrent("dashboard",{patientId:e})},editActionList:function(t,e){var n=this.getCurrent()||this.startActionList(t,e);n.isRunning()?n.triggerMethod("edit:action",t):this.listenToOnce(n,"start",(function(){n.triggerMethod("edit:action",t)}))},showSidebar:function(){this.showChildView("sidebar",new Yn({model:this.patient}))},emptySidebar:function(){this.getRegion("sidebar").empty()}});n(181);function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Qn=m.View.extend({tagName:"tr",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'\n    <td class="table-empty-list">\n      <h2>'+t.escapeExpression(t.lambda((s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.list)&&s.patientsAllViews)&&s.emptyView,e))+"</h2>\n    </td>\n  "},useData:!0})}),Xn=m.View.extend({className:"table-list__item",tagName:"tr",template:v.a.template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return(null!=(s=n.unless.call(null!=e?e:t.nullContext||{},a&&a.first,{name:"unless",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+t.escapeExpression(t.lambda(null!=e?e.name:e,e))},2:function(t,e,n,i,a){return", "},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return'\n    <td class="table-list__cell w-20">'+c("function"===Jn(o=null!=(o=n.first_name||(null!=e?e.first_name:e))?o:l)?o.call(r,{name:"first_name",hash:{},data:a}):o)+" "+c("function"===Jn(o=null!=(o=n.last_name||(null!=e?e.last_name:e))?o:l)?o.call(r,{name:"last_name",hash:{},data:a}):o)+'</td>\n    <td class="table-list__cell w-80">'+(null!=(s=n.each.call(r,null!=e?e.groups:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"</td>\n  "},useData:!0}),templateContext:function(){return{groups:r.a.sortBy(r.a.map(this.model.getGroups().models,"attributes"),"name")}},triggers:{click:"click"},onClick:function(){p.a.trigger("event-router","patient:dashboard",this.model.id)}}),Zn=m.View.extend({className:"flex-region",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.lambda,r=t.escapeExpression;return'\n    <div class="list-page__header">\n      <div class="list-page__title">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.list)&&s.patientsAllViews)&&s.layoutView)&&s.title,e))+'<span class="list-page__header-icon js-title-info">'+r((n.fas||e&&e.fas||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"info-circle",{name:"fas",hash:{},data:a}))+'</span></div>\n      <div class="list-page__filters" data-filters-region></div>\n      <table class="w-100 js-list-header"><tr>\n        <td class="table-list__header w-20">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.list)&&s.patientsAllViews)&&s.layoutView)&&s.patientHeader,e))+'</td>\n        <td class="table-list__header w-80">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.list)&&s.patientsAllViews)&&s.layoutView)&&s.groupHeader,e))+'</td>\n      </tr></table>\n    </div>\n    <div class="flex-region list-page__list js-list" data-list-region></div>\n  '},useData:!0}),regions:{filters:"[data-filters-region]",list:{el:"[data-list-region]",regionClass:Me}},childViewEvents:{"update:listDom":"fixWidth"},ui:{listHeader:".js-list-header",list:".js-list",tooltip:".fa-info-circle"},onRender:function(){new Ct({messageHtml:Z.patients.list.patientsAllViews.tooltip,uiView:this,ui:this.ui.tooltip,orientation:"vertical"})},initialize:function(){var t=p.a.channel("user-activity");this.listenTo(t,"window:resize",this.fixWidth)},fixWidth:function(){if(this.isRendered()){var t=this.ui.listHeader.width(),e=this.ui.list.contents().width(),n=parseInt(this.ui.list.css("paddingRight"),10),i=t-e;this.ui.list.css({paddingRight:"".concat(n-i,"px")})}}}),ti=m.CollectionView.extend({className:"table-list",tagName:"table",childView:Xn,viewComparator:function(t){var e=t.model;return"".concat(e.get("last_name")," ").concat(e.get("first_name")).toLowerCase()},onAttach:function(){this.triggerMethod("update:listDom",this)},onRenderChildren:function(){this.isAttached()&&this.triggerMethod("update:listDom",this)},emptyView:Qn}),ei=mt.extend({viewOptions:{className:"button-filter",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return l("function"==typeof(s=null!=(s=n.name||(null!=e?e.name:e))?s:r)?s.call(o,{name:"name",hash:{},data:a}):s)+l((n.far||e&&e.far||r).call(o,"angle-down",{name:"far",hash:{},data:a}))},useData:!0})},picklistOptions:{attr:"name"}}),ni=kt.extend({stateEvents:{change:"restart"},onBeforeStart:function(){this.isRestarting()||(this.showView(new Zn),this.getRegion("list").startPreloader(),this.showFilterView())},beforeStart:function(){var t=this.getState("groupId");return p.a.request("entities","fetch:patients:collection",{groupId:t})},onStart:function(t,e){this.showChildView("list",new ti({collection:e}))},showFilterView:function(){var t=this,e=this._getGroups(),n=this.getState("groupId")||e.at(0).id;this.setState({groupId:n});var i=new ei({collection:e,state:{selected:e.get(n)}});this.listenTo(i.getState(),"change:selected",(function(e,n){var i=n.id;t.setState("groupId",i)})),this.showChildView("filters",i)},_getGroups:function(){return p.a.request("bootstrap","currentUser").getGroups()}}),ii=(n(257),m.View.extend({tagName:"tr",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'\n    <td class="table-empty-list">\n      <h2>'+t.escapeExpression(t.lambda((s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.view)&&s.viewViews)&&s.emptyView,e))+"</h2>\n    </td>\n  "},useData:!0})})),ai=m.View.extend({className:"table-list__item",tagName:"tr",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=t.lambda,l=t.escapeExpression,c=null!=e?e:t.nullContext||{},u=t.hooks.helperMissing;return'\n    <td class="table-list__cell w-15 view-list__patient-name js-patient">'+l(r(null!=(s=null!=e?e.patient:e)?s.first_name:s,e))+" "+l(r(null!=(s=null!=e?e.patient:e)?s.last_name:s,e))+'</td>\n    <td class="table-list__cell w-40"><span class="view-list__name-icon">'+l((n.far||e&&e.far||u).call(c,"file-alt",{name:"far",hash:{},data:a}))+"</span>"+l("function"==typeof(o=null!=(o=n.name||(null!=e?e.name:e))?o:u)?o.call(c,{name:"name",hash:{},data:a}):o)+'</td>\n    <td class="table-list__cell w-30">\n      <span class="table-list__meta" data-state-region></span><span class="table-list__meta" data-owner-region></span><span class="table-list__meta" data-due-region></span>\n    </td>\n    <td class="table-list__cell view-list__action-ts w-15">'+l((n.formatMoment||e&&e.formatMoment||u).call(c,null!=e?e.updated_at:e,"TIME_OR_DAY",{name:"formatMoment",hash:{},data:a}))+"</td>\n  "},useData:!0}),regions:{state:"[data-state-region]",owner:"[data-owner-region]",due:"[data-due-region]"},templateContext:function(){return{patient:this.model.getPatient().attributes}},triggers:{click:"click","click .js-patient":"click:patient"},onClick:function(){p.a.trigger("event-router","patient:action",this.model.get("_patient"),this.model.id)},onClickPatient:function(){p.a.trigger("event-router","patient:dashboard",this.model.get("_patient"))},onRender:function(){this.showState(),this.showOwner(),this.showDue()},showState:function(){var t=this,e=new Le({model:this.model,isCompact:!0});this.listenTo(e,"change:state",(function(e){t.model.saveState(e)})),this.showChildView("state",e)},showOwner:function(){var t=this,e=this.model.isDone(),n=new je({model:this.model,isCompact:!0,state:{isDisabled:e}});this.listenTo(n,"change:owner",(function(e){t.model.saveOwner(e)})),this.showChildView("owner",n)},showDue:function(){var t=this,e=this.model.isDone(),n=new Pe({model:this.model,isCompact:!0,state:{isDisabled:e}});this.listenTo(n,"change:due",(function(e){t.model.saveDue(e)})),this.showChildView("due",n)}}),si=m.View.extend({className:"flex-region",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression,c=t.lambda;return'\n    <div class="list-page__header">\n      <div class="list-page__title">'+l((n.formatMessage||e&&e.formatMessage||r).call(o,(n.intlGet||e&&e.intlGet||r).call(o,"patients.view.viewViews.listTitles",{name:"intlGet",hash:{},data:a}),{name:"formatMessage",hash:{role:null!=e?e.role:e,title:null!=e?e.viewId:e},data:a}))+'<span class="list-page__header-icon js-title-info">'+l((n.fas||e&&e.fas||r).call(o,"info-circle",{name:"fas",hash:{},data:a}))+'</span></div>\n      <div class="list-page__filters" data-filters-region></div>\n      <table class="w-100 js-list-header"><tr>\n        <td class="table-list__header w-15">'+l(c((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.view)&&s.viewViews)&&s.layoutView)&&s.patientHeader,e))+'</td>\n        <td class="table-list__header w-40">'+l(c((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.view)&&s.viewViews)&&s.layoutView)&&s.actionHeader,e))+'</td>\n        <td class="table-list__header w-30">'+l(c((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.view)&&s.viewViews)&&s.layoutView)&&s.attrHeader,e))+'</td>\n        <td class="table-list__header w-15">'+l(c((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.view)&&s.viewViews)&&s.layoutView)&&s.updatedHeader,e))+'</td>\n      </tr></table>\n    </div>\n    <div class="flex-region list-page__list js-list" data-list-region></div>\n  '},useData:!0}),templateContext:function(){return{role:p.a.request("bootstrap","currentUser").getRole().get("name"),viewId:r.a.underscored(this.getOption("viewId"))}},regions:{filters:"[data-filters-region]",list:{el:"[data-list-region]",regionClass:Me}},childViewEvents:{"update:listDom":"fixWidth"},ui:{listHeader:".js-list-header",list:".js-list",tooltip:".fa-info-circle"},onRender:function(){var t=v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing;return t.escapeExpression((n.formatMessage||e&&e.formatMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,"patients.view.viewViews.listTooltips",{name:"intlGet",hash:{},data:a}),{name:"formatMessage",hash:{role:null!=e?e.role:e,title:null!=e?e.viewId:e},data:a}))},useData:!0});new Ct({message:X(t,this.templateContext()),uiView:this,ui:this.ui.tooltip,orientation:"vertical"})},initialize:function(){var t=p.a.channel("user-activity");this.listenTo(t,"window:resize",this.fixWidth)},fixWidth:function(){if(this.isRendered()){var t=this.ui.listHeader.width(),e=this.ui.list.contents().width(),n=parseInt(this.ui.list.css("paddingRight"),10),i=t-e;this.ui.list.css({paddingRight:"".concat(n-i,"px")})}}}),oi=m.CollectionView.extend({className:"table-list",tagName:"table",childView:ai,emptyView:ii,viewComparator:function(t){return-t.model.moment("updated_at").format("X")},onAttach:function(){this.triggerMethod("update:listDom",this)},onRenderChildren:function(){this.isAttached()&&this.triggerMethod("update:listDom",this)}}),ri=mt.extend({viewOptions:{className:"button-filter",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return l("function"==typeof(s=null!=(s=n.name||(null!=e?e.name:e))?s:r)?s.call(o,{name:"name",hash:{},data:a}):s)+l((n.far||e&&e.far||r).call(o,"angle-down",{name:"far",hash:{},data:a}))},useData:!0})},picklistOptions:{attr:"name"}}),li=kt.extend({stateEvents:{change:"restart"},onBeforeStart:function(t){var e=t.viewId;this.isRestarting()||(this.viewId=e,this.currentClinician=p.a.request("bootstrap","currentUser"),this.groups=this.currentClinician.getGroups(),this.showView(new si({viewId:e})),this.getRegion("list").startPreloader(),this.showFilterView())},beforeStart:function(){var t=this.getState("groupId");"all-groups"===t&&(t=this.groups.pluck("id").join(","));var e=r.a.extend({group:t},this._filtersById(this.viewId,this.currentClinician));return p.a.request("entities","fetch:actions:collection",{filter:e})},onStart:function(t,e){this.showChildView("list",new oi({collection:e}))},showFilterView:function(){var t=this,e=this._getGroups(),n=this.getState("groupId")||e.at(0).id;this.setState({groupId:n});var i=new ri({collection:e,state:{selected:e.get(n)}});this.listenTo(i.getState(),"change:selected",(function(e,n){var i=n.id;t.setState("groupId",i)})),this.showChildView("filters",i)},_getGroups:function(){var t=this.groups.clone();return t.unshift({id:"all-groups",name:"All Groups"}),t},_filtersById:function(t,e){var n=e.id,i=e.getRole(),a=["queued","started"].join(",");return{"owned-by-me":{clinician:n,status:a},"actions-for-my-role":{role:i.id,status:a},"new-actions":{created:h()().subtract(24,"hours").format(),status:a},"updated-past-three-days":{updated:h()().startOf("day").subtract(3,"days").format(),status:a},"done-last-thirty-days":{updated:h()().startOf("day").subtract(30,"days").format(),status:"done"}}[t]}}),ci=fn.extend({routerAppName:"PatientsApp",childApps:{patient:Kn,patientsAll:ni,ownedByMe:li,roleActions:li,newActions:li,pastThree:li,lastThirty:li},initialize:function(){this.router.route("","default",r.a.bind(this.defaultRoute,this))},defaultRoute:function(){var t=this;this.routeAction("patients:all",(function(){t.replaceRoute("patients:all"),t.showPatientsAll()}))},eventRoutes:{"patients:all":{action:"showPatientsAll",route:"patients/all",isList:!0},view:{action:"showPatientsView",route:"view/:id",isList:!0},"patient:dashboard":{action:"showPatient",route:"patient/dashboard/:id"},"patient:dataEvents":{action:"showPatient",route:"patient/data-events/:id"},"patient:action":{action:"showPatient",route:["patient/:id/action/:id"]},"patient:action:new":{action:"showPatient",route:["patient/:id/action"]}},showPatient:function(t){var e=this.getCurrent();e&&r.a.propertyOf(e.patient)("id")===t?e.startRoute(this.getCurrentRoute()):this.startCurrent("patient",{patientId:t})},showPatientsAll:function(){this.startCurrent("patientsAll")},showPatientsView:function(t){this.startCurrent({"owned-by-me":"ownedByMe","actions-for-my-role":"roleActions","new-actions":"newActions","updated-past-three-days":"pastThree","done-last-thirty-days":"lastThirty"}[t],{viewId:t})}});n(258);function ui(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function hi(t){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var di=m.View.extend({className:"app-nav",regions:{patients:"[data-patients-region]",views:"[data-views-region]"},ui:{header:".js-header"},triggers:{"click @ui.header":"click:header"},initialize:function(t){var e=t.currentOrg;this.currentOrg=e},template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression,u=t.lambda;return'\n    <div class="app-nav__header js-header">\n      <div>\n        <h2 class="app-nav__header-title u-text--overflow">'+c("function"===hi(o=null!=(o=n.orgName||(null!=e?e.orgName:e))?o:l)?o.call(r,{name:"orgName",hash:{},data:a}):o)+'</h2>\n        <span class="app-nav__header-arrow">'+c((n.far||e&&e.far||l).call(r,"angle-down",{name:"far",hash:{},data:a}))+'</span>\n      </div>\n      <div class="u-text--overflow">'+c("function"===hi(o=null!=(o=n.first_name||(null!=e?e.first_name:e))?o:l)?o.call(r,{name:"first_name",hash:{},data:a}):o)+" "+c("function"===hi(o=null!=(o=n.last_name||(null!=e?e.last_name:e))?o:l)?o.call(r,{name:"last_name",hash:{},data:a}):o)+'</div>\n    </div>\n    <div class="app-nav__content overflow-y">\n      <h3 class="app-nav__title">'+c(u((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.appNav)&&s.views)&&s.title,e))+'</h3>\n      <div data-views-region></div>\n      <h3 class="app-nav__title">'+c(u((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.appNav)&&s.patients)&&s.title,e))+"</h3>\n      <div data-patients-region></div>\n    </div>\n  "},useData:!0}),onClickHeader:function(){var t=this,e=new wt({className:"picklist app-nav__picklist",popWidth:"248px",ui:this.ui.header,uiView:this,headingText:this.currentOrg.get("name"),lists:[{collection:new c.a.Collection([{onSelect:function(){p.a.request("auth","logout")}}]),itemTemplate:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;return"<a>"+t.escapeExpression((n.fas||e&&e.fas||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"sign-out-alt",{name:"fas",hash:{},data:a}))+" Sign Out</a>"},useData:!0})}]});this.ui.header.addClass("is-selected"),this.listenTo(e,"destroy",(function(){t.isRendered()&&t.ui.header.removeClass("is-selected")})),e.show()},templateContext:function(){return{orgName:this.currentOrg.get("name")}},removeSelected:function(){this.$(".is-selected").removeClass("is-selected")}}),pi=m.View.extend({className:"app-nav__link",tagName:"a",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing;return t.escapeExpression((n.formatMessage||e&&e.formatMessage||o).call(s,(n.intlGet||e&&e.intlGet||o).call(s,null!=e?e.titleI18nKey:e,{name:"intlGet",hash:{},data:a}),{name:"formatMessage",hash:{role:(n.role||e&&e.role||o).call(s,{name:"role",hash:{},data:a})},data:a}))},useData:!0}),triggers:{click:"click"},modelEvents:{selected:"onSelected"},onClick:function(){p.a.trigger.apply(p.a,["event-router",this.model.get("event")].concat(ui(this.model.get("eventArgs"))))},onSelected:function(){this.$el.addClass("is-selected")},templateContext:{role:function(){return p.a.request("bootstrap","currentUser").getRole().get("name")}}}),mi=m.CollectionView.extend({childView:pi}),fi=new c.a.Collection([{titleI18nKey:"globals.appNav.patients.allPatients",event:"patients:all",eventArgs:[]}]),gi=new c.a.Collection([{titleI18nKey:"globals.appNav.views.ownedByMe",event:"view",eventArgs:["owned-by-me"]},{titleI18nKey:"globals.appNav.views.myRole",event:"view",eventArgs:["actions-for-my-role"]},{titleI18nKey:"globals.appNav.views.newActions",event:"view",eventArgs:["new-actions"]},{titleI18nKey:"globals.appNav.views.updatedPastThree",event:"view",eventArgs:["updated-past-three-days"]},{titleI18nKey:"globals.appNav.views.doneLastThirty",event:"view",eventArgs:["done-last-thirty-days"]}]),vi=kt.extend({channelName:"nav",radioRequests:{select:"onSelect"},onSelect:function(t,e,n){n=r.a.compact(n);var i=this._navMatch(gi,e,n)||this._navMatch(fi,e,n);i&&(this.getChildView("nav").removeSelected(),i.trigger("selected"))},_navMatch:function(t,e,n){return t.find((function(t){return t.get("event")===e&&r.a.isEqual(t.get("eventArgs"),n)}))},onStart:function(){this.showAppNav(),new dn({region:this.getRegion("sidebar")}),new ci({region:this.getRegion("content")}),this.initFormsApp()},initFormsApp:function(){var t=this.getView(),e=new bn({region:this.getRegion("content")});this.listenTo(e,{start:r.a.bind(t.toggleNav,t,!1),stop:r.a.bind(t.toggleNav,t,!0)})},showAppNav:function(){var t=new di({model:p.a.request("bootstrap","currentUser"),currentOrg:p.a.request("bootstrap","currentOrg")}),e=new mi({collection:fi}),n=new mi({collection:gi});t.showChildView("patients",e),t.showChildView("views",n),this.showChildView("nav",t)}}),wi=n(259),bi=n.n(wi),yi=(n(260),m.View.extend({className:"error-page",template:bi.a,triggers:{"click .js-back":"click:back"},onClickBack:function(){p.a.request("history","go:back")}})),xi=fn.extend({initialize:function(){this.router.route("*unknown","404",r.a.bind(this.start,this))},viewEvents:{"click:back":"stop"},onBeforeStop:function(){this.getRegion().empty()},onStart:function(){this.showView(new yi)}}),_i=(n(182),p.a.channel("user-activity")),Ci=p.a.channel("top-region"),Mi=m.Behavior.extend({regionName:"region",className:"fill-window",initialize:function(t){this.mergeOptions(t,["regionName","className"])},onInitialize:function(){this.region=this.view.getRegion(this.regionName),this.listenTo(this.region,{empty:r.a.bind(this.view.triggerMethod,this.view,"region:empty"),show:r.a.bind(this.view.triggerMethod,this.view,"region:show")})},onRegionShow:function(){this.listenTo(_i,"body:down",this.onUserActivity),this.$el.addClass(this.className)},onRegionEmpty:function(){this.stopListening(_i),this.$el.removeClass(this.className)},onUserActivity:function(t){var e=t.target;this.region.hasView()&&!Ci.request("contains",this.view,e)&&this.region.empty()}}),Ti=(n(261),n(262),p.a.channel("user-activity")),Ei=p.a.channel("history"),Si=m.View.extend({className:"app-frame",template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){return'\n    <div class="app-frame__nav js-nav" data-nav-region></div>\n    <div class="app-frame__content flex-region" data-content-region></div>\n    <div class="app-frame__sidebar" data-sidebar-region></div>\n  '},useData:!0}),ui:{nav:".js-nav"},regions:{nav:"[data-nav-region]",content:{el:"[data-content-region]",regionClass:Me},sidebar:"[data-sidebar-region]"},toggleNav:function(t){this.ui.nav.toggleClass("is-hidden",!t)}}),Vi=m.View.extend({behaviors:[Mi],regionClass:m.Region.extend({replaceElement:!0}),template:v.a.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){return"<div data-region></div>"},useData:!0}),regions:{region:"[data-region]"},contains:function(t){var e=this.getRegion("region");return!(!e.hasView()||!this.Dom.hasEl(e.currentView.el,t))||(this.ignoreEl===t||(!(!this.ignoreEl||!this.Dom.hasEl(this.ignoreEl,t))||void 0))},empty:function(){this.region.empty()}}),Di=Vi.extend({behaviors:[{behaviorClass:Mi,className:"fill-window--dark"}],initialize:function(t){var e=t.$body;this.region=this.getRegion("region"),this.$body=e},onRegionShow:function(){this.listenTo(Ti,"window:resize",this.setLocation),this.setLocation()},onRegionEmpty:function(){this.stopListening(Ti)},setLocation:function(){var t=this.region.currentView,e=t.$el.outerWidth(),n=t.$el.outerHeight(),i=this.$body.height(),a=this.$body.width()/2-e/2,s=i/3-n/3;t.$el.css({left:r.a.px(a),top:r.a.px(s)})},contains:function(t,e){return!!this.region.hasView()&&(!(!this.Dom.hasEl(this.region.currentView.el,t)&&this===e)||void 0)}}),ki={align:"left",direction:"down",left:0,outerHeight:0,outerWidth:0,popWidth:null,top:0,windowPadding:5},Ai=Vi.extend({initialize:function(t){var e=t.$body;this.region=this.getRegion("region"),this.$body=e},onRegionShow:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.a.extend({},ki,n);this.ignoreEl=n.ignoreEl,this.listenTo(Ti,"window:resize",this.empty),this.listenTo(Ei,"change:route",this.empty),this.listenTo(e,"render render:children",r.a.partial(this.setLocation,i)),this.setLocation(i)},onRegionEmpty:function(t,e){this.stopListening(Ti),this.stopListening(Ei),this.stopListening(e)},setLocation:function(t){var e=this.region.currentView,n=e.$el.outerHeight(),i=this.setDirection(n,t),a=t.popWidth||e.$el.outerWidth(),s=this.setAlign(a,t),o={top:r.a.px(i),left:r.a.px(s)};t.popWidth&&(o.width=r.a.px(a)),e.$el.css(o)},setAlign:function(t,e){var n=e.left,i=e.align,a=e.windowPadding,s=e.outerWidth;if("right"===i&&(n+=s-t),n<a)return a;var o=this.$body.width();return n+t>o-a?o-t-a:n},setDirection:function(t,e){var n=e.top,i=e.direction,a=e.windowPadding,s=e.outerHeight,o=this.$body.height();return"down"===i?n+s+t+a>o?(i="forceUp",this.setDirection(t,{top:n,direction:i,windowPadding:a,outerHeight:s})):s+n:(n-=t)>=a?n:"forceUp"===i?o-a-t:(i="down",this.setDirection(t,{top:n,direction:i,windowPadding:a,outerHeight:s}))}}),Ri=Vi.extend({initialize:function(t){var e=t.$body;this.region=this.getRegion("region"),this.$body=e},onRegionShow:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(Ti,"window:resize",this.empty),this.ignoreEl=n.ignoreEl,"horizontal"!==n.orientation?this.setVerticalLocation(n):this.setHorizontalLocation(n)},onRegionEmpty:function(t){this.stopListening(Ti)},addClass:function(t){this.region.currentView.$el.addClass(t)},setTop:function(t){this.region.currentView.$el.css({top:r.a.px(t)})},setLeft:function(t){this.region.currentView.$el.css({left:r.a.px(t)})},setHorizontalLocation:function(t){var e=t.left,n=t.top,i=t.outerWidth,a=t.outerHeight,s=this.region.currentView,o=(e+i)/this.$body.width(),r=(n+a/2)/this.$body.height();r<.25?(this.addClass("is-top"),this.setTop(n+a/2)):r>.75?(this.addClass("is-bottom"),this.setTop(n+a/2-s.$el.outerHeight())):this.setTop(n-s.$el.outerHeight()/2+a/2),o>.6?(this.addClass("is-right-arrow"),this.setLeft(e-s.$el.outerWidth())):(this.addClass("is-left-arrow"),this.setLeft(e+i))},setVerticalLocation:function(t){var e=t.left,n=t.top,i=t.outerWidth,a=t.outerHeight,s=this.region.currentView,o=(e+i/2)/this.$body.width(),r=(n+a)/this.$body.height();o<.15?(this.addClass("is-left"),this.setLeft(e+i/2)):o>.85?(this.addClass("is-right"),this.setLeft(e+i/2-s.$el.outerWidth())):this.setLeft(e-s.$el.outerWidth()/2+i/2),r>.6?(this.addClass("is-bottom-arrow"),this.setTop(n-s.$el.outerHeight())):(this.addClass("is-top-arrow"),this.setTop(n+a))}}),Ii=m.CollectionView.extend({viewComparator:!1,el:"body",initialize:function(){this.regions=[];var t=this.$el;p.a.reply("top-region","contains",this.contains,this),this.appView=new Si,this.addChildView(this.appView),this.addRegionView("tooltip",new Ri({$body:t})),this.addRegionView("alert",new Vi),this.addRegionView("modal",new Di({$body:t})),this.addRegionView("modalSmall",new Di({$body:t})),this.addRegionView("pop",new Ai({$body:t})),this.addRegionView("error",new Vi)},addRegionView:function(t,e){e.name=t,this.addChildView(e),this.regions[t]=e.getRegion("region")},getRegion:function(t){return this.regions[t]},contains:function(t,e){for(var n=this.children.findIndexByView(t),i=this.children.length-1;n<=i;i--){if(this.children.findByIndex(i).contains(e,t))return!0}}}),Ni=s()(document),Oi=kt.extend({initialize:function(){var t;(t=document.documentElement).setAttribute("data-useragent",navigator.userAgent),t.setAttribute("data-platform",navigator.platform)},onBeforeStart:function(t){var e=t.name;new we({name:e}),this.setView(new Ii),this.getView().appView.getRegion("content").startPreloader(),this.configComponents(),this.startServices(),this.setListeners()},configComponents:function(){Ct.setRegion(this.getRegion("tooltip"));var t=this.getRegion("pop");$.setRegion(t),mt.setPopRegion(t),wt.setRegion(t)},startServices:function(){new ve({region:this.getRegion("alert")}),new xe,new Ae({modalRegion:this.getRegion("modal"),modalSmallRegion:this.getRegion("modalSmall")})},setListeners:function(){s()(window).on("resize.app",(function(){p.a.trigger("user-activity","window:resize")})),Ni.on("keydown.app",(function(t){p.a.trigger("user-activity","document:keydown",t)})),this.setMouseListeners()},setMouseListeners:function(){Ni.on("mouseover.app",(function(t){p.a.trigger("user-activity","document:mouseover",t)})),Ni.on("mouseleave.app",(function(t){p.a.trigger("user-activity","document:mouseleave",t)})),s()("body").on("mousedown.app touchstart.app",(function(t){p.a.trigger("user-activity","body:down",t)}))},beforeStart:function(){return p.a.request("bootstrap","fetch")},onStart:function(){new xi({region:this.getRegion("error")}),this.addChildApp("appFrame",vi),this.startChildApp("appFrame",{view:this.getView().appView}),c.a.history.start({pushState:!0}),new be},emptyRegion:function(t){return this.getRegion(t).empty()}});e.default=new Oi},156:function(t,e,n){},164:function(t,e,n){},165:function(t,e,n){},176:function(t,e,n){},180:function(t,e,n){},181:function(t,e,n){},182:function(t,e,n){},186:function(t,e,n){var i={"./pt-br":166,"./pt-br.js":166};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=s,t.exports=a,a.id=186},210:function(t,e,n){},212:function(t,e){},221:function(t,e){},227:function(t,e){},234:function(t,e){t.exports={careOptsFrontend:{components:{datepicker:{clear:"Clear",today:"Today",tomorrow:"Tomorrow"},droplist:{defaultText:"Choose One..."},picklist:{noResultsText:"No results found"}},globals:{alertBox:{alertBoxTemplate:{dismissBtn:"Dismiss",undoBtn:"Undo"}},appNav:{patients:{title:"Patients",allPatients:"All Patients"},views:{title:"Views",myRole:"Actions for {role}",doneLastThirty:"Done < 30 Days",newActions:"New Actions < 24 hrs",ownedByMe:"Actions Owned by Me",updatedPastThree:"Actions Updated < 3 Days"}},error:{errorTemplate:{backBtn:"Back to Previous Page",errorHeader:"Uh-oh.",errorInfo:"This page doesn't exist.",errorMessage:"Something went wrong."}},modal:{modalViews:{modalView:{cancelText:"Cancel",submitText:"Save"}}}},forms:{form:{formViews:{contextBackBtn:"Back"}}},patients:{actions:{actionsViews:{dueComponent:{defaultText:"Select Date..."},durationComponent:{clear:"Clear Duration",defaultText:"Select Duration...",headingText:"Update Duration",placeholderText:"Duration...",unitLabel:"min"},ownerComponent:{headingText:"Update Action Owner",placeholderText:"Owner...",rolesHeadingText:"Roles"},stateComponent:{headingText:"Update Action State"}}},list:{patientsAllViews:{emptyView:"No Patients",layoutView:{groupHeader:"Group",patientHeader:"Patient",title:"All Patients"},tooltip:"This list includes all patients in your group(s). Note: Your organization may contain patients not displayed here due to your group membership(s)."}},patient:{action:{notFound:"The Action you requested does not exist."},dashboard:{dashboardViews:{emptyView:"No Actions",addActionBtn:"Action",dashboardBtn:"Dashboard",dataEventsBtn:"Data & Events",newAction:"New Action"}},dataEvents:{dataEventsViews:{emptyView:"No Data & Events",dashboardBtn:"Dashboard",dataEventsBtn:"Data & Events"}},patientViews:{contextBackBtn:"Back to List"},sidebar:{patientSidebarGroupsTemplate:{groupsLabel:"Groups"},sidebarViews:{dob:"{ dob } &ndash; (Age { age })",dobLabel:"Date of Birth",mrnLabel:"MRN",sex:"{sex, select,\n  m {Male}\n  f {Female}\n  other {}\n}\n",sexLabel:"Sex"}}},sidebar:{action:{actionDetailsTemplate:{placeholder:"Add Details"},actionNameTemplate:{placeholder:"New Action"},actionSidebarTemplate:{activityHeadingText:"Activity Log",dueDateLabel:"Due Date",durationLabel:"Duration",headingText:"Action",ownerLabel:"Owner",stateLabel:"State"},actionSidebarViews:{disabledSaveView:{saveBtn:"Save"},saveView:{cancelBtn:"Cancel",saveBtn:"Save"}},activityViews:{created:"<strong>{ name }</strong> ({ role }) added this Action",createdAt:"Created",clinicianAssigned:"<strong>{ name }</strong> ({ role }) changed the Owner to { to_name }",detailsUpdated:"<strong>{ name }</strong> ({ role }) changed the details of this Action",dueDateUpdated:"<strong>{ name }</strong> ({ role }) changed the Due Date to { date }",durationUpdated:"<strong>{ name }</strong> ({ role }) changed Duration to { duration }",nameUpdated:"<strong>{ name }</strong> ({ role }) changed the name of this Action from { from_name } to { to_name }",roleAssigned:"<strong>{ name }</strong> ({ role }) changed the Owner to { to_role }",stateUpdated:"<strong>{ name }</strong> ({ role }) changed State to { to_state }",systemRole:"System",updatedAt:"Last Updated"},layoutView:{menuOptions:{delete:"Delete Action",headingText:"Action Menu"}}}},view:{viewViews:{emptyView:"No Actions",layoutView:{actionHeader:"Action",attrHeader:"State, Owner, Due Date",patientHeader:"Patient",updatedHeader:"Last Updated"},listTitles:"{title, select,\n  owned_by_me {Actions Owned by Me}\n  actions_for_my_role {Actions for { role }}\n  new_actions {New Actions < 24 hrs}\n  updated_past_three_days {Actions Updated < 3 Days}\n  done_last_thirty_days {Done < 30 Days}\n}\n",listTooltips:"{title, select,\n  owned_by_me {Actions with you as the Owner. States included are To Do and In Progress.}\n  actions_for_my_role {Actions with {role} as the Owner. States included are To Do and In Progress.}\n  new_actions {Actions created in the last 24 hours by any clinician in your Group(s). States included are To Do and In Progress.}\n  updated_past_three_days {Actions updated in the last 3 days by any clinician in your Group(s). States included are To Do and In Progress.}\n  done_last_thirty_days {Actions set to Done by any clinician in your Group(s) in the last 30 days.}\n}\n"}}},regions:{preload:{loading:"Loading..."}}},locales:"en-US"}},235:function(t,e,n){},236:function(t,e,n){},237:function(t,e,n){},238:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return' <button class="alert-box__link js-undo" type="button">'+t.escapeExpression(t.lambda((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.alertBox)&&s.alertBoxTemplate)&&s.undoBtn,e))+"</button>"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return'<div class="alert-box__icon '+c("function"==typeof(o=null!=(o=n.type||(null!=e?e.type:e))?o:l)?o.call(r,{name:"type",hash:{},data:a}):o)+'">\n  '+c((n.far||e&&e.far||l).call(r,null!=e?e.iconType:e,{name:"far",hash:{},data:a}))+'\n</div>\n<div class="alert-box__body">\n  '+c("function"==typeof(o=null!=(o=n.text||(null!=e?e.text:e))?o:l)?o.call(r,{name:"text",hash:{},data:a}):o)+(null!=(s="function"==typeof(o=null!=(o=n.html||(null!=e?e.html:e))?o:l)?o.call(r,{name:"html",hash:{},data:a}):o)?s:"")+(null!=(s=n.if.call(r,null!=e?e.hasUndo:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'\n</div>\n<button class="alert-box__cancel js-dismiss" type="button">'+c(t.lambda((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.alertBox)&&s.alertBoxTemplate)&&s.dismissBtn,e))+"</button>\n"},useData:!0})},239:function(t,e,n){},241:function(t,e,n){},242:function(t,e,n){},243:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression;return'<div class="modal-header">\n  <div data-header-region>\n    <h6 class="modal-heading">'+u(typeof(o=null!=(o=n.headingText||(null!=e?e.headingText:e))?o:l)===c?o.call(r,{name:"headingText",hash:{},data:a}):o)+'</h6>\n  </div>\n  <a href="#" class="modal-close js-close">'+u((n.fas||e&&e.fas||l).call(r,"times",{name:"fas",hash:{},data:a}))+'</a>\n</div>\n\n<div class="modal-body" data-body-region>\n  <div class="'+u(typeof(o=null!=(o=n.bodyClass||(null!=e?e.bodyClass:e))?o:l)===c?o.call(r,{name:"bodyClass",hash:{},data:a}):o)+'">'+u(typeof(o=null!=(o=n.bodyText||(null!=e?e.bodyText:e))?o:l)===c?o.call(r,{name:"bodyText",hash:{},data:a}):o)+(null!=(s=typeof(o=null!=(o=n.bodyHTML||(null!=e?e.bodyHTML:e))?o:l)===c?o.call(r,{name:"bodyHTML",hash:{},data:a}):o)?s:"")+'</div>\n</div>\n\n<div class="modal-footer" data-footer-region>\n  <div class="u-float--right">\n    <a href="#" class="modal-cancel js-close">'+u(typeof(o=null!=(o=n.cancelText||(null!=e?e.cancelText:e))?o:l)===c?o.call(r,{name:"cancelText",hash:{},data:a}):o)+'</a>\n    <button type="submit" class="'+u(typeof(o=null!=(o=n.buttonClass||(null!=e?e.buttonClass:e))?o:l)===c?o.call(r,{name:"buttonClass",hash:{},data:a}):o)+' js-submit">'+u(typeof(o=null!=(o=n.submitText||(null!=e?e.submitText:e))?o:l)===c?o.call(r,{name:"submitText",hash:{},data:a}):o)+"</button>\n  </div>\n</div>\n"},useData:!0})},244:function(t,e,n){},245:function(t,e,n){},246:function(t,e,n){},247:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'  <div class="u-margin--t-24">\n    <h3 class="action-sidebar__heading">'+t.escapeExpression(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarTemplate)&&s.activityHeadingText,e))+'</h3>\n    <div class="u-margin--t-8 action-sidebar__activity" data-activity-region></div>\n  </div>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.lambda,r=t.escapeExpression,l=null!=e?e:t.nullContext||{},c=t.hooks.helperMissing;return'<div class="flex-grow">\n  <div class="flex">\n    <div class="flex-grow">\n      <h3 class="action-sidebar__heading">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarTemplate)&&s.headingText,e))+'</h3>\n    </div>\n    <div>\n      <button class="button--icon u-margin--r-8 js-menu">'+r((n.far||e&&e.far||c).call(l,"ellipsis-h",{name:"far",hash:{},data:a}))+'</button>\n      <button class="button--icon js-close">'+r((n.fas||e&&e.fas||c).call(l,"times",{name:"fas",hash:{},data:a}))+'</button>\n    </div>\n  </div>\n  <div class="u-margin--t-16">\n    <div data-name-region></div>\n    <div class="u-margin--t-8" data-details-region></div>\n    <div data-save-region></div>\n\n    <div class="flex u-margin--t-16"><h4 class="action-sidebar__label u-margin--t-8">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarTemplate)&&s.stateLabel,e))+'</h4><div class="flex-grow" data-state-region></div></div>\n    <div class="flex u-margin--t-8"><h4 class="action-sidebar__label u-margin--t-8">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarTemplate)&&s.ownerLabel,e))+'</h4><div class="flex-grow" data-owner-region></div></div>\n    <div class="flex u-margin--t-8"><h4 class="action-sidebar__label u-margin--t-8">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarTemplate)&&s.dueDateLabel,e))+'</h4><div class="flex-grow" data-due-region></div></div>\n    <div class="flex u-margin--t-8"><h4 class="action-sidebar__label u-margin--t-8">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionSidebarTemplate)&&s.durationLabel,e))+'</h4><div class="flex-grow" data-duration-region></div></div>\n  </div>\n'+(null!=(s=n.unless.call(l,null!=e?e.isNew:e,{name:"unless",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"</div>\n<div data-timestamps-region></div>\n"},useData:!0})},248:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({1:function(t,e,n,i,a){return" disabled"},3:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return' placeholder="'+t.escapeExpression(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionNameTemplate)&&s.placeholder,e))+'"'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return'<textarea class="input-primary textarea-flex__input js-input"'+(null!=(s=n.if.call(r,null!=e?e.isDone:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+(null!=(s=n.if.call(r,null!=e?e.isNew:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+">"+c("function"==typeof(o=null!=(o=n.name||(null!=e?e.name:e))?o:l)?o.call(r,{name:"name",hash:{},data:a}):o)+'</textarea>\n<div class="textarea-flex__container input-primary js-spacer">'+c("function"==typeof(o=null!=(o=n.name||(null!=e?e.name:e))?o:l)?o.call(r,{name:"name",hash:{},data:a}):o)+" </div>\n"},useData:!0})},249:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({1:function(t,e,n,i,a){return" disabled"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.escapeExpression,c=t.hooks.helperMissing;return'<textarea class="input-secondary textarea-flex__input js-input"'+(null!=(s=n.if.call(r,null!=e?e.isDone:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+' placeholder="'+l(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.sidebar)&&s.action)&&s.actionDetailsTemplate)&&s.placeholder,e))+'">'+l("function"==typeof(o=null!=(o=n.details||(null!=e?e.details:e))?o:c)?o.call(r,{name:"details",hash:{},data:a}):o)+'</textarea>\n<div class="textarea-flex__container input-secondary action-sidebar__details js-spacer">'+l("function"==typeof(o=null!=(o=n.details||(null!=e?e.details:e))?o:c)?o.call(r,{name:"details",hash:{},data:a}):o)+" </div>\n"},useData:!0})},251:function(t,e,n){},252:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({1:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return"<em>"+t.escapeExpression(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dashboard)&&s.dashboardViews)&&s.newAction,e))+"</em>"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o,r=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c=t.escapeExpression;return'<td class="table-list__cell w-40">\n  <span class="patient__action-icon">'+c((n.far||e&&e.far||l).call(r,"file-alt",{name:"far",hash:{},data:a}))+"</span>"+c("function"==typeof(o=null!=(o=n.name||(null!=e?e.name:e))?o:l)?o.call(r,{name:"name",hash:{},data:a}):o)+(null!=(s=n.unless.call(r,null!=e?e.name:e,{name:"unless",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'</td>\n<td class="table-list__cell w-60">\n  <span class="table-list__meta" data-state-region></span><span class="table-list__meta" data-owner-region></span><span class="table-list__meta" data-due-region></span>\n  <span class="patient__action-ts">'+c((n.formatMoment||e&&e.formatMoment||l).call(r,null!=e?e.updated_at:e,"TIME_OR_DAY",{name:"formatMoment",hash:{},data:a}))+"</span>\n</td>\n"},useData:!0})},253:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.lambda,r=t.escapeExpression;return'<div>\n  <span class="patient__tab--selected">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dashboard)&&s.dashboardViews)&&s.dashboardBtn,e))+'</span>\n  <button class="patient__tab js-data-events">'+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dashboard)&&s.dashboardViews)&&s.dataEventsBtn,e))+'</button>\n</div>\n<div class="patient__actions">\n  <button class="button-primary js-add">'+r((n.far||e&&e.far||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"plus-circle",{name:"far",hash:{},data:a}))+r(o((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.dashboard)&&s.dashboardViews)&&s.addActionBtn,e))+"</button>\n</div>\n<div data-content-region></div>\n"},useData:!0})},254:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.escapeExpression;return'<h1 class="patient-sidebar__name">'+l("function"==typeof(s=null!=(s=n.first_name||(null!=e?e.first_name:e))?s:r)?s.call(o,{name:"first_name",hash:{},data:a}):s)+" "+l("function"==typeof(s=null!=(s=n.last_name||(null!=e?e.last_name:e))?s:r)?s.call(o,{name:"last_name",hash:{},data:a}):s)+"</h1>\n<div data-info-region></div>\n<div data-groups-region></div>\n"},useData:!0})},255:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({1:function(t,e,n,i,a){return"  <div>"+t.escapeExpression(t.lambda(null!=e?e.name:e,e))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s;t.propertyIsEnumerable;return'<div class="patient-sidebar__heading">'+t.escapeExpression(t.lambda((s=(s=(s=(s=(s=a&&a.intl)&&s.patients)&&s.patient)&&s.sidebar)&&s.patientSidebarGroupsTemplate)&&s.groupsLabel,e))+'</div>\n<div class="patient-sidebar__item">\n'+(null!=(s=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.groups:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"</div>\n"},useData:!0})},256:function(t,e,n){},257:function(t,e,n){},258:function(t,e,n){},259:function(t,e,n){var i=n(150);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){t.propertyIsEnumerable;var s,o=t.lambda,r=t.escapeExpression;return'<div class="error-page__contains">\n  <div class="error-page__wrap">\n    <div class="error-page__dialog">\n      <div class="error-page__section">\n        <svg class="svg needs-attention u-margin--b-4" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32">\n          <g></g>\n          <path d="M14.983 6.713c0.562-0.951 1.472-0.951 2.034 0l12.738 17.565c0.562 0.951 0.123 1.722-0.982 1.722h-25.548c-1.104 0-1.544-0.771-0.982-1.722l12.738-17.565z" fill="#E65140" />\n        </svg>\n\n        <h2 class="error-page__heading">'+r(o((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.error)&&s.errorTemplate)&&s.errorHeader,e))+'</h2>\n      </div>\n      <div class="error-page__section">\n        <p>\n          '+r(o((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.error)&&s.errorTemplate)&&s.errorMessage,e))+"<br>\n          "+r(o((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.error)&&s.errorTemplate)&&s.errorInfo,e))+'\n        </p>\n        <a class="js-back button--blue u-margin--t-16">'+r(o((s=(s=(s=(s=a&&a.intl)&&s.globals)&&s.error)&&s.errorTemplate)&&s.backBtn,e))+'</a>\n      </div>\n    </div>\n    <svg class="svg roundingwell-logo u-margin--t-16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="116" height="21" viewBox="0 0 185 32">\n      <g></g>\n      <path d="M40.975 11.456c-1.339 0.082-2.624 0.683-3.499 1.995v8.501c0 0.547-0.465 1.011-1.039 1.011h-0.027c-0.547-0.027-0.984-0.465-0.984-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.312c0.793-1.039 2.105-2.351 3.635-2.351 0.492 0 0.929 0.41 0.929 0.957 0 0.602-0.465 1.093-1.066 1.121z" fill="#cccccc" />\n      <path d="M49.53 23.128c-4.018 0-6.533-3.116-6.533-6.943 0-3.827 2.515-6.916 6.533-6.916s6.533 3.089 6.533 6.916c0 3.826-2.514 6.943-6.533 6.943zM49.53 11.101c-2.815 0-4.401 2.406-4.401 5.084 0 2.706 1.585 5.111 4.401 5.111 2.815 0 4.373-2.406 4.373-5.111 0-2.679-1.558-5.084-4.373-5.084z" fill="#cccccc" />\n      <path d="M68.636 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.011c-1.011 1.148-2.733 2.187-4.701 2.187-2.761 0-4.209-1.34-4.209-4.21v-8.501c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v7.872c0 2.323 1.175 3.007 2.952 3.007 1.613 0 3.143-0.929 3.909-1.995v-8.883c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v11.535c0 0.546-0.465 1.011-1.039 1.011z" fill="#cccccc" />\n      <path d="M83.013 22.964c-0.547 0-1.011-0.465-1.011-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.465 1.011-1.039 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.093c0.929-1.093 2.733-2.242 4.701-2.242 2.761 0 4.21 1.394 4.21 4.264v8.419c-0 0.547-0.465 1.012-1.039 1.012z" fill="#cccccc" />\n      <path d="M98.046 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.121c-0.984 1.34-2.597 2.296-4.455 2.296-3.444 0-5.877-2.624-5.877-6.915 0-4.21 2.405-6.943 5.877-6.943 1.777 0 3.389 0.875 4.455 2.324v-6.205c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v16.564c0 0.547-0.464 1.012-1.038 1.012zM97.035 13.233c-0.738-1.148-2.324-2.132-3.964-2.132-2.651 0-4.237 2.187-4.237 5.112 0 2.924 1.585 5.084 4.237 5.084 1.64 0 3.226-0.929 3.964-2.077v-5.986z" fill="#cccccc" />\n      <path d="M103.512 22.964c-0.546 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.535c0 0.547-0.465 1.012-1.039 1.012z" fill="#cccccc" />\n      <path d="M117.89 22.964c-0.547 0-1.012-0.465-1.012-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.464 1.011-1.038 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v1.093c0.93-1.093 2.734-2.242 4.702-2.242 2.76 0 4.209 1.394 4.209 4.264v8.419c0 0.547-0.464 1.012-1.038 1.012z" fill="#cccccc" />\n      <path d="M127.647 28.157c-1.941 0-3.499-0.355-4.947-1.585-0.191-0.164-0.301-0.41-0.301-0.684 0-0.465 0.41-0.875 0.902-0.875 0.218 0 0.41 0.055 0.574 0.191 1.039 0.929 2.214 1.257 3.772 1.257 2.187 0 4.237-1.066 4.237-3.964v-1.886c-0.957 1.34-2.57 2.351-4.428 2.351-3.444 0-5.876-2.569-5.876-6.833 0-4.237 2.405-6.861 5.876-6.861 1.777 0 3.362 0.875 4.428 2.324v-1.175c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.999c0 4.373-3.061 5.74-6.286 5.74zM131.884 13.233c-0.711-1.148-2.296-2.132-3.936-2.132-2.652 0-4.237 2.105-4.237 5.030 0 2.897 1.585 5.029 4.237 5.029 1.64 0 3.225-1.011 3.936-2.16v-5.767z" fill="#cccccc" />\n      <path d="M155.309 11.237l-3.198 10.332c-0.246 0.82-1.039 1.394-1.886 1.394h-0.055c-0.875 0-1.64-0.574-1.886-1.394l-2.652-8.391-2.651 8.391c-0.246 0.82-1.039 1.394-1.913 1.394h-0.055c-0.848 0-1.613-0.574-1.859-1.394l-3.225-10.332c-0.027-0.137-0.055-0.273-0.055-0.41 0-0.684 0.574-1.394 1.449-1.394 0.629 0 1.23 0.41 1.394 1.011l2.515 8.665 2.788-8.528c0.219-0.683 0.848-1.148 1.64-1.148 0.711 0 1.34 0.465 1.585 1.148l2.788 8.528 2.514-8.665c0.164-0.601 0.766-1.011 1.395-1.011 0.847 0 1.449 0.656 1.449 1.394-0.001 0.137-0.028 0.273-0.083 0.41z" fill="#cccccc" />\n      <path d="M168.073 17.141h-8.692c0.191 1.968 1.695 3.635 4.155 3.635 0.956 0 2.049-0.3 2.952-0.875 0.191-0.109 0.41-0.164 0.601-0.164 0.602 0 1.23 0.492 1.23 1.202 0 1.503-3.389 2.187-5.084 2.187-3.964 0-6.915-2.761-6.915-6.943 0-3.827 2.788-6.916 6.697-6.916 3.089 0 5.33 1.859 6.15 4.701 0.164 0.547 0.328 1.175 0.328 1.749 0 0.765-0.629 1.421-1.421 1.421zM163.017 11.62c-2.406 0-3.526 1.913-3.663 3.499h7.326c-0.055-1.53-1.094-3.499-3.663-3.499z" fill="#cccccc" />\n      <path d="M173.129 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z" fill="#cccccc" />\n      <path d="M179.060 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z" fill="#cccccc" />\n      <path d="M28.781 14.834c-0.117-1.519-0.498-3.012-1.117-4.385-0.618-1.374-1.471-2.627-2.501-3.694-1.030-1.068-2.235-1.949-3.546-2.598-1.311-0.651-2.727-1.067-4.16-1.23-1.432-0.164-2.878-0.081-4.264 0.24-1.385 0.321-2.702 0.883-3.877 1.644-1.175 0.761-2.208 1.719-3.046 2.814-0.838 1.094-1.481 2.325-1.893 3.618-0.414 1.293-0.596 2.648-0.55 3.983l0.263 0.003c0.076-1.305 0.375-2.585 0.879-3.768 0.503-1.183 1.208-2.268 2.067-3.196 0.858-0.929 1.87-1.701 2.971-2.277 1.102-0.576 2.294-0.955 3.505-1.118 1.209-0.164 2.442-0.116 3.617 0.132 1.176 0.247 2.296 0.697 3.299 1.318 1.004 0.62 1.89 1.411 2.614 2.318 0.724 0.907 1.283 1.93 1.649 3.006 0.367 1.076 0.54 2.204 0.521 3.323-0.020 1.122-0.23 2.224-0.617 3.247-0.386 1.024-0.949 1.969-1.648 2.787-0.699 0.818-1.534 1.507-2.449 2.031-0.915 0.525-1.91 0.883-2.925 1.061-1.014 0.178-2.057 0.177-3.060 0.007-1.001-0.169-1.954-0.509-2.815-0.996-0.295-0.167-0.578-0.352-0.85-0.551l4.686-7.132-0.102-0.083-10.27 10.316 0.106 0.099c0.083 0.076 0.156 0.142 0.236 0.211 0.157 0.137 0.318 0.271 0.48 0.401 0.326 0.261 0.662 0.506 1.008 0.737 0.201 0.134 0.405 0.263 0.613 0.386 0.506 0.302 1.029 0.573 1.566 0.81 1.513 0.669 3.135 1.066 4.76 1.18 0.813 0.057 1.622 0.045 2.428-0.035 0.805-0.080 1.603-0.229 2.379-0.445 1.554-0.431 3.020-1.132 4.315-2.052 1.296-0.918 2.423-2.054 3.321-3.338 0.9-1.283 1.572-2.715 1.978-4.21 0.408-1.495 0.548-3.048 0.429-4.565z" fill="#cccccc" />\n    </svg>\n  </div>\n</div>\n'},useData:!0})},260:function(t,e,n){},261:function(t,e,n){},262:function(t,e,n){}}]);